{"ast":null,"code":"'use strict';\n\nvar stub = require('./stub');\nvar parse = require('./parse');\nvar tracking = require('./tracking');\nvar ls = 'localStorage' in global && global.localStorage ? global.localStorage : stub;\nfunction accessor(key, value) {\n  if (arguments.length === 1) {\n    return get(key);\n  }\n  return set(key, value);\n}\nfunction get(key) {\n  const raw = ls.getItem(key);\n  const parsed = parse(raw);\n  return parsed;\n}\nfunction set(key, value) {\n  try {\n    ls.setItem(key, JSON.stringify(value));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction remove(key) {\n  return ls.removeItem(key);\n}\nfunction clear() {\n  return ls.clear();\n}\nfunction backend(store) {\n  store && (ls = store);\n  return ls;\n}\naccessor.set = set;\naccessor.get = get;\naccessor.remove = remove;\naccessor.clear = clear;\naccessor.backend = backend;\naccessor.on = tracking.on;\naccessor.off = tracking.off;\nmodule.exports = accessor;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}