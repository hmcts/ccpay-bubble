{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Component, Inject, Input, Output, Pipe, forwardRef, ViewChild, NgModule } from '@angular/core';\nimport { BehaviorSubject, throwError } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule, formatDate } from '@angular/common';\nimport * as i1 from '@angular/common/http';\nimport { HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport * as i2 from '@angular/platform-browser';\nimport { catchError } from 'rxjs/operators';\nimport * as i1$1 from '@angular/forms';\nimport { FormControl, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport * as i1$2 from '@angular/router';\nimport * as i5 from '@angular/material/table';\nimport { MatTableDataSource, MatTableModule } from '@angular/material/table';\nimport * as i7 from '@angular/material/sort';\nimport { MatSort, MatSortModule } from '@angular/material/sort';\nimport * as i6 from '@angular/material/paginator';\nimport { MatPaginator, MatPaginatorModule } from '@angular/material/paginator';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nfunction ContactDetailsComponent_div_14_p_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a email address.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_14_p_8_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid email address.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_14_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_14_p_8_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_14_p_8_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isEmailEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.emailHasError);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"inline-error-class\": a0\n  };\n};\nfunction ContactDetailsComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"form\", 19)(2, \"div\", 2)(3, \"label\", 20)(4, \"span\", 21);\n    i0.ɵɵtext(5, \"Information about this refund will be sent to this email address.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"div\", 22)(7, \"input\", 23);\n    i0.ɵɵtemplate(8, ContactDetailsComponent_div_14_p_8_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.emailAddressForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.addressObj == null ? null : ctx_r0.addressObj.contact_details == null ? null : ctx_r0.addressObj.contact_details.email);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r0.isEmailEmpty || ctx_r0.emailHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isEmailEmpty || ctx_r0.emailHasError);\n  }\n}\nfunction ContactDetailsComponent_div_19_p_9_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a postcode.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_19_p_9_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid postcode.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_19_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_19_p_9_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_19_p_9_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.isPostcodeEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.postcodeHasError);\n  }\n}\nfunction ContactDetailsComponent_div_19_div_13_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const address_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", address_r12.DPA);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", address_r12.DPA.ADDRESS, \"\");\n  }\n}\nfunction ContactDetailsComponent_div_19_div_13_p_5_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select an address.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_19_div_13_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_19_div_13_p_5_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isAddressBoxEmpty);\n  }\n}\nfunction ContactDetailsComponent_div_19_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"label\", 39);\n    i0.ɵɵtext(2, \" Pick an address \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactDetailsComponent_div_19_div_13_Template_select_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.postcodeAddress = $event);\n    });\n    i0.ɵɵtemplate(4, ContactDetailsComponent_div_19_div_13_option_4_Template, 2, 2, \"option\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ContactDetailsComponent_div_19_div_13_p_5_Template, 2, 1, \"p\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.postcodeAddress)(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r7.isAddressBoxEmpty));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.addressPostcodeList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.isAddressBoxEmpty);\n  }\n}\nfunction ContactDetailsComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"form\", 19)(2, \"label\", 28)(3, \"span\", 21);\n    i0.ɵɵtext(4, \"Information about this refund will be sent to this address.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"Postcode \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 29)(7, \"div\", 30);\n    i0.ɵɵelement(8, \"input\", 31);\n    i0.ɵɵtemplate(9, ContactDetailsComponent_div_19_p_9_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 15)(11, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ContactDetailsComponent_div_19_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.postcodeValidation(\"FA\"));\n    });\n    i0.ɵɵtext(12, \" Find address \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(13, ContactDetailsComponent_div_19_div_13_Template, 6, 6, \"div\", 33);\n    i0.ɵɵelementStart(14, \"details\", 34)(15, \"summary\", 35)(16, \"span\", 36)(17, \"a\", 37);\n    i0.ɵɵlistener(\"click\", function ContactDetailsComponent_div_19_Template_a_click_17_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.selectContactOption(\"Postcode\", \"true\"));\n    });\n    i0.ɵɵtext(18, \" Enter address manually\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.postCodeForm);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx_r1.isPostcodeEmpty || ctx_r1.postcodeHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isPostcodeEmpty || ctx_r1.postcodeHasError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isShowPickAddress);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_10_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a Building and street.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_10_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid Building and street.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_10_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_20_p_10_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.isaddressLine1Empty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.addressLine1HasError);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_16_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid Building and street line 2 of 2.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_16_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.addressLine2HasError);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_21_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a town or city.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_21_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a town or city.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_21_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_20_p_21_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.isTownOrCityEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.townOrCityHasError);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_26_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a County.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_26_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid County.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_26_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_20_p_26_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.isCountyEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.countyHasError);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_31_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a postcode.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_31_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid postcode.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_31_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵtemplate(2, ContactDetailsComponent_div_20_p_31_span_2_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.isMPostcodeEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.mpostcodeHasError);\n  }\n}\nfunction ContactDetailsComponent_div_20_p_40_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Select a Country.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ContactDetailsComponent_div_20_p_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtemplate(1, ContactDetailsComponent_div_20_p_40_span_1_Template, 2, 0, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.isCountryEmpty);\n  }\n}\nfunction ContactDetailsComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"form\", 19)(2, \"div\", 2)(3, \"label\", 44)(4, \"span\", 21);\n    i0.ɵɵtext(5, \"Information about this refund will be sent to this address.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"Building and street \");\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8, \"line 1 of 2\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(9, \"input\", 46);\n    i0.ɵɵtemplate(10, ContactDetailsComponent_div_20_p_10_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 47)(13, \"span\", 48);\n    i0.ɵɵtext(14, \"Building and street line 2 of 2\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(15, \"input\", 49);\n    i0.ɵɵtemplate(16, ContactDetailsComponent_div_20_p_16_Template, 2, 1, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 2)(18, \"label\", 50);\n    i0.ɵɵtext(19, \" Town or city \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 51);\n    i0.ɵɵtemplate(21, ContactDetailsComponent_div_20_p_21_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 2)(23, \"label\", 52);\n    i0.ɵɵtext(24, \" County \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 53);\n    i0.ɵɵtemplate(26, ContactDetailsComponent_div_20_p_26_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 2)(28, \"label\", 28);\n    i0.ɵɵtext(29, \" Postcode \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(30, \"input\", 54);\n    i0.ɵɵtemplate(31, ContactDetailsComponent_div_20_p_31_Template, 3, 2, \"p\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 2)(33, \"label\", 39);\n    i0.ɵɵtext(34, \" Country \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"select\", 55)(36, \"option\", 56);\n    i0.ɵɵtext(37, \"Please select\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"option\", 57);\n    i0.ɵɵtext(39, \"United Kingdom\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(40, ContactDetailsComponent_div_20_p_40_Template, 2, 1, \"p\", 24);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.manualAddressForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.addressObj == null ? null : ctx_r2.addressObj.contact_details == null ? null : ctx_r2.addressObj.contact_details.address_line);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx_r2.isaddressLine1Empty || ctx_r2.addressLine1HasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isaddressLine1Empty || ctx_r2.addressLine1HasError);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(20, _c0, ctx_r2.addressLine2HasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.addressLine2HasError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.addressObj == null ? null : ctx_r2.addressObj.contact_details == null ? null : ctx_r2.addressObj.contact_details.city);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(22, _c0, ctx_r2.isTownOrCityEmpty || ctx_r2.townOrCityHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isTownOrCityEmpty || ctx_r2.townOrCityHasError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.addressObj == null ? null : ctx_r2.addressObj.contact_details == null ? null : ctx_r2.addressObj.contact_details.county);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(24, _c0, ctx_r2.isCountyEmpty || ctx_r2.countyHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isCountyEmpty || ctx_r2.countyHasError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.addressObj == null ? null : ctx_r2.addressObj.contact_details == null ? null : ctx_r2.addressObj.contact_details.postal_code);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c0, ctx_r2.isMPostcodeEmpty || ctx_r2.mpostcodeHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isMPostcodeEmpty || ctx_r2.mpostcodeHasError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(28, _c0, ctx_r2.isCountryEmpty));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"selected\", (ctx_r2.addressObj == null ? null : ctx_r2.addressObj.contact_details == null ? null : ctx_r2.addressObj.contact_details.country) ? \"selected\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isCountryEmpty);\n  }\n}\nfunction NotificationPreviewComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 4)(2, \"td\", 5)(3, \"span\", 6);\n    i0.ɵɵtext(4, \"From:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"tr\", 4)(7, \"td\", 5)(8, \"span\", 6);\n    i0.ɵɵtext(9, \"To:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\", 4)(12, \"td\", 5)(13, \"span\", 6);\n    i0.ɵɵtext(14, \"Subject:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"tr\", 4)(17, \"td\", 5);\n    i0.ɵɵelement(18, \"div\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.notification == null ? null : ctx_r0.notification.from == null ? null : ctx_r0.notification.from.from_email_address, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.notification == null ? null : ctx_r0.notification.recipient_contact == null ? null : ctx_r0.notification.recipient_contact.recipient_email_address, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.notification == null ? null : ctx_r0.notification.subject, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r0.notification == null ? null : ctx_r0.notification.html, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction NotificationPreviewComponent_ng_container_4_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.notification == null ? null : ctx_r2.notification.recipient_contact == null ? null : ctx_r2.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r2.notification.recipient_contact.recipient_mail_address.address_line, \"\");\n  }\n}\nfunction NotificationPreviewComponent_ng_container_4_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.notification == null ? null : ctx_r3.notification.recipient_contact == null ? null : ctx_r3.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r3.notification.recipient_contact.recipient_mail_address.city, \"\");\n  }\n}\nfunction NotificationPreviewComponent_ng_container_4_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.notification == null ? null : ctx_r4.notification.recipient_contact == null ? null : ctx_r4.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r4.notification.recipient_contact.recipient_mail_address.county, \"\");\n  }\n}\nfunction NotificationPreviewComponent_ng_container_4_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.notification == null ? null : ctx_r5.notification.recipient_contact == null ? null : ctx_r5.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r5.notification.recipient_contact.recipient_mail_address.country, \"\");\n  }\n}\nfunction NotificationPreviewComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 4)(2, \"td\", 8);\n    i0.ɵɵtemplate(3, NotificationPreviewComponent_ng_container_4_ng_container_3_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(4, NotificationPreviewComponent_ng_container_4_ng_container_4_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(5, NotificationPreviewComponent_ng_container_4_ng_container_5_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵtemplate(6, NotificationPreviewComponent_ng_container_4_ng_container_6_Template, 3, 1, \"ng-container\", 3);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"tr\", 4)(9, \"td\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 4)(13, \"td\", 8)(14, \"span\", 6);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tr\", 4)(17, \"td\", 5);\n    i0.ɵɵelement(18, \"div\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.notification == null ? null : ctx_r1.notification.recipient_contact == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address.address_line);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.notification == null ? null : ctx_r1.notification.recipient_contact == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address.city);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.notification == null ? null : ctx_r1.notification.recipient_contact == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address.county);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.notification == null ? null : ctx_r1.notification.recipient_contact == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address.country);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.notification == null ? null : ctx_r1.notification.recipient_contact == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address == null ? null : ctx_r1.notification.recipient_contact.recipient_mail_address.postal_code, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 8, ctx_r1.today, \"d MMMM y\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.notification == null ? null : ctx_r1.notification.subject);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r1.notification == null ? null : ctx_r1.notification.body, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_0_thead_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"thead\", 5);\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_0_tr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 6)(1, \"td\", 7);\n    i0.ɵɵtext(2, \" Unallocated \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"td\", 8)(7, \"td\", 8)(8, \"td\", 8)(9, \"td\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unassignedRecord_r5 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(5, 1, unassignedRecord_r5.amount, \"GBP\", \"symbol\", \"1.2-2\"), \"\");\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 1);\n    i0.ɵɵtemplate(2, UnprocessedPaymentsComponent_ng_container_0_thead_2_Template, 1, 0, \"thead\", 2);\n    i0.ɵɵelementStart(3, \"tbody\", 3);\n    i0.ɵɵtemplate(4, UnprocessedPaymentsComponent_ng_container_0_tr_4_Template, 10, 6, \"tr\", 4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.PAYMENTSLENGTH === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.unassignedRecordList);\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_8_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const unassignedRecord_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.redirectToFeeSearchPage($event, unassignedRecord_r9.dcn_reference));\n    });\n    i0.ɵɵtext(2, \" Allocate to new service request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_8_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const unassignedRecord_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.goToAllocatePage(unassignedRecord_r9.dcn_reference));\n    });\n    i0.ɵɵtext(5, \" Allocate to existing service request \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.isAllocatedToNewFeebtnEnabled)(\"ngClass\", !ctx_r11.isAllocatedToNewFeebtnEnabled ? \"button govuk-button--secondary button--disabled\" : \"button govuk-button--secondary\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.isAllocateToExistingFeebtnEnabled)(\"ngClass\", !ctx_r11.isAllocateToExistingFeebtnEnabled ? \"button govuk-button--secondary button--disabled\" : \"button govuk-button--secondary\");\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"dl\", 30)(2, \"div\", 31)(3, \"dt\", 32);\n    i0.ɵɵtext(4, \" Method \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"dd\", 33);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"lowercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 31)(9, \"dt\", 32);\n    i0.ɵɵtext(10, \" Payment assest number (DCN) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"dd\", 33);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 34)(14, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_14_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const unassignedRecord_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.loadUnsolicitedPage(\"unidentifiedPage\", unassignedRecord_r9.dcn_reference));\n    });\n    i0.ɵɵtext(15, \" Mark as unidentified \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\")(17, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_14_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const unassignedRecord_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.loadUnsolicitedPage(\"unsolicitedPage\", unassignedRecord_r9.dcn_reference));\n    });\n    i0.ɵɵtext(18, \" Mark as transferred \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const unassignedRecord_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 6, ctx_r12.trimUnderscore(unassignedRecord_r9.payment_method)), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", unassignedRecord_r9.dcn_reference, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r12.isMarkAsUnidentifiedbtnEnabled)(\"ngClass\", !ctx_r12.isMarkAsUnidentifiedbtnEnabled ? \"button govuk-button--secondary button--disabled\" : \"button govuk-button--secondary\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r12.isUnprocessedRecordSelected)(\"ngClass\", !ctx_r12.isUnprocessedRecordSelected ? \"button govuk-button--secondary button--disabled\" : \"button govuk-button--secondary\");\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_1_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\", 19);\n    i0.ɵɵtext(3, \" Unallocated \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 20);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 21);\n    i0.ɵɵtemplate(8, UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_8_Template, 6, 4, \"div\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"tr\")(10, \"td\", 23)(11, \"summary\", 24);\n    i0.ɵɵlistener(\"click\", function UnprocessedPaymentsComponent_ng_container_1_ng_container_18_Template_summary_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const unassignedRecord_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(unassignedRecord_r9.expanded = !unassignedRecord_r9.expanded);\n    });\n    i0.ɵɵelementStart(12, \"span\", 25);\n    i0.ɵɵtext(13, \" More details and actions \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, UnprocessedPaymentsComponent_ng_container_1_ng_container_18_div_14_Template, 19, 8, \"div\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const unassignedRecord_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(6, 3, unassignedRecord_r9.amount, \"GBP\", \"symbol\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.IS_BUTTON_ENABLE && !ctx_r8.isTurnOff);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", unassignedRecord_r9.expanded);\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelement(2, \"input\", 10, 11);\n    i0.ɵɵelementStart(4, \"table\", 12)(5, \"thead\", 5)(6, \"tr\", 6)(7, \"td\", 13);\n    i0.ɵɵtext(8, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 14);\n    i0.ɵɵtext(10, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 15);\n    i0.ɵɵtext(12, \"Date allocated\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 16);\n    i0.ɵɵtext(14, \"Request reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"td\", 13)(16, \"td\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, UnprocessedPaymentsComponent_ng_container_1_ng_container_18_Template, 15, 8, \"ng-container\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.unassignedRecordList);\n  }\n}\nfunction UnprocessedPaymentsComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction RefundStatusComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 1)(2, \"h2\", 2);\n    i0.ɵɵtext(3, \" Error in processing the request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_1_tbody_15_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 6)(1, \"td\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 17);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 16);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 16)(14, \"a\", 18);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_1_tbody_15_tr_1_Template_a_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const refundList_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r16.goToRefundView(refundList_r15, \"casetransactions\"));\n    });\n    i0.ɵɵtext(15, \"Review\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const refundList_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(refundList_r15 == null ? null : refundList_r15.refund_status[\"name\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(5, 5, refundList_r15 == null ? null : refundList_r15.amount, \".2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(8, 8, refundList_r15 == null ? null : refundList_r15.date_updated, \"dd MMM yyyy\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(refundList_r15 == null ? null : refundList_r15.refund_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", refundList_r15 == null ? null : refundList_r15.reason, \"\");\n  }\n}\nfunction RefundStatusComponent_ng_container_1_tbody_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 14);\n    i0.ɵɵtemplate(1, RefundStatusComponent_ng_container_1_tbody_15_tr_1_Template, 16, 11, \"tr\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.rejectedRefundList);\n  }\n}\nfunction RefundStatusComponent_ng_container_1_tbody_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 14)(1, \"td\", 19);\n    i0.ɵɵtext(2, \"No refunds recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RefundStatusComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 4)(2, \"thead\", 5)(3, \"tr\", 6)(4, \"td\", 7);\n    i0.ɵɵtext(5, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 8);\n    i0.ɵɵtext(7, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 9);\n    i0.ɵɵtext(9, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 10);\n    i0.ɵɵtext(11, \"Refund reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 11);\n    i0.ɵɵtext(13, \"Reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"td\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(15, RefundStatusComponent_ng_container_1_tbody_15_Template, 2, 1, \"tbody\", 13);\n    i0.ɵɵtemplate(16, RefundStatusComponent_ng_container_1_tbody_16_Template, 3, 0, \"tbody\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.rejectedRefundList == null ? null : ctx_r1.rejectedRefundList.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.rejectedRefundList == null ? null : ctx_r1.rejectedRefundList.length) === 0);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const notification_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.email == null ? null : notification_r23.contact_details.email.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const notification_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.address_line == null ? null : notification_r23.contact_details.address_line.trim(), \" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.city == null ? null : notification_r23.contact_details.city.trim(), \" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.county == null ? null : notification_r23.contact_details.county.trim(), \" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.country == null ? null : notification_r23.contact_details.country.trim(), \" \", notification_r23 == null ? null : notification_r23.contact_details == null ? null : notification_r23.contact_details.postal_code == null ? null : notification_r23.contact_details.postal_code.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_7_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const i_r24 = i0.ɵɵnextContext(2).index;\n      const ctx_r34 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r34.showNotificationSentView(i_r24));\n    });\n    i0.ɵɵtext(1, \"View\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_8_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r37.hideNotificationSentView());\n    });\n    i0.ɵɵtext(1, \"Hide\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const notification_r23 = i0.ɵɵnextContext().$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r39.putResend(notification_r23));\n    });\n    i0.ɵɵtext(2, \"Resend\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\xA0\\xA0|\\xA0\\xA0\");\n    i0.ɵɵelementStart(4, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const notification_r23 = i0.ɵɵnextContext().$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.gotoEditAddressDetails(notification_r23));\n    });\n    i0.ɵɵtext(5, \"Edit details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\xA0\\xA0|\\xA0\\xA0\");\n    i0.ɵɵtemplate(7, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_7_Template, 2, 0, \"a\", 35);\n    i0.ɵɵtemplate(8, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_a_8_Template, 2, 0, \"a\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r24 = i0.ɵɵnextContext().index;\n    const ctx_r27 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r27.notificationSentView || i_r24 != ctx_r27.notificationSentViewIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r24 === ctx_r27.notificationSentViewIndex && ctx_r27.notificationSentView);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const i_r24 = i0.ɵɵnextContext(2).index;\n      const ctx_r47 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r47.showNotificationSentView(i_r24));\n    });\n    i0.ɵɵtext(1, \"View\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r50 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r50.hideNotificationSentView());\n    });\n    i0.ɵɵtext(1, \"Hide\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtemplate(1, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_1_Template, 2, 0, \"a\", 35);\n    i0.ɵɵtemplate(2, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_a_2_Template, 2, 0, \"a\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r24 = i0.ɵɵnextContext().index;\n    const ctx_r28 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r28.notificationSentView || i_r24 != ctx_r28.notificationSentViewIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r24 === ctx_r28.notificationSentViewIndex && ctx_r28.notificationSentView);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 36);\n    i0.ɵɵelement(2, \"app-notification-preview\", 37);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const notification_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"previewJourney\", \"Notifications sent\")(\"notificationSent\", notification_r23 == null ? null : notification_r23.sent_notification);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 6)(2, \"td\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 32);\n    i0.ɵɵtemplate(8, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_div_8_Template, 5, 1, \"div\", 0);\n    i0.ɵɵtemplate(9, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_div_9_Template, 5, 5, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_10_Template, 9, 2, \"td\", 33);\n    i0.ɵɵtemplate(11, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_td_11_Template, 3, 2, \"td\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_tr_12_Template, 3, 2, \"tr\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const notification_r23 = ctx.$implicit;\n    const i_r24 = ctx.index;\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 7, notification_r23.date_created, \"dd MMMM yyyy HH:mm:ss\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r22.orderParty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (notification_r23 == null ? null : notification_r23.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (notification_r23 == null ? null : notification_r23.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r24 === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r24 > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r24 === ctx_r22.notificationSentViewIndex && ctx_r22.notificationSentView);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 14);\n    i0.ɵɵtemplate(1, RefundStatusComponent_ng_container_2_tbody_46_ng_container_1_Template, 13, 10, \"ng-container\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r18.notificationList);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_tbody_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 14)(1, \"tr\", 6)(2, \"td\", 38);\n    i0.ɵɵtext(3, \"No record found ... \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_div_52_tbody_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 14)(1, \"tr\", 6)(2, \"td\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 16);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 16);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const refundStatusHistory_r55 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(refundStatusHistory_r55.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 4, refundStatusHistory_r55.date_created, \"dd MMMM yyyy HH:mm:ss\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(refundStatusHistory_r55.created_by);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(refundStatusHistory_r55.notes);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 4)(2, \"thead\", 5)(3, \"tr\", 6)(4, \"td\", 28);\n    i0.ɵɵtext(5, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 29);\n    i0.ɵɵtext(7, \"Date and time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 30);\n    i0.ɵɵtext(9, \"Users\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 30);\n    i0.ɵɵtext(11, \"Notes\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(12, RefundStatusComponent_ng_container_2_div_52_tbody_12_Template, 11, 7, \"tbody\", 39);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r20.refundStatusHistories);\n  }\n}\nfunction RefundStatusComponent_ng_container_2_ng_container_53_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_ng_container_53_div_1_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r58.gotoReviewAndReSubmitPage());\n    });\n    i0.ɵɵtext(3, \"Change refund details\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_ng_container_53_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_ng_container_53_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r60.goToRefundProcessComponent(ctx_r60.refundlist.refund_reference, ctx_r60.refundlist));\n    });\n    i0.ɵɵtext(3, \"Process refund\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RefundStatusComponent_ng_container_2_ng_container_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RefundStatusComponent_ng_container_2_ng_container_53_div_1_Template, 4, 0, \"div\", 0);\n    i0.ɵɵtemplate(2, RefundStatusComponent_ng_container_2_ng_container_53_div_2_Template, 4, 0, \"div\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.refundButtonState === \"Update required\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r21.isProcessRefund && !ctx_r21.isLastUpdatedByCurrentUser && ctx_r21.refundButtonState === \"Sent for approval\");\n  }\n}\nfunction RefundStatusComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 20)(2, \"ol\", 21)(3, \"li\", 22)(4, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_2_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.loadRefundListPage());\n    });\n    i0.ɵɵtext(5, \"Back\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(6, \"h2\", 24);\n    i0.ɵɵtext(7, \"Refund details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"table\")(9, \"tbody\")(10, \"tr\", 25)(11, \"td\", 26);\n    i0.ɵɵtext(12, \"Refund reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tr\", 25)(16, \"td\", 26);\n    i0.ɵɵtext(17, \"Payment to be refunded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"tr\", 25)(21, \"td\", 26);\n    i0.ɵɵtext(22, \"Reason for refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"tr\", 25)(26, \"td\", 26);\n    i0.ɵɵtext(27, \"Amount refunded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"number\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(31, \"div\");\n    i0.ɵɵelement(32, \"br\");\n    i0.ɵɵelementStart(33, \"h2\", 27);\n    i0.ɵɵtext(34, \"Notifications sent\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"table\", 4)(36, \"thead\", 5)(37, \"tr\", 6)(38, \"td\", 28);\n    i0.ɵɵtext(39, \"Date and time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"td\", 29);\n    i0.ɵɵtext(41, \"Sent to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"td\", 30);\n    i0.ɵɵtext(43, \"Sent via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"td\", 30);\n    i0.ɵɵtext(45, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(46, RefundStatusComponent_ng_container_2_tbody_46_Template, 2, 1, \"tbody\", 13);\n    i0.ɵɵtemplate(47, RefundStatusComponent_ng_container_2_tbody_47_Template, 4, 0, \"tbody\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\");\n    i0.ɵɵelement(49, \"br\");\n    i0.ɵɵelementStart(50, \"h2\", 27);\n    i0.ɵɵtext(51, \"Refund status history\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(52, RefundStatusComponent_ng_container_2_div_52_Template, 13, 1, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(53, RefundStatusComponent_ng_container_2_ng_container_53_Template, 3, 2, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(ctx_r2.refundlist == null ? null : ctx_r2.refundlist.refund_reference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.refundlist == null ? null : ctx_r2.refundlist.payment_reference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.refundlist == null ? null : ctx_r2.refundlist.reason);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(30, 8, ctx_r2.refundlist == null ? null : ctx_r2.refundlist.amount, \".2\"), \"\");\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.notificationList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.notificationList);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.refundStatusHistories);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.viewName === \"refundview\" && !ctx_r2.isFromPayBubble && !ctx_r2.isResendOperationSuccess && !ctx_r2.isEditDetailsClicked);\n  }\n}\nfunction RefundStatusComponent_ng_container_3_a_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r73 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 55);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_a_25_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r72 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r72.gotoRefundReasonPage(ctx_r72.refundlist == null ? null : ctx_r72.refundlist.reason));\n    });\n    i0.ɵɵtext(1, \"Change\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_3_a_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r75 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 55);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_a_32_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r74 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r74.gotoAmountPage());\n    });\n    i0.ɵɵtext(1, \"Change\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_3_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r66 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r66.refundlist == null ? null : ctx_r66.refundlist.contact_details == null ? null : ctx_r66.refundlist.contact_details.email == null ? null : ctx_r66.refundlist.contact_details.email.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_3_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r67 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r67.refundlist == null ? null : ctx_r67.refundlist.contact_details == null ? null : ctx_r67.refundlist.contact_details.address_line == null ? null : ctx_r67.refundlist.contact_details.address_line.trim(), \" \", ctx_r67.refundlist == null ? null : ctx_r67.refundlist.contact_details == null ? null : ctx_r67.refundlist.contact_details.city == null ? null : ctx_r67.refundlist.contact_details.city.trim(), \" \", ctx_r67.refundlist == null ? null : ctx_r67.refundlist.contact_details == null ? null : ctx_r67.refundlist.contact_details.county == null ? null : ctx_r67.refundlist.contact_details.county.trim(), \" \", ctx_r67.refundlist == null ? null : ctx_r67.refundlist.contact_details == null ? null : ctx_r67.refundlist.contact_details.country == null ? null : ctx_r67.refundlist.contact_details.country.trim(), \" \", ctx_r67.refundlist == null ? null : ctx_r67.refundlist.contact_details == null ? null : ctx_r67.refundlist.contact_details.postal_code == null ? null : ctx_r67.refundlist.contact_details.postal_code.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_3_a_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_a_44_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r77);\n      const ctx_r76 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r76.gotoEditDetailsPage(ctx_r76.refundlist == null ? null : ctx_r76.refundlist.contact_details, \"reviewandsubmitEditview\"));\n    });\n    i0.ɵɵtext(1, \" Change \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_3_a_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r79 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_a_50_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r79);\n      const ctx_r78 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r78.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_3_a_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r81 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_a_51_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r81);\n      const ctx_r80 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r80.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_3_app_notification_preview_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 58);\n  }\n  if (rf & 2) {\n    const ctx_r71 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"paymentReference\", ctx_r71.refundlist == null ? null : ctx_r71.refundlist.payment_reference)(\"payment\", ctx_r71.paymentObj)(\"contactDetails\", ctx_r71.refundlist == null ? null : ctx_r71.refundlist.contact_details)(\"refundReason\", ctx_r71.refundlist == null ? null : ctx_r71.refundlist.reason_code)(\"refundAmount\", ctx_r71.changedAmount ? ctx_r71.changedAmount : ctx_r71.refundlist == null ? null : ctx_r71.refundlist.amount)(\"refundReference\", ctx_r71.refundlist == null ? null : ctx_r71.refundlist.refund_reference);\n  }\n}\nfunction RefundStatusComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r83 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"h1\", 43);\n    i0.ɵɵtext(3, \"Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"table\", 4)(5, \"tr\", 6)(6, \"td\", 44);\n    i0.ɵɵtext(7, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 45);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"tr\", 6)(11, \"td\", 44);\n    i0.ɵɵtext(12, \"Reason for return\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 45);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tr\", 6)(16, \"td\", 44);\n    i0.ɵɵtext(17, \"Refund reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 45);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"tr\", 6)(21, \"td\", 44);\n    i0.ɵɵtext(22, \"Reason for refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 45);\n    i0.ɵɵtext(24);\n    i0.ɵɵtemplate(25, RefundStatusComponent_ng_container_3_a_25_Template, 2, 0, \"a\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"tr\", 6)(27, \"td\", 44);\n    i0.ɵɵtext(28, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\", 45);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"number\");\n    i0.ɵɵtemplate(32, RefundStatusComponent_ng_container_3_a_32_Template, 2, 0, \"a\", 46);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"tr\", 6)(34, \"td\", 44);\n    i0.ɵɵtext(35, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"td\", 45);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"tr\", 6)(39, \"td\", 44);\n    i0.ɵɵtext(40, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"td\", 16);\n    i0.ɵɵtemplate(42, RefundStatusComponent_ng_container_3_div_42_Template, 5, 1, \"div\", 47);\n    i0.ɵɵtemplate(43, RefundStatusComponent_ng_container_3_div_43_Template, 5, 5, \"div\", 47);\n    i0.ɵɵtemplate(44, RefundStatusComponent_ng_container_3_a_44_Template, 2, 0, \"a\", 48);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"tr\", 6)(46, \"td\", 44);\n    i0.ɵɵtext(47, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\", 45);\n    i0.ɵɵtext(49);\n    i0.ɵɵtemplate(50, RefundStatusComponent_ng_container_3_a_50_Template, 2, 0, \"a\", 49);\n    i0.ɵɵtemplate(51, RefundStatusComponent_ng_container_3_a_51_Template, 2, 0, \"a\", 49);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(52, RefundStatusComponent_ng_container_3_app_notification_preview_52_Template, 1, 6, \"app-notification-preview\", 50);\n    i0.ɵɵelementStart(53, \"div\", 51)(54, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_Template_button_click_54_listener($event) {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r82 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r82.gotoReviewDetailsPage($event));\n    });\n    i0.ɵɵtext(55, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r84 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r84.gotoReviewRefundConfirmationPage());\n    });\n    i0.ɵɵtext(57, \" Submit refund \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(58, \"p\")(59, \"a\", 54);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_3_Template_a_click_59_listener() {\n      i0.ɵɵrestoreView(_r83);\n      const ctx_r85 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r85.loadRefundListPage());\n    });\n    i0.ɵɵtext(60, \"Cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.refundlist == null ? null : ctx_r3.refundlist.payment_reference, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.refundreason);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.refundlist == null ? null : ctx_r3.refundlist.refund_reference, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.refundlist == null ? null : ctx_r3.refundlist.reason == null ? null : ctx_r3.refundlist.reason.trim(), \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.reason) !== \"Retrospective remission\" && (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.reason) !== \"Overpayment\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", ctx_r3.changedAmount ? ctx_r3.changedAmount : i0.ɵɵpipeBind2(31, 16, ctx_r3.refundlist == null ? null : ctx_r3.refundlist.amount, \".2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.reason) !== \"Overpayment\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.orderParty, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.contact_details == null ? null : ctx_r3.refundlist.contact_details.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.contact_details == null ? null : ctx_r3.refundlist.contact_details.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r3.refundlist == null ? null : ctx_r3.refundlist.contact_details) != null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r3.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.notificationPreview);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.isRefundBtnDisabled);\n  }\n}\nfunction RefundStatusComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r88 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 59, 60);\n    i0.ɵɵelementStart(3, \"h1\", 24);\n    i0.ɵɵtext(4, \"Edit contact details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 61);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 62);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 63);\n    i0.ɵɵlistener(\"assignContactDetailsInFefundsList\", function RefundStatusComponent_ng_container_4_Template_ccpay_contact_details_assignContactDetailsInFefundsList_10_listener($event) {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r87 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r87.getContactDetailsForRefundList($event));\n    })(\"redirectToIssueRefund\", function RefundStatusComponent_ng_container_4_Template_ccpay_contact_details_redirectToIssueRefund_10_listener($event) {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r89 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r89.gotoRefundReviewAndSubmitViewPageCancelBtnClicked($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 64);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_4_Template_a_click_12_listener() {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r90 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r90.loadRefundListPage());\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 4, ctx_r4.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Refund reference: \", ctx_r4.refundlist == null ? null : ctx_r4.refundlist.refund_reference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isEditOperationInRefundList\", ctx_r4.isEditDetailsClicked)(\"addressObj\", ctx_r4.notification);\n  }\n}\nfunction RefundStatusComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r92 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-add-remission\", 65);\n    i0.ɵɵlistener(\"refundListReason\", function RefundStatusComponent_ng_container_5_Template_ccpay_add_remission_refundListReason_1_listener($event) {\n      i0.ɵɵrestoreView(_r92);\n      const ctx_r91 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r91.getRefundListReason($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isFromRefundListPage\", true)(\"viewCompStatus\", ctx_r5.viewName)(\"isRefundRemission\", true)(\"isFromRefundStatusPage\", true)(\"changeRefundReason\", ctx_r5.changeRefundReason)(\"ccdCaseNumber\", ctx_r5.ccdCaseNumber)(\"refundPaymentReference\", ctx_r5.refundlist == null ? null : ctx_r5.refundlist.payment_reference);\n  }\n}\nfunction RefundStatusComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r94 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-add-remission\", 66);\n    i0.ɵɵlistener(\"refundListAmount\", function RefundStatusComponent_ng_container_6_Template_ccpay_add_remission_refundListAmount_1_listener($event) {\n      i0.ɵɵrestoreView(_r94);\n      const ctx_r93 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r93.getRefundAmount($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isFromRefundListPage\", true)(\"viewCompStatus\", ctx_r6.viewName)(\"isRefundRemission\", true)(\"ccdCaseNumber\", ctx_r6.ccdCaseNumber)(\"refundPaymentReference\", ctx_r6.refundlist == null ? null : ctx_r6.refundlist.payment_reference);\n  }\n}\nfunction RefundStatusComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r96 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-add-remission\", 67);\n    i0.ɵɵlistener(\"refundListAmount\", function RefundStatusComponent_ng_container_7_Template_ccpay_add_remission_refundListAmount_1_listener($event) {\n      i0.ɵɵrestoreView(_r96);\n      const ctx_r95 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r95.getRefundAmount($event));\n    })(\"refundFees\", function RefundStatusComponent_ng_container_7_Template_ccpay_add_remission_refundFees_1_listener($event) {\n      i0.ɵɵrestoreView(_r96);\n      const ctx_r97 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r97.getRefundFees($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isFromRefundListPage\", true)(\"viewCompStatus\", ctx_r7.viewName)(\"isRefundRemission\", true)(\"isFromServiceRequestPage\", true)(\"ccdCaseNumber\", ctx_r7.ccdCaseNumber)(\"refundPaymentReference\", ctx_r7.refundlist == null ? null : ctx_r7.refundlist.payment_reference)(\"isFromRefundStatusPage\", true);\n  }\n}\nfunction RefundStatusComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r99 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 68)(2, \"div\")(3, \"div\", 69)(4, \"h1\", 70);\n    i0.ɵɵtext(5, \" Refund submitted \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 71)(7, \"p\", 72)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(10, \"h2\", 24);\n    i0.ɵɵtext(11, \"What happens next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 73);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 73)(16, \"a\", 74);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_8_Template_a_click_16_listener() {\n      i0.ɵɵrestoreView(_r99);\n      const ctx_r98 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r98.loadRefundListPage());\n    });\n    i0.ɵɵtext(17, \"Return to case\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Refund reference:\", ctx_r8.refundReference, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" A refund request for \", i0.ɵɵpipeBind4(14, 2, ctx_r8.refundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" has been created and will be passed to a team leader to approve. \");\n  }\n}\nfunction RefundStatusComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r101 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 68)(2, \"div\")(3, \"div\", 69)(4, \"h1\", 70);\n    i0.ɵɵtext(5, \" Notification sent \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 71)(7, \"p\", 72)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(10, \"p\", 73)(11, \"a\", 74);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_9_Template_a_click_11_listener() {\n      i0.ɵɵrestoreView(_r101);\n      const ctx_r100 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r100.loadRefundListPage());\n    });\n    i0.ɵɵtext(12, \"Return to case\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Refund reference: \", ctx_r9.refundlist == null ? null : ctx_r9.refundlist.refund_reference, \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r104 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 59, 60);\n    i0.ɵɵelementStart(3, \"h1\", 24);\n    i0.ɵɵtext(4, \"Edit contact details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 61);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 62);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 63);\n    i0.ɵɵlistener(\"assignContactDetailsInFefundsList\", function RefundStatusComponent_ng_container_10_Template_ccpay_contact_details_assignContactDetailsInFefundsList_10_listener($event) {\n      i0.ɵɵrestoreView(_r104);\n      const ctx_r103 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r103.getContactDetails($event));\n    })(\"redirectToIssueRefund\", function RefundStatusComponent_ng_container_10_Template_ccpay_contact_details_redirectToIssueRefund_10_listener($event) {\n      i0.ɵɵrestoreView(_r104);\n      const ctx_r105 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r105.gotoRefundViewPageCancelBtnClicked($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 64);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_10_Template_a_click_12_listener() {\n      i0.ɵɵrestoreView(_r104);\n      const ctx_r106 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r106.loadRefundListPage());\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 4, ctx_r10.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Refund reference: \", ctx_r10.refundlist == null ? null : ctx_r10.refundlist.refund_reference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isEditOperationInRefundList\", ctx_r10.isEditDetailsClicked)(\"addressObj\", ctx_r10.notification);\n  }\n}\nfunction RefundStatusComponent_ng_container_11_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r108 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r108.addressDetails == null ? null : ctx_r108.addressDetails.email == null ? null : ctx_r108.addressDetails.email.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_11_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r109 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r109.addressDetails == null ? null : ctx_r109.addressDetails.address_line == null ? null : ctx_r109.addressDetails.address_line.trim(), \" \", ctx_r109.addressDetails == null ? null : ctx_r109.addressDetails.city == null ? null : ctx_r109.addressDetails.city.trim(), \" \", ctx_r109.addressDetails == null ? null : ctx_r109.addressDetails.county == null ? null : ctx_r109.addressDetails.county.trim(), \" \", ctx_r109.addressDetails == null ? null : ctx_r109.addressDetails.country == null ? null : ctx_r109.addressDetails.country.trim(), \" \", ctx_r109.addressDetails == null ? null : ctx_r109.addressDetails.postal_code == null ? null : ctx_r109.addressDetails.postal_code.trim(), \" \");\n  }\n}\nfunction RefundStatusComponent_ng_container_11_a_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r114 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_a_28_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r114);\n      const ctx_r113 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r113.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_11_a_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r116 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_a_29_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r116);\n      const ctx_r115 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r115.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundStatusComponent_ng_container_11_app_notification_preview_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 58);\n  }\n  if (rf & 2) {\n    const ctx_r112 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"paymentReference\", ctx_r112.refundlist == null ? null : ctx_r112.refundlist.payment_reference)(\"payment\", ctx_r112.paymentObj)(\"contactDetails\", ctx_r112.addressDetails)(\"refundReason\", ctx_r112.refundlist == null ? null : ctx_r112.refundlist.reason_code)(\"refundAmount\", ctx_r112.refundlist == null ? null : ctx_r112.refundlist.amount)(\"refundReference\", ctx_r112.refundlist == null ? null : ctx_r112.refundlist.refund_reference);\n  }\n}\nfunction RefundStatusComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r118 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 75, 60);\n    i0.ɵɵelementStart(3, \"h1\", 24);\n    i0.ɵɵtext(4, \"Check your answers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"dl\", 76)(6, \"div\", 77)(7, \"dt\", 78);\n    i0.ɵɵtext(8, \" Refund reference \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"dd\", 79);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"span\", 80);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 77)(13, \"dt\", 78);\n    i0.ɵɵtext(14, \" Send via \");\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"dd\", 79);\n    i0.ɵɵtemplate(17, RefundStatusComponent_ng_container_11_div_17_Template, 5, 1, \"div\", 47);\n    i0.ɵɵtemplate(18, RefundStatusComponent_ng_container_11_div_18_Template, 5, 5, \"div\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"dd\", 80)(20, \"a\", 81);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_Template_a_click_20_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r117 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r117.gotoEditDetailsPage(ctx_r117.addressDetails, \"refundEditView\"));\n    });\n    i0.ɵɵtext(21, \" Change \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 77)(23, \"dt\", 78);\n    i0.ɵɵtext(24, \" Notification \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"dd\", 79);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 80);\n    i0.ɵɵtemplate(28, RefundStatusComponent_ng_container_11_a_28_Template, 2, 0, \"a\", 49);\n    i0.ɵɵtemplate(29, RefundStatusComponent_ng_container_11_a_29_Template, 2, 0, \"a\", 49);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(30, RefundStatusComponent_ng_container_11_app_notification_preview_30_Template, 1, 6, \"app-notification-preview\", 50);\n    i0.ɵɵelementStart(31, \"div\", 51)(32, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r119 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r119.gotoEditDetailsPage(ctx_r119.addressDetails, \"refundEditView\"));\n    });\n    i0.ɵɵtext(33, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r120 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r120.submitEditDetail());\n    });\n    i0.ɵɵtext(35, \" Send notification \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"p\")(37, \"a\", 64);\n    i0.ɵɵlistener(\"click\", function RefundStatusComponent_ng_container_11_Template_a_click_37_listener() {\n      i0.ɵɵrestoreView(_r118);\n      const ctx_r121 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r121.loadRefundListPage());\n    });\n    i0.ɵɵtext(38, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.refundlist == null ? null : ctx_r11.refundlist.refund_reference, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.addressDetails == null ? null : ctx_r11.addressDetails.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.addressDetails == null ? null : ctx_r11.addressDetails.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.templateInstructionType, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.notificationPreview);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 10)(2, \"h1\", 11);\n    i0.ɵɵtext(3, \"Case transactions\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"h3\", 26);\n    i0.ɵɵtext(2, \"CCD reference:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"ccdHyphens\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 1, ctx_r16.ccdCaseNumber), \"\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"h3\", 26);\n    i0.ɵɵtext(2, \"Exception reference:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"ccdHyphens\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 1, ctx_r17.ccdCaseNumber), \"\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 27);\n    i0.ɵɵtext(1, \"Unallocated payments\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r19.unprocessedRecordCount);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_1_div_2_div_27_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r21.redirectToFeeSearchPage($event));\n    });\n    i0.ɵɵtext(2, \" Take telephony payment \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r20.isAddFeeBtnEnabled)(\"ngClass\", !ctx_r20.isAddFeeBtnEnabled ? \"govuk-button govuk-button--secondary govuk-button--disabled govuk-!-margin-right-1\" : \"govuk-button govuk-button--secondary govuk-!-margin-right-1\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_div_2_div_1_Template, 6, 3, \"div\", 12);\n    i0.ɵɵtemplate(2, CaseTransactionsComponent_ng_container_2_div_1_div_2_div_2_Template, 6, 3, \"div\", 12);\n    i0.ɵɵelementStart(3, \"div\", 13);\n    i0.ɵɵelement(4, \"hr\", 14);\n    i0.ɵɵelementStart(5, \"table\", 15)(6, \"thead\", 16)(7, \"tr\", 17)(8, \"td\", 18);\n    i0.ɵɵtext(9, \"Total payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 18);\n    i0.ɵɵtext(11, \"Total remissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 18);\n    i0.ɵɵtext(13, \"Amount due\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, CaseTransactionsComponent_ng_container_2_div_1_div_2_td_14_Template, 2, 0, \"td\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"tbody\", 20)(16, \"tr\", 21)(17, \"td\", 22);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\", 22);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 22);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, CaseTransactionsComponent_ng_container_2_div_1_div_2_td_26_Template, 2, 1, \"td\", 23);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(27, CaseTransactionsComponent_ng_container_2_div_1_div_2_div_27_Template, 3, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r14.isExceptionRecord);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.isExceptionRecord);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.isBulkScanEnable);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(19, 8, ctx_r14.totalPayments, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(22, 13, ctx_r14.totalRemissions, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(25, 18, ctx_r14.clAmountDue, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.isBulkScanEnable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r27 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(4);\n    i0.ɵɵattribute(\"rowspan\", paymentGroup_r27.fees.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 2, ctx_r31.getGroupOutstandingAmount(paymentGroup_r27), \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"* \");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r29 = i0.ɵɵnextContext().$implicit;\n    const ctx_r32 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 1, ctx_r32.calculateAmountDue(fee_r29), \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 37)(1, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_15_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const fee_r29 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r37.confirmRemoveFee(fee_r29.id));\n    });\n    i0.ɵɵtext(2, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r29 = i0.ɵɵnextContext().$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", !ctx_r33.isCheckAmountdueExist(fee_r29.amount_due) || fee_r29.remissions ? \"disable-link\" : \"\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 37)(1, \"a\", 41);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_16_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const fee_r29 = i0.ɵɵnextContext().$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r41.confirmRemoveFee(fee_r29.id));\n    });\n    i0.ɵɵtext(2, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const paymentGroup_r27 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", (paymentGroup_r27.payments == null ? null : paymentGroup_r27.payments.length) > 0 || (paymentGroup_r27.remissions == null ? null : paymentGroup_r27.remissions.length) > 0 ? \"disable-link\" : \"\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 37);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 37);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 37);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 37);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 37);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_13_Template, 3, 7, \"td\", 38);\n    i0.ɵɵtemplate(14, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_14_Template, 3, 6, \"td\", 39);\n    i0.ɵɵtemplate(15, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_15_Template, 3, 1, \"td\", 39);\n    i0.ɵɵtemplate(16, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_td_16_Template, 3, 1, \"td\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r29 = ctx.$implicit;\n    const i_r30 = ctx.index;\n    const paymentGroup_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\t\", fee_r29.code, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fee_r29.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fee_r29.volume ? fee_r29.volume : \"-\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(9, 9, fee_r29.net_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(12, 14, fee_r29.calculated_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", paymentGroup_r27.old && i_r30 == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !paymentGroup_r27.old);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !paymentGroup_r27.old);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", paymentGroup_r27.old);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_tr_1_Template, 17, 19, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", paymentGroup_r27.fees);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"tr\", 17)(2, \"td\", 42);\n    i0.ɵɵtext(3, \"No fees recorded\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 44);\n    i0.ɵɵelement(2, \"path\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"div\", 46)(4, \"span\", 47);\n    i0.ɵɵtext(5, \"information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \" * These fees have already been processed offline. Check the notes in CCD for more information. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_20_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51)(2, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_20_tr_1_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r53);\n      const payment_r51 = restoredCtx.$implicit;\n      const ctx_r52 = i0.ɵɵnextContext(6);\n      return i0.ɵɵresetView(ctx_r52.goToPayementView(payment_r51.paymentGroupReference, payment_r51.reference, payment_r51.method));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 53);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 54);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 51);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 51);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 51);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const payment_r51 = ctx.$implicit;\n    const ctx_r50 = i0.ɵɵnextContext(6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r51.reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 7, payment_r51.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 10, payment_r51.channel));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 12, payment_r51.method));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(15, 14, payment_r51.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r50.getAllocationStatus(payment_r51), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r51.status);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_20_tr_1_Template, 20, 19, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r46.allPayments);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 42);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_37_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 51);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 51);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 51);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const remission_r55 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r55.remission_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 5, remission_r55.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(remission_r55.hwf_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r55.fee_code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(12, 8, remission_r55.hwf_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_37_tr_1_Template, 13, 13, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r48 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r48.remissions);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 55);\n    i0.ɵɵtext(2, \"No remissions recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"h3\", 26);\n    i0.ɵɵtext(2, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 15)(4, \"thead\", 16)(5, \"tr\", 17)(6, \"td\", 49);\n    i0.ɵɵtext(7, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 18);\n    i0.ɵɵtext(9, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 18);\n    i0.ɵɵtext(11, \"Channel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 18);\n    i0.ɵɵtext(13, \"Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 50);\n    i0.ɵɵtext(15, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 18);\n    i0.ɵɵtext(17, \"Allocation status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 18);\n    i0.ɵɵtext(19, \"Payment status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(20, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_20_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(21, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_21_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"h3\", 26);\n    i0.ɵɵtext(23, \"Remissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"table\", 15)(25, \"thead\", 16)(26, \"tr\", 17)(27, \"td\", 18);\n    i0.ɵɵtext(28, \"Remission reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\", 18);\n    i0.ɵɵtext(30, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 18);\n    i0.ɵɵtext(32, \"Remission code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\", 18);\n    i0.ɵɵtext(34, \"Fee code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"td\", 18);\n    i0.ɵɵtext(36, \"Remission amount\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(37, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_37_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(38, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_tbody_38_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r26 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r26.allPayments == null ? null : ctx_r26.allPayments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r26.allPayments == null ? null : ctx_r26.allPayments.length) === 0);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r26.remissions == null ? null : ctx_r26.remissions.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r26.remissions == null ? null : ctx_r26.remissions.length) === 0);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 8)(2, \"div\", 31)(3, \"h3\", 26);\n    i0.ɵɵtext(4, \"Fees\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 31)(6, \"table\", 15)(7, \"thead\", 16)(8, \"tr\", 17)(9, \"td\", 18);\n    i0.ɵɵtext(10, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 18);\n    i0.ɵɵtext(12, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 18);\n    i0.ɵɵtext(14, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 18);\n    i0.ɵɵtext(16, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 18);\n    i0.ɵɵtext(18, \"Calculated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 18);\n    i0.ɵɵtext(20, \"Amount due\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 18);\n    i0.ɵɵtext(22, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(23, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_23_Template, 2, 1, \"tbody\", 32);\n    i0.ɵɵtemplate(24, CaseTransactionsComponent_ng_container_2_div_1_div_4_tbody_24_Template, 4, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(25, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_25_Template, 7, 0, \"div\", 34);\n    i0.ɵɵtemplate(26, CaseTransactionsComponent_ng_container_2_div_1_div_4_div_26_Template, 39, 4, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.paymentGroups);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r15.paymentGroups == null ? null : ctx_r15.paymentGroups.length) === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.isHistoricGroupAvailable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r15.allPayments == null ? null : ctx_r15.allPayments.length) > 0 || (ctx_r15.remissions == null ? null : ctx_r15.remissions.length) > 0);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_div_1_Template, 4, 0, \"div\", 7);\n    i0.ɵɵtemplate(2, CaseTransactionsComponent_ng_container_2_div_1_div_2_Template, 28, 23, \"div\", 7);\n    i0.ɵɵelement(3, \"div\", 8);\n    i0.ɵɵtemplate(4, CaseTransactionsComponent_ng_container_2_div_1_div_4_Template, 27, 4, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.takePayment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.takePayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\", 31)(3, \"span\", 61);\n    i0.ɵɵtext(4, \"Existing fees\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 31)(6, \"table\", 15)(7, \"thead\", 16)(8, \"tr\", 17)(9, \"td\", 18);\n    i0.ɵɵtext(10, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 18);\n    i0.ɵɵtext(12, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 18);\n    i0.ɵɵtext(14, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 18);\n    i0.ɵɵtext(16, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 18);\n    i0.ɵɵtext(18, \"Calculated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 18);\n    i0.ɵɵtext(20, \"Group amount outstanding\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"tbody\", 20)(22, \"tr\", 17)(23, \"td\", 62);\n    i0.ɵɵtext(24, \"No fees recorded\");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_tr_26_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 73);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r66 = i0.ɵɵnextContext(3);\n    i0.ɵɵattribute(\"rowspan\", paymentGroup_r60.fees.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 2, ctx_r66.getGroupOutstandingAmount(paymentGroup_r60), \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 67);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 68);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 69);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 70);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 71);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, CaseTransactionsComponent_ng_container_2_div_2_div_38_tr_26_td_13_Template, 3, 7, \"td\", 72);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r64 = ctx.$implicit;\n    const i_r65 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fee_r64.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r64.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r64.volume ? fee_r64.volume : \"-\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(9, 6, fee_r64.net_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(12, 11, fee_r64.calculated_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i_r65 == 0);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_tbody_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 62);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_25_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r77 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51)(2, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_25_tr_1_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r77);\n      const payment_r74 = restoredCtx.$implicit;\n      const paymentGroup_r60 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r75 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r75.goToPayementView(paymentGroup_r60.payment_group_reference, payment_r74.reference, payment_r74.method));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 53);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 54);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 51);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 51);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 51);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const payment_r74 = ctx.$implicit;\n    const ctx_r73 = i0.ɵɵnextContext(6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r74.reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 7, payment_r74.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 10, payment_r74.channel));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 12, payment_r74.method));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r74.amount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r73.getAllocationStatus(payment_r74), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r74.status);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_25_tr_1_Template, 19, 14, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", paymentGroup_r60.payments);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 62);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_42_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 51);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 51);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 51);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const remission_r80 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r80.remission_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 5, remission_r80.date_created, \"dd MMM\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(remission_r80.hwf_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r80.fee_code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r80.hwf_amount);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_42_tr_1_Template, 12, 8, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", paymentGroup_r60.remissions);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 55);\n    i0.ɵɵtext(2, \"No remissions recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r84 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_div_44_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r84);\n      const paymentGroup_r60 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r82 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r82.loadFeeSummaryPage(paymentGroup_r60));\n    });\n    i0.ɵɵtext(2, \" Add telephone payment \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r72 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r72.getGroupOutstandingAmount(paymentGroup_r60) <= 0 || ctx_r72.isUnprocessedRecordSelected)(\"ngClass\", ctx_r72.getGroupOutstandingAmount(paymentGroup_r60) <= 0 || ctx_r72.isUnprocessedRecordSelected ? \"govuk-button govuk-button--secondary govuk-button--disabled govuk-!-margin-right-1\" : \"govuk-button govuk-button--secondary govuk-!-margin-right-1\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74)(1, \"details\")(2, \"summary\", 75)(3, \"span\", 76);\n    i0.ɵɵtext(4, \"Allocated payments and remissions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 77)(6, \"span\", 26);\n    i0.ɵɵtext(7, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"table\", 15)(9, \"thead\", 16)(10, \"tr\", 17)(11, \"td\", 18);\n    i0.ɵɵtext(12, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 18);\n    i0.ɵɵtext(14, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 18);\n    i0.ɵɵtext(16, \"Channel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 18);\n    i0.ɵɵtext(18, \"Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 18);\n    i0.ɵɵtext(20, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 18);\n    i0.ɵɵtext(22, \"Allocation status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 18);\n    i0.ɵɵtext(24, \"Status\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(25, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_25_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(26, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_26_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 26);\n    i0.ɵɵtext(28, \"Remissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"table\", 15)(30, \"thead\", 16)(31, \"tr\", 17)(32, \"td\", 18);\n    i0.ɵɵtext(33, \"Remission reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"td\", 18);\n    i0.ɵɵtext(35, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"td\", 18);\n    i0.ɵɵtext(37, \"Remission code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"td\", 18);\n    i0.ɵɵtext(39, \"Fee applied against\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"td\", 18);\n    i0.ɵɵtext(41, \"Remission amount\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(42, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_42_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(43, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_tbody_43_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(44, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_div_44_Template, 3, 2, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = i0.ɵɵnextContext().$implicit;\n    const ctx_r63 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(25);\n    i0.ɵɵproperty(\"ngIf\", (paymentGroup_r60.payments == null ? null : paymentGroup_r60.payments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (paymentGroup_r60.payments == null ? null : paymentGroup_r60.payments.length) === 0);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", (paymentGroup_r60.remissions == null ? null : paymentGroup_r60.remissions.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (paymentGroup_r60.remissions == null ? null : paymentGroup_r60.remissions.length) === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r63.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\", 63)(3, \"span\", 26);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"div\", 31)(7, \"span\", 61);\n    i0.ɵɵtext(8, \"Exisiting fees\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 64)(10, \"table\", 15)(11, \"thead\", 16)(12, \"tr\", 17)(13, \"td\", 18);\n    i0.ɵɵtext(14, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 18);\n    i0.ɵɵtext(16, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 18);\n    i0.ɵɵtext(18, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 18);\n    i0.ɵɵtext(20, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 18);\n    i0.ɵɵtext(22, \"Calculated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"td\", 65);\n    i0.ɵɵtext(24, \"Group amount outstanding\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"tbody\", 20);\n    i0.ɵɵtemplate(26, CaseTransactionsComponent_ng_container_2_div_2_div_38_tr_26_Template, 14, 16, \"tr\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, CaseTransactionsComponent_ng_container_2_div_2_div_38_tbody_27_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(28, CaseTransactionsComponent_ng_container_2_div_2_div_38_div_28_Template, 45, 5, \"div\", 66);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r60 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Group reference: \", paymentGroup_r60.payment_group_reference, \"\");\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"ngForOf\", paymentGroup_r60.fees);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", paymentGroup_r60.fees.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", paymentGroup_r60.payments || paymentGroup_r60.remissions);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_ccpay_app_unprocessed_payments_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r88 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-app-unprocessed-payments\", 78);\n    i0.ɵɵlistener(\"getUnprocessedFeeCount\", function CaseTransactionsComponent_ng_container_2_div_2_ccpay_app_unprocessed_payments_39_Template_ccpay_app_unprocessed_payments_getUnprocessedFeeCount_0_listener($event) {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r87 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r87.getUnprocessedFeeCount($event));\n    })(\"selectedUnprocessedFeeEvent\", function CaseTransactionsComponent_ng_container_2_div_2_ccpay_app_unprocessed_payments_39_Template_ccpay_app_unprocessed_payments_selectedUnprocessedFeeEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r88);\n      const ctx_r89 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r89.selectedUnprocessedFeeEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r58 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"IS_BUTTON_ENABLE\", ctx_r58.takePayment)(\"LEVEL\", 5)(\"PAYMENTSLENGTH\", ctx_r58.allPayments == null ? null : ctx_r58.allPayments.length)(\"PAYMENTREF\", ctx_r58.paymentRef)(\"ISTURNOFF\", ctx_r58.isTurnOff)(\"ISSFENABLE\", ctx_r58.isStrategicFixEnable)(\"FEE_RECORDS_EXISTS\", ctx_r58.isFeeRecordsExist)(\"IS_OS_AMT_AVAILABLE\", ctx_r58.isGrpOutstandingAmtPositive);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_2_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79)(1, \"div\", 80)(2, \"h3\", 26);\n    i0.ɵɵtext(3, \"Surplus payments\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 31);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r59 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Total surplus payments received: \", i0.ɵɵpipeBind4(6, 1, ctx_r59.totalRefundAmount, \"GBP\", \"symbol\", \"1.2-2\"), \" \");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"disable\": a0\n  };\n};\nfunction CaseTransactionsComponent_ng_container_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r91 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\", 10)(3, \"h1\", 11);\n    i0.ɵɵtext(4, \"Case transactions\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 56)(6, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_2_Template_a_click_6_listener($event) {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r90 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r90.redirectToFeeSearchPage($event));\n    });\n    i0.ɵɵtext(7, \"Add a new fee\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"div\", 58)(10, \"h3\", 26);\n    i0.ɵɵtext(11, \"CCD reference:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"ccdHyphens\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 13);\n    i0.ɵɵelement(16, \"hr\", 14);\n    i0.ɵɵelementStart(17, \"table\", 15)(18, \"thead\", 16)(19, \"tr\", 17)(20, \"td\", 18);\n    i0.ɵɵtext(21, \"Total payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\", 18);\n    i0.ɵɵtext(23, \"Total remissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 18);\n    i0.ɵɵtext(25, \"Amount due\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"tbody\", 20)(27, \"tr\", 21)(28, \"td\", 37);\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 37);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"td\", 37);\n    i0.ɵɵtext(35);\n    i0.ɵɵpipe(36, \"currency\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵtemplate(37, CaseTransactionsComponent_ng_container_2_div_2_div_37_Template, 25, 0, \"div\", 0);\n    i0.ɵɵtemplate(38, CaseTransactionsComponent_ng_container_2_div_2_div_38_Template, 29, 4, \"div\", 59);\n    i0.ɵɵtemplate(39, CaseTransactionsComponent_ng_container_2_div_2_ccpay_app_unprocessed_payments_39_Template, 1, 8, \"ccpay-app-unprocessed-payments\", 60);\n    i0.ɵɵtemplate(40, CaseTransactionsComponent_ng_container_2_div_2_div_40_Template, 7, 6, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(26, _c1, !ctx_r10.isAddFeeBtnEnabled));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 9, ctx_r10.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(30, 11, ctx_r10.totalPayments, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(33, 16, ctx_r10.totalRemissions, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(36, 21, ctx_r10.totalFees - ctx_r10.totalRemissions - ctx_r10.totalPayments, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r10.paymentGroups == null ? null : ctx_r10.paymentGroups.length) === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.paymentGroups);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.isBulkScanEnable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.totalRefundAmount > 0 && ctx_r10.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_3_ccpay_app_unprocessed_payments_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r94 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-app-unprocessed-payments\", 82);\n    i0.ɵɵlistener(\"getUnprocessedFeeCount\", function CaseTransactionsComponent_ng_container_2_div_3_ccpay_app_unprocessed_payments_1_Template_ccpay_app_unprocessed_payments_getUnprocessedFeeCount_0_listener($event) {\n      i0.ɵɵrestoreView(_r94);\n      const ctx_r93 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r93.getUnprocessedFeeCount($event));\n    })(\"selectedUnprocessedFeeEvent\", function CaseTransactionsComponent_ng_container_2_div_3_ccpay_app_unprocessed_payments_1_Template_ccpay_app_unprocessed_payments_selectedUnprocessedFeeEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r94);\n      const ctx_r95 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r95.selectedUnprocessedFeeEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r92 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"IS_BUTTON_ENABLE\", ctx_r92.takePayment)(\"LEVEL\", 1)(\"ISTURNOFF\", ctx_r92.isTurnOff)(\"ISSFENABLE\", ctx_r92.isStrategicFixEnable)(\"FEE_RECORDS_EXISTS\", ctx_r92.isFeeRecordsExist)(\"IS_OS_AMT_AVAILABLE\", ctx_r92.isGrpOutstandingAmtPositive)(\"PAYMENTSLENGTH\", ctx_r92.allPayments == null ? null : ctx_r92.allPayments.length)(\"PAYMENTREF\", ctx_r92.paymentRef);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_3_ccpay_app_unprocessed_payments_1_Template, 1, 8, \"ccpay-app-unprocessed-payments\", 81);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isBulkScanEnable && !ctx_r11.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_4_tbody_17_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r101 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 89);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 90);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 91);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 92);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"td\", 89);\n    i0.ɵɵelementStart(12, \"td\", 51)(13, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_2_div_4_tbody_17_tr_1_Template_a_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r101);\n      const payment_r99 = restoredCtx.$implicit;\n      const ctx_r100 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r100.goToPayementView(payment_r99.paymentGroupReference, payment_r99.reference, payment_r99.method));\n    });\n    i0.ɵɵtext(14, \"Review\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r99 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r99.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 4, payment_r99.amount, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 9, payment_r99.date_created, \"dd MMM yyyy HH:mm:ss\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r99.paymentGroupReference);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_4_tbody_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_4_tbody_17_tr_1_Template, 15, 12, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r96 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r96.allPayments);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_4_ccpay_app_unprocessed_payments_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r103 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-app-unprocessed-payments\", 93);\n    i0.ɵɵlistener(\"getUnprocessedFeeCount\", function CaseTransactionsComponent_ng_container_2_div_4_ccpay_app_unprocessed_payments_18_Template_ccpay_app_unprocessed_payments_getUnprocessedFeeCount_0_listener($event) {\n      i0.ɵɵrestoreView(_r103);\n      const ctx_r102 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r102.getUnprocessedFeeCount($event));\n    })(\"selectedUnprocessedFeeEvent\", function CaseTransactionsComponent_ng_container_2_div_4_ccpay_app_unprocessed_payments_18_Template_ccpay_app_unprocessed_payments_selectedUnprocessedFeeEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r103);\n      const ctx_r104 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r104.selectedUnprocessedFeeEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r97 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"IS_BUTTON_ENABLE\", ctx_r97.takePayment)(\"LEVEL\", 2)(\"ISTURNOFF\", ctx_r97.isTurnOff)(\"ISSFENABLE\", ctx_r97.isStrategicFixEnable)(\"FEE_RECORDS_EXISTS\", ctx_r97.isFeeRecordsExist)(\"IS_OS_AMT_AVAILABLE\", ctx_r97.isGrpOutstandingAmtPositive)(\"PAYMENTSLENGTH\", ctx_r97.allPayments == null ? null : ctx_r97.allPayments.length)(\"PAYMENTREF\", ctx_r97.paymentRef);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 79)(1, \"div\", 31)(2, \"span\", 26);\n    i0.ɵɵtext(3, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"table\", 15)(5, \"thead\", 16)(6, \"tr\", 17)(7, \"td\", 83);\n    i0.ɵɵtext(8, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 84);\n    i0.ɵɵtext(10, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 85);\n    i0.ɵɵtext(12, \"Date allocated\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 86);\n    i0.ɵɵtext(14, \"Request reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"td\", 87)(16, \"td\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, CaseTransactionsComponent_ng_container_2_div_4_tbody_17_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CaseTransactionsComponent_ng_container_2_div_4_ccpay_app_unprocessed_payments_18_Template, 1, 8, \"ccpay-app-unprocessed-payments\", 88);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r12.allPayments == null ? null : ctx_r12.allPayments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.isBulkScanEnable && !ctx_r12.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_2_div_1_Template, 5, 3, \"div\", 0);\n    i0.ɵɵtemplate(2, CaseTransactionsComponent_ng_container_2_div_2_Template, 41, 28, \"div\", 0);\n    i0.ɵɵtemplate(3, CaseTransactionsComponent_ng_container_2_div_3_Template, 2, 1, \"div\", 0);\n    i0.ɵɵtemplate(4, CaseTransactionsComponent_ng_container_2_div_4_Template, 19, 2, \"div\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.viewStatus === \"main1\" && !ctx_r0.isTurnOff && ctx_r0.takePayment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.takePayment && ctx_r0.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.takePayment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 107);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \" Case reference: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"ccdHyphens\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r105 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 1, ctx_r105.ccdCaseNumber), \" \");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 108);\n    i0.ɵɵelementStart(1, \"b\");\n    i0.ɵɵtext(2, \" Exception reference:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"ccdHyphens\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r106 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 1, ctx_r106.ccdCaseNumber), \" \");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 109);\n    i0.ɵɵtext(1, \"Unallocated payments\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r108 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r108.unprocessedRecordCount);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r119 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r119.cpoDetails[\"responsibleParty\"]);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 51);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r122 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_td_6_Template, 2, 1, \"td\", 110);\n    i0.ɵɵtemplate(7, CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_td_7_Template, 1, 0, \"td\", 110);\n    i0.ɵɵelementStart(8, \"td\", 51);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 37)(11, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_Template_a_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r122);\n      const orderRef_r117 = restoredCtx.$implicit;\n      const ctx_r121 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r121.goToOrderViewDetailSection(orderRef_r117));\n    });\n    i0.ɵɵtext(12, \"Review\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\", 111)(14, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_Template_button_click_14_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r122);\n      const orderRef_r117 = restoredCtx.$implicit;\n      const ctx_r123 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r123.redirectToOrderFeeSearchPage($event, orderRef_r117));\n    });\n    i0.ɵɵtext(15, \" Take telephony payment \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const orderRef_r117 = ctx.$implicit;\n    const ctx_r116 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orderRef_r117.orderStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 7, orderRef_r117.orderTotalFees, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r116.cpoDetails !== null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r116.cpoDetails === null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orderRef_r117.orderRefId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !orderRef_r117.orderAddBtnEnable)(\"ngClass\", !orderRef_r117.orderAddBtnEnable ? \"govuk-button govuk-button--secondary govuk-button--disabled govuk-!-margin-right-1\" : \"govuk-button govuk-button--secondary govuk-!-margin-right-1\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_3_tbody_54_tr_1_Template, 16, 12, \"tr\", 59);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r110 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r110.orderLevelFees);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 112)(1, \"td\", 113);\n    i0.ɵɵtext(2, \"No service requests on this case.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_ccpay_app_unprocessed_payments_65_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r125 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-app-unprocessed-payments\", 114);\n    i0.ɵɵlistener(\"getUnprocessedFeeCount\", function CaseTransactionsComponent_ng_container_3_ccpay_app_unprocessed_payments_65_Template_ccpay_app_unprocessed_payments_getUnprocessedFeeCount_0_listener($event) {\n      i0.ɵɵrestoreView(_r125);\n      const ctx_r124 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r124.getUnprocessedFeeCount($event));\n    })(\"selectedUnprocessedFeeEvent\", function CaseTransactionsComponent_ng_container_3_ccpay_app_unprocessed_payments_65_Template_ccpay_app_unprocessed_payments_selectedUnprocessedFeeEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r125);\n      const ctx_r126 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r126.selectedUnprocessedFeeEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r112 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"IS_BUTTON_ENABLE\", ctx_r112.takePayment)(\"LEVEL\", 3)(\"PAYMENTSLENGTH\", ctx_r112.allPayments == null ? null : ctx_r112.allPayments.length)(\"ISTURNOFF\", ctx_r112.isTurnOff)(\"ISSFENABLE\", ctx_r112.isStrategicFixEnable)(\"PAYMENTREF\", ctx_r112.paymentRef)(\"FEE_RECORDS_EXISTS\", ctx_r112.isFeeRecordsExist)(\"IS_OS_AMT_AVAILABLE\", ctx_r112.isGrpOutstandingAmtPositive);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_69_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r130 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 115);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 90);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 91);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 92);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"td\", 89);\n    i0.ɵɵelementStart(12, \"td\", 51)(13, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_3_tbody_69_tr_1_Template_a_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r130);\n      const payment_r128 = restoredCtx.$implicit;\n      const ctx_r129 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r129.goToPayementView(payment_r128.paymentGroupReference, payment_r128.reference, payment_r128.method));\n    });\n    i0.ɵɵtext(14, \"Review\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r128 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r128.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 4, payment_r128.amount, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 9, payment_r128.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r128.paymentGroupReference);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_3_tbody_69_tr_1_Template, 15, 12, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r113 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r113.allPayments);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_tbody_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 113);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 26);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3, \"Refunds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"ccpay-refund-status\", 116);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r115 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ccdCaseNumber\", ctx_r115.ccdCaseNumber)(\"isTurnOff\", ctx_r115.isTurnOff)(\"orderParty\", ctx_r115.orderParty)(\"LOGGEDINUSERROLES\", ctx_r115.LOGGEDINUSERROLES);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r132 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"div\")(3, \"h1\", 94);\n    i0.ɵɵtext(4, \"Case transactions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CaseTransactionsComponent_ng_container_3_ng_container_5_Template, 5, 3, \"ng-container\", 95);\n    i0.ɵɵtemplate(6, CaseTransactionsComponent_ng_container_3_ng_container_6_Template, 5, 3, \"ng-container\", 96);\n    i0.ɵɵelementStart(7, \"div\")(8, \"table\", 15)(9, \"thead\", 16)(10, \"tr\", 17)(11, \"td\", 97);\n    i0.ɵɵtext(12, \"Total payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, CaseTransactionsComponent_ng_container_3_td_13_Template, 2, 0, \"td\", 98);\n    i0.ɵɵelementStart(14, \"td\", 97);\n    i0.ɵɵtext(15, \"Total remissions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 86);\n    i0.ɵɵtext(17, \"Amount due\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 86);\n    i0.ɵɵtext(19, \"Over payment\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\", 20)(21, \"tr\", 21)(22, \"td\", 22);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, CaseTransactionsComponent_ng_container_3_td_25_Template, 2, 1, \"td\", 23);\n    i0.ɵɵelementStart(26, \"td\", 22);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\", 22);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"td\", 22);\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"currency\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelement(35, \"input\", 99, 2);\n    i0.ɵɵelementStart(37, \"div\", 100)(38, \"span\", 26);\n    i0.ɵɵtext(39, \"Service requests\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerStart(40);\n    i0.ɵɵelementStart(41, \"table\", 15)(42, \"thead\", 16)(43, \"tr\", 17)(44, \"td\", 85);\n    i0.ɵɵtext(45, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"td\", 84);\n    i0.ɵɵtext(47, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\", 101);\n    i0.ɵɵtext(49, \"Party\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"td\", 102);\n    i0.ɵɵtext(51, \"Request reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(52, \"td\", 87)(53, \"td\", 103);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(54, CaseTransactionsComponent_ng_container_3_tbody_54_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(55, CaseTransactionsComponent_ng_container_3_tbody_55_Template, 3, 0, \"tbody\", 104);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementStart(56, \"span\");\n    i0.ɵɵelement(57, \"br\");\n    i0.ɵɵelementStart(58, \"a\", 105);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_3_Template_a_click_58_listener($event) {\n      i0.ɵɵrestoreView(_r132);\n      const ctx_r131 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r131.redirectToFeeSearchPage($event));\n    });\n    i0.ɵɵtext(59, \"Create service request and pay\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(60, \"br\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"div\")(62, \"span\", 26);\n    i0.ɵɵelement(63, \"br\");\n    i0.ɵɵtext(64, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(65, CaseTransactionsComponent_ng_container_3_ccpay_app_unprocessed_payments_65_Template, 1, 8, \"ccpay-app-unprocessed-payments\", 106);\n    i0.ɵɵelementContainerStart(66);\n    i0.ɵɵelementStart(67, \"table\", 15);\n    i0.ɵɵelement(68, \"thead\", 16);\n    i0.ɵɵtemplate(69, CaseTransactionsComponent_ng_container_3_tbody_69_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(70, CaseTransactionsComponent_ng_container_3_tbody_70_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(71, CaseTransactionsComponent_ng_container_3_div_71_Template, 5, 4, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isExceptionRecord);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isExceptionRecord);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isBulkScanEnable);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(24, 16, ctx_r1.totalPayments, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isBulkScanEnable);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(28, 21, ctx_r1.totalRemissions, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(31, 26, ctx_r1.clAmountDue, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(34, 31, ctx_r1.overPaymentAmount, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.orderLevelFees == null ? null : ctx_r1.orderLevelFees.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.orderLevelFees == null ? null : ctx_r1.orderLevelFees.length) === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"disable-link\", !ctx_r1.isAddFeeBtnEnabled);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isBulkScanEnable);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.allPayments == null ? null : ctx_r1.allPayments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.allPayments == null ? null : ctx_r1.allPayments.length) === 0 && ctx_r1.unprocessedRecordCount <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.check4AllowedRoles2AccessPBApayment());\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 51);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r142 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r142.cpoDetails[\"responsibleParty\"]);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 51);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r147 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_a_11_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r147);\n      const orderRef_r140 = i0.ɵɵnextContext().$implicit;\n      const ctx_r145 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r145.loadPBAAccountPage(orderRef_r140));\n    });\n    i0.ɵɵtext(1, \" Pay now\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r149 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_td_6_Template, 2, 1, \"td\", 120);\n    i0.ɵɵtemplate(7, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_td_7_Template, 1, 0, \"td\", 120);\n    i0.ɵɵelementStart(8, \"td\", 51);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 121);\n    i0.ɵɵtemplate(11, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_a_11_Template, 2, 0, \"a\", 122);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 37)(13, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_Template_a_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r149);\n      const orderRef_r140 = restoredCtx.$implicit;\n      const ctx_r148 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r148.goToOrderViewDetailSection(orderRef_r140));\n    });\n    i0.ɵɵtext(14, \"Review\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const orderRef_r140 = ctx.$implicit;\n    const ctx_r139 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orderRef_r140.orderStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 6, orderRef_r140.orderTotalFees, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r139.cpoDetails !== null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r139.cpoDetails === null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(orderRef_r140.orderRefId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r139.serviceRequestValue !== \"false\" && ctx_r139.check4AllowedRoles2AccessPBApayment() && orderRef_r140.orderStatus === \"Not paid\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_tr_1_Template, 15, 11, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r137 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r137.orderLevelFees);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"tr\", 17)(2, \"td\", 123);\n    i0.ɵɵtext(3, \"No service requests on this case.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 15)(2, \"thead\", 16)(3, \"tr\", 17)(4, \"td\", 85);\n    i0.ɵɵtext(5, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 101);\n    i0.ɵɵtext(7, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 101);\n    i0.ɵɵtext(9, \"Party\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 119);\n    i0.ɵɵtext(11, \"Request reference\\t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"td\", 87)(13, \"td\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_14_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(15, CaseTransactionsComponent_ng_container_4_ng_container_2_tbody_15_Template, 4, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r133 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r133.orderLevelFees == null ? null : ctx_r133.orderLevelFees.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r133.orderLevelFees == null ? null : ctx_r133.orderLevelFees.length) === 0 && ctx_r133.serviceRequestValue === \"false\");\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h1\", 124);\n    i0.ɵɵtext(2, \"If you are expecting to pay and are not able to see a service request,\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"please refresh and try in some time.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_5_tbody_18_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r156 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 17)(1, \"td\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 51);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 51);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 51);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"td\", 51);\n    i0.ɵɵelementStart(12, \"td\", 51)(13, \"a\", 52);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_4_div_5_tbody_18_tr_1_Template_a_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r156);\n      const payment_r154 = restoredCtx.$implicit;\n      const ctx_r155 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r155.goToPayementView(payment_r154.paymentGroupReference, payment_r154.reference, payment_r154.method));\n    });\n    i0.ɵɵtext(14, \"Review\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r154 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r154.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 4, payment_r154.amount, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 9, payment_r154.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r154 == null ? null : payment_r154.reference);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_5_tbody_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20);\n    i0.ɵɵtemplate(1, CaseTransactionsComponent_ng_container_4_div_5_tbody_18_tr_1_Template, 15, 12, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r150 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r150.allPayments);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_5_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 20)(1, \"td\", 113);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_5_ccpay_app_unprocessed_payments_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r158 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-app-unprocessed-payments\", 127);\n    i0.ɵɵlistener(\"getUnprocessedFeeCount\", function CaseTransactionsComponent_ng_container_4_div_5_ccpay_app_unprocessed_payments_20_Template_ccpay_app_unprocessed_payments_getUnprocessedFeeCount_0_listener($event) {\n      i0.ɵɵrestoreView(_r158);\n      const ctx_r157 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r157.getUnprocessedFeeCount($event));\n    })(\"selectedUnprocessedFeeEvent\", function CaseTransactionsComponent_ng_container_4_div_5_ccpay_app_unprocessed_payments_20_Template_ccpay_app_unprocessed_payments_selectedUnprocessedFeeEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r158);\n      const ctx_r159 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r159.selectedUnprocessedFeeEvent($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r152 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"IS_BUTTON_ENABLE\", ctx_r152.takePayment)(\"LEVEL\", 4)(\"ISTURNOFF\", ctx_r152.isTurnOff)(\"ISSFENABLE\", ctx_r152.isStrategicFixEnable)(\"PAYMENTSLENGTH\", ctx_r152.allPayments == null ? null : ctx_r152.allPayments.length)(\"PAYMENTREF\", ctx_r152.paymentRef)(\"FEE_RECORDS_EXISTS\", ctx_r152.isAnyFeeGroupAvilable)(\"IS_OS_AMT_AVAILABLE\", ctx_r152.isGrpOutstandingAmtPositive);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 26);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerStart(4);\n    i0.ɵɵelementStart(5, \"table\", 15)(6, \"thead\", 16)(7, \"tr\", 17)(8, \"td\", 85);\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 84);\n    i0.ɵɵtext(11, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 125);\n    i0.ɵɵtext(13, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 119);\n    i0.ɵɵtext(15, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"td\", 83)(17, \"td\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, CaseTransactionsComponent_ng_container_4_div_5_tbody_18_Template, 2, 1, \"tbody\", 33);\n    i0.ɵɵtemplate(19, CaseTransactionsComponent_ng_container_4_div_5_tbody_19_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, CaseTransactionsComponent_ng_container_4_div_5_ccpay_app_unprocessed_payments_20_Template, 1, 8, \"ccpay-app-unprocessed-payments\", 126);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r135 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r135.allPayments == null ? null : ctx_r135.allPayments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r135.allPayments == null ? null : ctx_r135.allPayments.length) === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r135.isBulkScanEnable && !ctx_r135.takePayment);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"span\", 26);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3, \"Refunds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"ccpay-refund-status\", 128);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r136 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ccdCaseNumber\", ctx_r136.ccdCaseNumber)(\"orderParty\", ctx_r136.orderParty);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 117);\n    i0.ɵɵtemplate(2, CaseTransactionsComponent_ng_container_4_ng_container_2_Template, 16, 2, \"ng-container\", 0);\n    i0.ɵɵtemplate(3, CaseTransactionsComponent_ng_container_4_ng_container_3_Template, 5, 0, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 31);\n    i0.ɵɵtemplate(5, CaseTransactionsComponent_ng_container_4_div_5_Template, 21, 3, \"div\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CaseTransactionsComponent_ng_container_4_div_6_Template, 5, 2, \"div\", 118);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.serviceRequestValue !== \"false\" ? \"govuk-margin-btm-20px\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !((ctx_r2.orderLevelFees == null ? null : ctx_r2.orderLevelFees.length) === 0 && !ctx_r2.isAnyFeeGroupAvilable) && ctx_r2.serviceRequestValue !== \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r2.orderLevelFees == null ? null : ctx_r2.orderLevelFees.length) === 0 && ctx_r2.serviceRequestValue !== \"false\" && !ctx_r2.isAnyFeeGroupAvilable);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.serviceRequestValue === \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.check4AllowedRoles2AccessPBApayment());\n  }\n}\nfunction CaseTransactionsComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r161 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-service-request\", 129);\n    i0.ɵɵlistener(\"goToServiceRquestComponent\", function CaseTransactionsComponent_ng_container_7_Template_ccpay_service_request_goToServiceRquestComponent_1_listener() {\n      i0.ɵɵrestoreView(_r161);\n      const ctx_r160 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r160.goToServiceRequestPage());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"viewStatus\", ctx_r4.viewStatus)(\"orderRef\", ctx_r4.orderRef)(\"orderStatus\", ctx_r4.orderStatus)(\"orderCreated\", ctx_r4.orderCreated)(\"orderParty\", ctx_r4.orderParty)(\"orderCCDEvent\", ctx_r4.orderCCDEvent)(\"orderDetail\", ctx_r4.orderDetail)(\"paymentGroupList\", ctx_r4.paymentGroups)(\"LOGGEDINUSERROLES\", ctx_r4.LOGGEDINUSERROLES)(\"ccdCaseNumber\", ctx_r4.ccdCaseNumber)(\"orderFeesTotal\", ctx_r4.orderFeesTotal)(\"orderTotalPayments\", ctx_r4.orderTotalPayments)(\"orderRemissionTotal\", ctx_r4.orderRemissionTotal)(\"isServiceRequest\", ctx_r4.serviceRequestValue);\n  }\n}\nfunction CaseTransactionsComponent_ccpay_add_remission_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 130);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r5.isTurnOff)(\"isStrategicFixEnable\", ctx_r5.isStrategicFixEnable)(\"viewCompStatus\", ctx_r5.viewStatus)(\"fee\", ctx_r5.feeId)(\"orderStatus\", ctx_r5.orderStatus)(\"paidAmount\", ctx_r5.orderTotalPayments)(\"isRefundRemission\", ctx_r5.isRefundRemission)(\"caseType\", ctx_r5.caseType)(\"paymentGroupRef\", ctx_r5.orderRef)(\"isFromServiceRequestPage\", true)(\"payment\", ctx_r5.payment)(\"ccdCaseNumber\", ctx_r5.ccdCaseNumber);\n  }\n}\nfunction CaseTransactionsComponent_ccpay_add_remission_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 131);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r6.isTurnOff)(\"isStrategicFixEnable\", ctx_r6.isStrategicFixEnable)(\"viewCompStatus\", ctx_r6.viewStatus)(\"isFromServiceRequestPage\", true)(\"payment\", ctx_r6.payment)(\"orderStatus\", ctx_r6.orderStatus)(\"paidAmount\", ctx_r6.orderTotalPayments)(\"isRefundRemission\", ctx_r6.isRefundRemission)(\"caseType\", ctx_r6.caseType)(\"paymentGroupRef\", ctx_r6.orderRef)(\"ccdCaseNumber\", ctx_r6.ccdCaseNumber);\n  }\n}\nfunction CaseTransactionsComponent_ccpay_add_remission_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 132);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r7.isTurnOff)(\"isStrategicFixEnable\", ctx_r7.isStrategicFixEnable)(\"viewCompStatus\", ctx_r7.viewStatus)(\"payment\", ctx_r7.payment)(\"orderStatus\", ctx_r7.orderStatus)(\"paidAmount\", ctx_r7.orderTotalPayments)(\"isRefundRemission\", ctx_r7.isRefundRemission)(\"caseType\", ctx_r7.caseType)(\"feeamount\", ctx_r7.remissionFeeAmt)(\"remission\", ctx_r7.remissions)(\"isFromServiceRequestPage\", true)(\"ccdCaseNumber\", ctx_r7.ccdCaseNumber);\n  }\n}\nfunction CaseTransactionsComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r163 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 133)(2, \"span\", 134);\n    i0.ɵɵtext(3, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"strong\", 135)(5, \"span\", 136);\n    i0.ɵɵtext(6, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" Are you sure you want to delete this fee? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 137)(9, \"form\", 138)(10, \"button\", 139);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_11_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r163);\n      const ctx_r162 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r162.cancelRemoval());\n    });\n    i0.ɵɵtext(11, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 140);\n    i0.ɵɵlistener(\"click\", function CaseTransactionsComponent_ng_container_11_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r163);\n      const ctx_r164 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r164.removeFee(ctx_r164.feeId));\n    });\n    i0.ɵɵtext(13, \" Remove \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"disabled\", ctx_r8.isRemoveBtnDisabled)(\"ngClass\", ctx_r8.isRemoveBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 27)(1, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_li_3_Template_a_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(2, \"Back\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 27)(1, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_li_4_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.goToServiceRequestPage());\n    });\n    i0.ɵɵtext(2, \"Back\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 30);\n    i0.ɵɵtext(1, \"Fee\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 31);\n    i0.ɵɵtext(1, \"Fee\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_td_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 21);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(fee_r27.description);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(fee_r27.description);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 40)(1, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const fee_r27 = i0.ɵɵnextContext().$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r34.addRemission(fee_r27));\n    });\n    i0.ɵɵtext(2, \" Add remission\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r27 = i0.ɵɵnextContext().$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r31.chkIsAddRemissionBtnEnable(fee_r27));\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_49_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 18);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_1_Template, 2, 1, \"td\", 34);\n    i0.ɵɵtemplate(2, ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_2_Template, 2, 1, \"td\", 35);\n    i0.ɵɵelementStart(3, \"td\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 36);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ServiceRequestComponent_ng_container_0_tbody_49_tr_1_td_9_Template, 3, 1, \"td\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r27 = ctx.$implicit;\n    const ctx_r26 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.isServiceRequest === \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.isServiceRequest !== \"false\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", fee_r27.volume ? fee_r27.volume : \"-\", \" X \", i0.ɵɵpipeBind4(5, 6, fee_r27.calculated_amount / fee_r27.volume, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(8, 11, fee_r27 == null ? null : fee_r27.net_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r26.isServiceRequest === \"false\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 32);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_tbody_49_tr_1_Template, 10, 16, \"tr\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", order_r25.fees);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_50_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 18)(1, \"td\", 43);\n    i0.ɵɵtext(2, \"No fees recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_tbody_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 32);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_tbody_50_tr_1_Template, 3, 0, \"tr\", 42);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r38 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r38.fees == null ? null : order_r38.fees.length) === 0);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_55_div_1_tbody_13_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 18)(1, \"td\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 52);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 52);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 52);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 53)(11, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_ng_container_55_div_1_tbody_13_tr_1_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r48);\n      const remission_r45 = restoredCtx.$implicit;\n      const order_r40 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r46 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r46.addRefundForRemission(order_r40.payments[0], remission_r45, order_r40.fees));\n    });\n    i0.ɵɵtext(12, \" Add refund\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const remission_r45 = ctx.$implicit;\n    const ctx_r44 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r45 == null ? null : remission_r45.hwf_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r45 == null ? null : remission_r45.remission_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r45 == null ? null : remission_r45.fee_code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(9, 5, remission_r45 == null ? null : remission_r45.hwf_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r44.chkIsAddRefundBtnEnable(remission_r45));\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_55_div_1_tbody_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 32);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_ng_container_55_div_1_tbody_13_tr_1_Template, 13, 10, \"tr\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r40 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", order_r40.remissions);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_55_div_1_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\");\n    i0.ɵɵtext(2, \"No help with fees or remissions.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_55_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"table\", 16)(2, \"thead\", 17)(3, \"tr\", 18)(4, \"td\", 45);\n    i0.ɵɵtext(5, \"Help with fees or remission code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 46);\n    i0.ɵɵtext(7, \"Reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 47);\n    i0.ɵɵtext(9, \"Fee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 47);\n    i0.ɵɵtext(11, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"td\", 48);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(13, ServiceRequestComponent_ng_container_0_ng_container_55_div_1_tbody_13_Template, 2, 1, \"tbody\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ServiceRequestComponent_ng_container_0_ng_container_55_div_1_div_14_Template, 3, 0, \"div\", 0);\n    i0.ɵɵelementStart(15, \"div\", 50)(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 50)(20, \"p\", 51);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r40 = i0.ɵɵnextContext().$implicit;\n    const ctx_r41 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", (order_r40.remissions == null ? null : order_r40.remissions.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r40.remissions == null ? null : order_r40.remissions.length) === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total reductions: \", i0.ɵɵpipeBind4(18, 4, ctx_r41.orderRemissionTotal, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total fees to pay: \", i0.ɵɵpipeBind4(22, 9, ctx_r41.orderFeesTotal - ctx_r41.orderRemissionTotal, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_ng_container_55_div_1_Template, 23, 14, \"div\", 44);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r40.remissions);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r58 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 18)(1, \"td\", 52)(2, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_tr_1_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r58);\n      const payment_r56 = restoredCtx.$implicit;\n      const ctx_r57 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r57.goToPayementView(payment_r56.paymentGroupReference, payment_r56.reference, payment_r56.method));\n    });\n    i0.ɵɵtext(3, \"Review\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 52);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 52);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 40)(11, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_tr_1_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r58);\n      const payment_r56 = restoredCtx.$implicit;\n      const ctx_r59 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r59.issueRefund(payment_r56));\n    });\n    i0.ɵɵtext(12, \"Issue refund\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r56 = ctx.$implicit;\n    const ctx_r55 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, payment_r56 == null ? null : payment_r56.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(9, 6, payment_r56 == null ? null : payment_r56.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r55.chkIsIssueRefundBtnEnable(payment_r56));\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 32);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_tr_1_Template, 13, 11, \"tr\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r51 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", order_r51.payments);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_56_div_1_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 58);\n    i0.ɵɵtext(2, \"No Payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_56_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h3\", 55);\n    i0.ɵɵtext(2, \"Payments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 16)(4, \"thead\", 17)(5, \"tr\", 18);\n    i0.ɵɵelement(6, \"td\", 56);\n    i0.ɵɵelementStart(7, \"td\", 21);\n    i0.ɵɵtext(8, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 21);\n    i0.ɵɵtext(10, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"td\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, ServiceRequestComponent_ng_container_0_ng_container_56_div_1_tbody_12_Template, 2, 1, \"tbody\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ServiceRequestComponent_ng_container_0_ng_container_56_div_1_div_13_Template, 3, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r51 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", (order_r51.payments == null ? null : order_r51.payments.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r51.payments === undefined || order_r51.payments === null);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_ng_container_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_ng_container_56_div_1_Template, 14, 2, \"div\", 54);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r51 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r51.payments);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_div_57_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 59);\n    i0.ɵɵtext(2, \"Total left to pay: \");\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 1, ctx_r62.orderFeesTotal - ctx_r62.orderRemissionTotal - ctx_r62.orderTotalPayments, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_div_57_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 59);\n    i0.ɵɵtext(2, \"Total left to pay: \");\n    i0.ɵɵelementStart(3, \"b\");\n    i0.ɵɵtext(4, \"0\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ServiceRequestComponent_ng_container_0_div_57_div_1_Template, 6, 6, \"div\", 0);\n    i0.ɵɵtemplate(2, ServiceRequestComponent_ng_container_0_div_57_div_2_Template, 5, 0, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.orderFeesTotal - ctx_r20.orderRemissionTotal - ctx_r20.orderTotalPayments > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.orderFeesTotal - ctx_r20.orderRemissionTotal - ctx_r20.orderTotalPayments < 0);\n  }\n}\nfunction ServiceRequestComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 7)(2, \"ol\", 8);\n    i0.ɵɵtemplate(3, ServiceRequestComponent_ng_container_0_li_3_Template, 3, 0, \"li\", 9);\n    i0.ɵɵtemplate(4, ServiceRequestComponent_ng_container_0_li_4_Template, 3, 0, \"li\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 10)(6, \"div\", 11)(7, \"h1\", 12);\n    i0.ɵɵtext(8, \"Service request\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"table\")(10, \"tbody\")(11, \"tr\", 13)(12, \"td\", 14);\n    i0.ɵɵtext(13, \"Service request reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"tr\", 13)(17, \"td\", 14);\n    i0.ɵɵtext(18, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"tr\", 13)(22, \"td\", 14);\n    i0.ɵɵtext(23, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"tr\", 13)(28, \"td\", 14);\n    i0.ɵɵtext(29, \"Party\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"td\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"tr\", 13)(33, \"td\", 14);\n    i0.ɵɵtext(34, \"CCD event\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"td\");\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(37, \"div\", 15)(38, \"div\", 11)(39, \"table\", 16)(40, \"thead\", 17)(41, \"tr\", 18);\n    i0.ɵɵtemplate(42, ServiceRequestComponent_ng_container_0_td_42_Template, 2, 0, \"td\", 19);\n    i0.ɵɵtemplate(43, ServiceRequestComponent_ng_container_0_td_43_Template, 2, 0, \"td\", 20);\n    i0.ɵɵelementStart(44, \"td\", 21);\n    i0.ɵɵtext(45, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"td\", 21);\n    i0.ɵɵtext(47, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(48, ServiceRequestComponent_ng_container_0_td_48_Template, 1, 0, \"td\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(49, ServiceRequestComponent_ng_container_0_tbody_49_Template, 2, 1, \"tbody\", 23);\n    i0.ɵɵtemplate(50, ServiceRequestComponent_ng_container_0_tbody_50_Template, 2, 1, \"tbody\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(51, \"div\", 24)(52, \"p\", 25);\n    i0.ɵɵtext(53);\n    i0.ɵɵpipe(54, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(55, ServiceRequestComponent_ng_container_0_ng_container_55_Template, 2, 1, \"ng-container\", 26);\n    i0.ɵɵtemplate(56, ServiceRequestComponent_ng_container_0_ng_container_56_Template, 2, 1, \"ng-container\", 26);\n    i0.ɵɵtemplate(57, ServiceRequestComponent_ng_container_0_div_57_Template, 3, 2, \"div\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest === \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest !== \"false\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r0.orderRef);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.orderStatus);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(26, 16, ctx_r0.orderCreated, \"dd MMMM yyyy\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.orderCCDEvent);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest === \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest !== \"false\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest === \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderDetail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderDetail);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total fees: \", i0.ɵɵpipeBind4(54, 19, ctx_r0.orderFeesTotal, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderDetail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderDetail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isServiceRequest === \"false\");\n  }\n}\nfunction ServiceRequestComponent_ccpay_add_remission_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 60);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r1.isTurnOff)(\"isStrategicFixEnable\", ctx_r1.isStrategicFixEnable)(\"viewCompStatus\", ctx_r1.viewStatus)(\"fee\", ctx_r1.feeId)(\"orderStatus\", ctx_r1.orderStatus)(\"paidAmount\", ctx_r1.orderTotalPayments)(\"isRefundRemission\", ctx_r1.isRefundRemission)(\"caseType\", ctx_r1.caseType)(\"isServiceRequest\", ctx_r1.isServiceRequest)(\"paymentGroupRef\", ctx_r1.orderRef)(\"isFromServiceRequestPage\", true)(\"payment\", ctx_r1.payment)(\"ccdCaseNumber\", ctx_r1.ccdCaseNumber)(\"orderRef\", ctx_r1.orderRef)(\"orderStatus\", ctx_r1.orderStatus)(\"orderCreated\", ctx_r1.orderCreated)(\"orderParty\", ctx_r1.orderParty)(\"orderCCDEvent\", ctx_r1.orderCCDEvent)(\"orderDetail\", ctx_r1.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r1.LOGGEDINUSERROLES)(\"takepayment\", ctx_r1.takePayment)(\"orderFeesTotal\", ctx_r1.orderFeesTotal)(\"orderTotalPayments\", ctx_r1.orderTotalPayments)(\"orderRemissionTotal\", ctx_r1.orderRemissionTotal);\n  }\n}\nfunction ServiceRequestComponent_ccpay_add_remission_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 61);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r2.isTurnOff)(\"isStrategicFixEnable\", ctx_r2.isStrategicFixEnable)(\"viewCompStatus\", ctx_r2.viewStatus)(\"isFromServiceRequestPage\", ctx_r2.isFromServiceRequestPage)(\"isFromPaymentDetailPage\", ctx_r2.isFromPaymentDetailPage)(\"payment\", ctx_r2.payment)(\"orderStatus\", ctx_r2.orderStatus)(\"paidAmount\", ctx_r2.orderTotalPayments)(\"isRefundRemission\", ctx_r2.isRefundRemission)(\"caseType\", ctx_r2.caseType)(\"paymentGroupRef\", ctx_r2.orderRef)(\"ccdCaseNumber\", ctx_r2.ccdCaseNumber)(\"orderRef\", ctx_r2.orderRef)(\"orderStatus\", ctx_r2.orderStatus)(\"orderCreated\", ctx_r2.orderCreated)(\"orderParty\", ctx_r2.orderParty)(\"orderCCDEvent\", ctx_r2.orderCCDEvent)(\"orderDetail\", ctx_r2.orderDetail)(\"isFullyRefund\", ctx_r2.isFullyRefund)(\"fees\", ctx_r2.paymentFees)(\"LOGGEDINUSERROLES\", ctx_r2.LOGGEDINUSERROLES)(\"isFromRefundListPage\", false)(\"takepayment\", ctx_r2.takePayment)(\"orderFeesTotal\", ctx_r2.orderFeesTotal)(\"orderTotalPayments\", ctx_r2.orderTotalPayments)(\"orderRemissionTotal\", ctx_r2.orderRemissionTotal);\n  }\n}\nfunction ServiceRequestComponent_ccpay_add_remission_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-add-remission\", 62);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r3.isTurnOff)(\"isStrategicFixEnable\", ctx_r3.isStrategicFixEnable)(\"viewCompStatus\", ctx_r3.viewStatus)(\"payment\", ctx_r3.payment)(\"orderStatus\", ctx_r3.orderStatus)(\"paidAmount\", ctx_r3.orderTotalPayments)(\"isRefundRemission\", ctx_r3.isRefundRemission)(\"caseType\", ctx_r3.caseType)(\"feeamount\", ctx_r3.remissionFeeAmt)(\"remission\", ctx_r3.remissions)(\"isFromServiceRequestPage\", ctx_r3.isServiceRequest)(\"ccdCaseNumber\", ctx_r3.ccdCaseNumber)(\"orderRef\", ctx_r3.orderRef)(\"orderStatus\", ctx_r3.orderStatus)(\"orderCreated\", ctx_r3.orderCreated)(\"orderParty\", ctx_r3.orderParty)(\"orderCCDEvent\", ctx_r3.orderCCDEvent)(\"orderDetail\", ctx_r3.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r3.LOGGEDINUSERROLES)(\"takepayment\", ctx_r3.takePayment)(\"orderFeesTotal\", ctx_r3.orderFeesTotal)(\"orderTotalPayments\", ctx_r3.orderTotalPayments)(\"orderRemissionTotal\", ctx_r3.orderRemissionTotal);\n  }\n}\nfunction ServiceRequestComponent_ccpay_payment_view_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-payment-view\", 63);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"LOGGEDINUSERROLES\", ctx_r4.LOGGEDINUSERROLES)(\"isTurnOff\", ctx_r4.isTurnOff)(\"isTakePayment\", ctx_r4.takePayment)(\"caseType\", ctx_r4.caseType)(\"orderRef\", ctx_r4.orderRef)(\"orderStatus\", ctx_r4.orderStatus)(\"orderCreated\", ctx_r4.orderCreated)(\"orderParty\", ctx_r4.orderParty)(\"orderCCDEvent\", ctx_r4.orderCCDEvent)(\"orderDetail\", ctx_r4.orderDetail)(\"orderFeesTotal\", ctx_r4.orderFeesTotal)(\"orderTotalPayments\", ctx_r4.orderTotalPayments)(\"orderRemissionTotal\", ctx_r4.orderRemissionTotal)(\"isServiceRequest\", ctx_r4.isServiceRequest);\n  }\n}\nfunction ServiceRequestComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r65 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 64)(2, \"span\", 65);\n    i0.ɵɵtext(3, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"strong\", 66)(5, \"span\", 67);\n    i0.ɵɵtext(6, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" Are you sure you want to delete this fee? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 68)(9, \"form\", 69)(10, \"button\", 70);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_5_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r64 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r64.cancelRemoval());\n    });\n    i0.ɵɵtext(11, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 71);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_5_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r65);\n      const ctx_r66 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r66.removeFee(ctx_r66.feeId));\n    });\n    i0.ɵɵtext(13, \" Remove \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"disabled\", ctx_r5.isRemoveBtnDisabled)(\"ngClass\", ctx_r5.isRemoveBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 72, 73);\n    i0.ɵɵelementStart(3, \"h1\", 74);\n    i0.ɵɵtext(4, \"Issue refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 55);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 75);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 76)(11, \"fieldset\", 77)(12, \"legend\", 78)(13, \"h1\", 55);\n    i0.ɵɵtext(14, \"Select payment to refund\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 79)(16, \"div\", 80)(17, \"input\", 81);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_7_Template_input_click_17_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r68.selectPymentOption(\"op\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"label\", 82);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 80)(22, \"input\", 83);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_7_Template_input_click_22_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r70 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r70.selectPymentOption(\"fp\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\", 84);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"button\", 85);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_7_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r71 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r71.goToPaymentViewComp());\n    });\n    i0.ɵɵtext(27, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 86);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_7_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r72 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r72.continuePayment(ctx_r72.paymentGroupList));\n    });\n    i0.ɵɵtext(29, \" Continue\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 6, ctx_r6.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r6.paymentGroupList == null ? null : ctx_r6.paymentGroupList.payments[0] == null ? null : ctx_r6.paymentGroupList.payments[0].reference, \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" Over payment \\xA3\", i0.ɵɵpipeBind2(20, 8, ctx_r6.getOverPaymentValue(), \".2\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Full payment \\xA3\", i0.ɵɵpipeBind2(25, 11, ctx_r6.paymentGroupList == null ? null : ctx_r6.paymentGroupList.payments[0] == null ? null : ctx_r6.paymentGroupList.payments[0].amount, \".2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.isContinueBtnDisabled)(\"ngClass\", ctx_r6.isContinueBtnDisabled ? \"button button--disabled govuk-!-margin-right-1 govuk-font19px\" : \"button govuk-!-margin-right-1 govuk-font19px\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r75 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 87, 73);\n    i0.ɵɵelementStart(3, \"h1\", 88);\n    i0.ɵɵtext(4, \"Issue refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 89);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 90);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 91);\n    i0.ɵɵlistener(\"assignContactDetails\", function ServiceRequestComponent_ng_container_8_Template_ccpay_contact_details_assignContactDetails_10_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.getContactDetails($event));\n    })(\"redirectToIssueRefund\", function ServiceRequestComponent_ng_container_8_Template_ccpay_contact_details_redirectToIssueRefund_10_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.gotoPaymentSelectPage($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 92);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_8_Template_a_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 3, ctx_r7.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r7.paymentGroupList == null ? null : ctx_r7.paymentGroupList.payments[0] == null ? null : ctx_r7.paymentGroupList.payments[0].reference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"addressObj\", ctx_r7.notification);\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 103)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r79 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r79.contactDetailsObj == null ? null : ctx_r79.contactDetailsObj.email == null ? null : ctx_r79.contactDetailsObj.email.trim(), \" \");\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 103)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r80 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r80.contactDetailsObj == null ? null : ctx_r80.contactDetailsObj.address_line == null ? null : ctx_r80.contactDetailsObj.address_line.trim(), \"\\xA0\", ctx_r80.contactDetailsObj == null ? null : ctx_r80.contactDetailsObj.city == null ? null : ctx_r80.contactDetailsObj.city.trim(), \"\\xA0\", ctx_r80.contactDetailsObj == null ? null : ctx_r80.contactDetailsObj.county == null ? null : ctx_r80.contactDetailsObj.county.trim(), \"\\xA0\", ctx_r80.contactDetailsObj == null ? null : ctx_r80.contactDetailsObj.country == null ? null : ctx_r80.contactDetailsObj.country.trim(), \"\\xA0\", ctx_r80.contactDetailsObj == null ? null : ctx_r80.contactDetailsObj.postal_code == null ? null : ctx_r80.contactDetailsObj.postal_code.trim(), \" \");\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_a_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r85 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 104);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_a_53_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r85);\n      const ctx_r84 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r84.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_a_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r87 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 104);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_a_54_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r87);\n      const ctx_r86 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r86.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_app_notification_preview_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 105);\n  }\n  if (rf & 2) {\n    const ctx_r83 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"payment\", ctx_r83.paymentGroupList.payments[0])(\"contactDetails\", ctx_r83.contactDetailsObj)(\"refundReason\", \"RR037\")(\"refundAmount\", ctx_r83.getOverPaymentValue());\n  }\n}\nfunction ServiceRequestComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r89 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 93, 73);\n    i0.ɵɵelementStart(3, \"div\", 64)(4, \"h1\", 74);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 94)(7, \"tr\", 18)(8, \"td\", 95);\n    i0.ɵɵtext(9, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 36);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 18)(13, \"td\", 95);\n    i0.ɵɵtext(14, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 36);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\", 18)(19, \"td\", 95);\n    i0.ɵɵtext(20, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 36);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"tr\", 18)(25, \"td\", 95);\n    i0.ɵɵtext(26, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\", 36);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"tr\", 18)(31, \"td\", 95);\n    i0.ɵɵtext(32, \"Refund reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\", 36);\n    i0.ɵɵtext(34, \"Over payment\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"tr\", 18)(36, \"td\", 95);\n    i0.ɵɵtext(37, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"td\", 36);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"tr\", 18)(41, \"td\", 95);\n    i0.ɵɵtext(42, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\", 52);\n    i0.ɵɵtemplate(44, ServiceRequestComponent_ng_container_9_div_44_Template, 5, 1, \"div\", 96);\n    i0.ɵɵtemplate(45, ServiceRequestComponent_ng_container_9_div_45_Template, 5, 5, \"div\", 96);\n    i0.ɵɵelementStart(46, \"a\", 97);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_Template_a_click_46_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r88 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r88.gotoAddressPage(ctx_r88.contactDetailsObj));\n    });\n    i0.ɵɵtext(47, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"tr\", 18)(49, \"td\", 95);\n    i0.ɵɵtext(50, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"td\", 36);\n    i0.ɵɵtext(52);\n    i0.ɵɵtemplate(53, ServiceRequestComponent_ng_container_9_a_53_Template, 2, 0, \"a\", 98);\n    i0.ɵɵtemplate(54, ServiceRequestComponent_ng_container_9_a_54_Template, 2, 0, \"a\", 98);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(55, ServiceRequestComponent_ng_container_9_app_notification_preview_55_Template, 1, 4, \"app-notification-preview\", 99);\n    i0.ɵɵelementStart(56, \"button\", 100);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r90 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r90.gotoAddressPage(ctx_r90.contactDetailsObj));\n    });\n    i0.ɵɵtext(57, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"button\", 101);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_Template_button_click_58_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r91 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r91.processRefund());\n    });\n    i0.ɵɵtext(59, \" Submit refund \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"p\")(61, \"a\", 102);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_9_Template_a_click_61_listener($event) {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r92 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r92.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(62, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r8.paymentGroupList.payments[0].reference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(17, 12, ctx_r8.paymentGroupList.payments[0].amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(23, 17, ctx_r8.paymentGroupList == null ? null : ctx_r8.paymentGroupList.fees[0] == null ? null : ctx_r8.paymentGroupList.fees[0].net_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(29, 22, ctx_r8.getOverPaymentValue(), \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r8.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r8.contactDetailsObj == null ? null : ctx_r8.contactDetailsObj.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r8.contactDetailsObj == null ? null : ctx_r8.contactDetailsObj.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r8.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.notificationPreview);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r8.isContinueBtnDisabled ? \"button button--disabled govuk-!-margin-right-1 govuk-font19px\" : \"button govuk-!-margin-right-1 govuk-font19px\");\n  }\n}\nfunction ServiceRequestComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r95 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 106, 73);\n    i0.ɵɵelementStart(3, \"div\", 107)(4, \"div\")(5, \"div\", 108)(6, \"h1\", 109);\n    i0.ɵɵtext(7, \" Refund submitted \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 110)(9, \"p\", 111)(10, \"strong\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"h2\", 88);\n    i0.ɵɵtext(13, \"What happens next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 112);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 112)(18, \"a\", 113);\n    i0.ɵɵlistener(\"click\", function ServiceRequestComponent_ng_container_10_Template_a_click_18_listener($event) {\n      i0.ɵɵrestoreView(_r95);\n      const ctx_r94 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r94.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(19, \" Return to case \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Refund reference: \", ctx_r9.refundReference, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" A refund request for \", i0.ɵɵpipeBind4(16, 2, ctx_r9.refundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" has been created and will be passed to a team leader to approve. \");\n  }\n}\nfunction ServiceRequestComponent_ccpay_case_transactions_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-case-transactions\", 114);\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isFromServiceRequestPage\", ctx_r10.isServiceRequest)(\"LOGGEDINUSERROLES\", ctx_r10.LOGGEDINUSERROLES)(\"isTakePayment\", ctx_r10.takePayment);\n  }\n}\nfunction AddRemissionComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"h2\", 3);\n    i0.ɵɵtext(3, \" Error in processing the request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction AddRemissionComponent_div_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const err_r21 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(err_r21);\n  }\n}\nfunction AddRemissionComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"h2\", 3);\n    i0.ɵɵtext(3, \" Error in processing the request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddRemissionComponent_div_2_div_4_Template, 3, 1, \"div\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.errorMsg);\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_14_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a remission code\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_14_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a vaild remission code\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_3_p_14_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, AddRemissionComponent_ng_container_3_p_14_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.isRemissionCodeEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.remissionCodeHasError);\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_24_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_24_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a vaild amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_24_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"The remission amount must be less than the total fee\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_3_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_3_p_24_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, AddRemissionComponent_ng_container_3_p_24_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(3, AddRemissionComponent_ng_container_3_p_24_span_3_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.isAmountEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.amountHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.isRemissionLessThanFeeError);\n  }\n}\nfunction AddRemissionComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 6, 7);\n    i0.ɵɵelementStart(3, \"h1\", 8);\n    i0.ɵɵtext(4, \"Add remission \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"form\", 9)(6, \"div\", 10)(7, \"form\", 11)(8, \"div\", 10)(9, \"label\", 12);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementStart(11, \"span\", 13);\n    i0.ɵɵtext(12, \"Enter remission for reference. For example: HWF-A1B-23C OR PA21-123456\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(13, \"input\", 14);\n    i0.ɵɵtemplate(14, AddRemissionComponent_ng_container_3_p_14_Template, 3, 2, \"p\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 10)(16, \"label\", 16);\n    i0.ɵɵtext(17, \" How much does the applicant need to pay? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 17);\n    i0.ɵɵtext(19, \"in pounds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 18)(21, \"div\", 19);\n    i0.ɵɵtext(22, \"\\xA3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"input\", 20);\n    i0.ɵɵtemplate(24, AddRemissionComponent_ng_container_3_p_24_Template, 4, 3, \"p\", 15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_3_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.addRemission());\n    });\n    i0.ɵɵtext(26, \" Submit \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.remissionForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" Add remission to \", ctx_r2.fee == null ? null : ctx_r2.fee.code, \": \", ctx_r2.fee == null ? null : ctx_r2.fee.description, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx_r2.isRemissionCodeEmpty || ctx_r2.remissionCodeHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isRemissionCodeEmpty || ctx_r2.remissionCodeHasError);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ctx_r2.isAmountEmpty || ctx_r2.amountHasError || ctx_r2.isRemissionLessThanFeeError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isAmountEmpty || ctx_r2.amountHasError || ctx_r2.isRemissionLessThanFeeError);\n  }\n}\nfunction AddRemissionComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 23, 7);\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"span\", 25);\n    i0.ɵɵtext(5, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"strong\", 26)(7, \"span\", 27);\n    i0.ɵɵtext(8, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Are you sure you want to add remission to this fee? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"table\", 28)(11, \"tr\", 29)(12, \"td\", 30);\n    i0.ɵɵtext(13, \"Remission code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 31);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"tr\", 29)(17, \"td\", 30);\n    i0.ɵɵtext(18, \"Fee code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 31);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"tr\", 29)(22, \"td\", 30);\n    i0.ɵɵtext(23, \"Fee description:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 31);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"tr\", 29)(27, \"td\", 30);\n    i0.ɵɵtext(28, \"Amount the applicant must pay:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\", 31);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_4_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.cancelRemission.emit());\n    });\n    i0.ɵɵtext(33, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_4_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.confirmRemission());\n    });\n    i0.ɵɵtext(35, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵtextInterpolate(ctx_r3.remissionForm.controls.remissionCode.value);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.fee.code);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.fee.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(31, 6, ctx_r3.remissionForm.controls.amount.value, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.isConfirmationBtnDisabled)(\"ngClass\", ctx_r3.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_5_p_17_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a remission code\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_5_p_17_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a vaild remission code\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_5_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_5_p_17_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, AddRemissionComponent_ng_container_5_p_17_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r38 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r38.isRemissionCodeEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r38.remissionCodeHasError);\n  }\n}\nfunction AddRemissionComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 34, 7);\n    i0.ɵɵelementStart(3, \"h1\", 8);\n    i0.ɵɵtext(4, \"Process remission\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h1\", 8);\n    i0.ɵɵtext(9, \"Enter help with fees or remission reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"form\", 9)(11, \"div\", 10)(12, \"form\", 11)(13, \"div\", 10)(14, \"label\", 12)(15, \"span\", 13);\n    i0.ɵɵtext(16, \"For example: HWF-A1B-23C OR PA21-123456\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, AddRemissionComponent_ng_container_5_p_17_Template, 3, 2, \"p\", 15);\n    i0.ɵɵelement(18, \"input\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 36)(20, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_5_Template_button_click_20_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.gotoServiceRequestPage($event));\n    });\n    i0.ɵɵtext(21, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_5_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.addRemissionCode());\n    });\n    i0.ɵɵtext(23, \" Continue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"p\")(25, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_5_Template_a_click_25_listener($event) {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r44 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r44.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(26, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"#\", i0.ɵɵpipeBind1(7, 4, ctx_r4.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.remissionForm);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.isRemissionCodeEmpty || ctx_r4.remissionCodeHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx_r4.isRemissionCodeEmpty || ctx_r4.remissionCodeHasError));\n  }\n}\nfunction AddRemissionComponent_ng_container_6_h1_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 35);\n    i0.ɵɵtext(1, \" Enter the amount to be refunded \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_h1_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 35);\n    i0.ɵɵtext(1, \" Enter the remission amount \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_h1_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 35);\n    i0.ɵɵtext(1, \" Enter the amount \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_p_19_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_p_19_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a vaild amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_p_19_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"You cannot add a remission that's more than the fee amount.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_6_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_6_p_19_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, AddRemissionComponent_ng_container_6_p_19_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(3, AddRemissionComponent_ng_container_6_p_19_span_3_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r49 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r49.isAmountEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r49.amountHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r49.isRemissionLessThanFeeError);\n  }\n}\nfunction AddRemissionComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 40, 7);\n    i0.ɵɵelementStart(3, \"h1\", 8);\n    i0.ɵɵtext(4, \"Process remission\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10)(9, \"form\", 9)(10, \"div\", 10)(11, \"form\", 11)(12, \"fieldset\", 41)(13, \"legend\", 42);\n    i0.ɵɵtemplate(14, AddRemissionComponent_ng_container_6_h1_14_Template, 2, 0, \"h1\", 43);\n    i0.ɵɵtemplate(15, AddRemissionComponent_ng_container_6_h1_15_Template, 2, 0, \"h1\", 43);\n    i0.ɵɵtemplate(16, AddRemissionComponent_ng_container_6_h1_16_Template, 2, 0, \"h1\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 17);\n    i0.ɵɵtext(18, \"in pounds\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, AddRemissionComponent_ng_container_6_p_19_Template, 4, 3, \"p\", 15);\n    i0.ɵɵelementStart(20, \"div\", 18)(21, \"div\", 19);\n    i0.ɵɵtext(22, \"\\xA3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"input\", 44);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 36)(25, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_6_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.gotoAddRetroRemissionCodePage());\n    });\n    i0.ɵɵtext(26, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_6_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.gotoCheckRetroRemissionPage(ctx_r55.payment));\n    });\n    i0.ɵɵtext(28, \" Continue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"p\")(30, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_6_Template_a_click_30_listener($event) {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(31, \"Cancel\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"#\", i0.ɵɵpipeBind1(7, 7, ctx_r5.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r5.remissionForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.remessionPayment == null ? null : ctx_r5.remessionPayment.status) === \"Success\" || ctx_r5.isFromRefundListPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.remessionPayment == null ? null : ctx_r5.remessionPayment.status) !== \"Success\" && !ctx_r5.isFromRefundListPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.remessionPayment == null ? null : ctx_r5.remessionPayment.status) === \"undefined\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isAmountEmpty || ctx_r5.amountHasError || ctx_r5.isRemissionLessThanFeeError);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ctx_r5.isAmountEmpty || ctx_r5.amountHasError || ctx_r5.isRemissionLessThanFeeError));\n  }\n}\nfunction AddRemissionComponent_ng_container_7_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 30);\n    i0.ɵɵtext(1, \"Refund amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_7_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 30);\n    i0.ɵɵtext(1, \"Remission amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 46, 7);\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"h1\", 8);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 28)(7, \"tr\", 29)(8, \"td\", 30);\n    i0.ɵɵtext(9, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 29)(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 31);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\", 29)(19, \"td\", 30);\n    i0.ɵɵtext(20, \"Payment status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 31);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"tr\", 29)(24, \"td\", 30);\n    i0.ɵɵtext(25, \"Fee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 31);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"tr\", 29)(29, \"td\", 30);\n    i0.ɵɵtext(30, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 31);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"tr\", 29)(35, \"td\", 30);\n    i0.ɵɵtext(36, \"Help with fees or remission reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"td\", 31);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementStart(39, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_7_Template_a_click_39_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.gotoProcessRetroRemissionPage());\n    });\n    i0.ɵɵtext(40, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(41, \"tr\", 29);\n    i0.ɵɵtemplate(42, AddRemissionComponent_ng_container_7_td_42_Template, 2, 0, \"td\", 48);\n    i0.ɵɵtemplate(43, AddRemissionComponent_ng_container_7_td_43_Template, 2, 0, \"td\", 48);\n    i0.ɵɵelementStart(44, \"td\", 31);\n    i0.ɵɵtext(45);\n    i0.ɵɵpipe(46, \"currency\");\n    i0.ɵɵelementStart(47, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_7_Template_a_click_47_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.gotoAmountRetroRemission());\n    });\n    i0.ɵɵtext(48, \"Change\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(49, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_7_Template_button_click_49_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r63 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r63.gotoAmountRetroRemission());\n    });\n    i0.ɵɵtext(50, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_7_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r64 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r64.confirmRetroRemission());\n    });\n    i0.ɵɵtext(52, \" Add remission \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"p\")(54, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_7_Template_a_click_54_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r65 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r65.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(55, \" Cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r6.remessionPayment ? ctx_r6.remessionPayment.reference : \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", ctx_r6.remessionPayment ? ctx_r6.getFormattedCurrency(ctx_r6.remessionPayment.amount) : i0.ɵɵpipeBind4(17, 12, \" \", \"GBP\", \"symbol\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r6.remessionPayment ? ctx_r6.remessionPayment.status : \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r6.fee.code, \" - \", ctx_r6.fee.description, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(33, 17, ctx_r6.fee.calculated_amount / ctx_r6.fee.volume, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r6.remissionForm.controls.remissionCode.value == null ? null : ctx_r6.remissionForm.controls.remissionCode.value.trim(), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.remessionPayment.status === \"Success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.remessionPayment.status !== \"Success\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(46, 22, ctx_r6.remissionForm.controls.amount.value, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.isConfirmationBtnDisabled)(\"ngClass\", ctx_r6.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_8_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"p\", 54)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r67 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"The amount to be refunded should be \", i0.ɵɵpipeBind4(4, 1, ctx_r67.remissionForm.controls.amount.value, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n  }\n}\nfunction AddRemissionComponent_ng_container_8_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r70 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_8_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r70);\n      const ctx_r69 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r69.gotoProcessRetroRemission());\n    });\n    i0.ɵɵtext(2, \"Continue \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r68 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r68.isRemissionApplied)(\"ngClass\", ctx_r68.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r72 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 49, 7);\n    i0.ɵɵelementStart(3, \"div\", 50)(4, \"div\")(5, \"div\", 51)(6, \"h1\", 52);\n    i0.ɵɵtext(7, \" Remission added \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AddRemissionComponent_ng_container_8_div_8_Template, 5, 6, \"div\", 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddRemissionComponent_ng_container_8_div_9_Template, 3, 2, \"div\", 1);\n    i0.ɵɵelementStart(10, \"p\", 54)(11, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_8_Template_a_click_11_listener($event) {\n      i0.ɵɵrestoreView(_r72);\n      const ctx_r71 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r71.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(12, \" Return to case \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.remessionPayment.status === \"Success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.remessionPayment.status === \"Success\");\n  }\n}\nfunction AddRemissionComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r75 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 56, 7);\n    i0.ɵɵelementStart(3, \"h1\", 57);\n    i0.ɵɵtext(4, \"Process refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 58);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ccpay-contact-details\", 59);\n    i0.ɵɵlistener(\"assignContactDetails\", function AddRemissionComponent_ng_container_9_Template_ccpay_contact_details_assignContactDetails_8_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.getContactDetails($event, \"checkaddRefundpage\"));\n    })(\"redirectToIssueRefund\", function AddRemissionComponent_ng_container_9_Template_ccpay_contact_details_redirectToIssueRefund_8_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.gotoRemissionSuccess($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\")(10, \"a\", 60);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_9_Template_a_click_10_listener($event) {\n      i0.ɵɵrestoreView(_r75);\n      const ctx_r77 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r77.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(11, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 2, ctx_r8.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"addressObj\", ctx_r8.notification);\n  }\n}\nfunction AddRemissionComponent_ng_container_10_td_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 30);\n    i0.ɵɵtext(1, \"Refund amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_10_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 30);\n    i0.ɵɵtext(1, \"Remission amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_10_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r81 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r81.contactDetailsObj == null ? null : ctx_r81.contactDetailsObj.email == null ? null : ctx_r81.contactDetailsObj.email.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_10_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r82 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r82.contactDetailsObj == null ? null : ctx_r82.contactDetailsObj.address_line == null ? null : ctx_r82.contactDetailsObj.address_line.trim(), \"\\xA0\", ctx_r82.contactDetailsObj == null ? null : ctx_r82.contactDetailsObj.city == null ? null : ctx_r82.contactDetailsObj.city.trim(), \"\\xA0\", ctx_r82.contactDetailsObj == null ? null : ctx_r82.contactDetailsObj.county == null ? null : ctx_r82.contactDetailsObj.county.trim(), \"\\xA0\", ctx_r82.contactDetailsObj == null ? null : ctx_r82.contactDetailsObj.country == null ? null : ctx_r82.contactDetailsObj.country.trim(), \"\\xA0\", ctx_r82.contactDetailsObj == null ? null : ctx_r82.contactDetailsObj.postal_code == null ? null : ctx_r82.contactDetailsObj.postal_code.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_10_a_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r87 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_a_58_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r87);\n      const ctx_r86 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r86.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_10_a_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r89 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_a_59_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r89);\n      const ctx_r88 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r88.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_10_app_notification_preview_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 67);\n  }\n  if (rf & 2) {\n    const ctx_r85 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"payment\", ctx_r85.remessionPayment)(\"contactDetails\", ctx_r85.contactDetailsObj)(\"refundReason\", \"RR036\")(\"refundAmount\", ctx_r85.remissionForm.controls.amount.value);\n  }\n}\nfunction AddRemissionComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r91 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 46, 7);\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"h1\", 8);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 28)(7, \"tr\", 29)(8, \"td\", 30);\n    i0.ɵɵtext(9, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 29)(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 31);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\", 29)(19, \"td\", 30);\n    i0.ɵɵtext(20, \"Payment status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 31);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"tr\", 29)(24, \"td\", 30);\n    i0.ɵɵtext(25, \"Fee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 31);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"tr\", 29)(30, \"td\", 30);\n    i0.ɵɵtext(31, \"Help with fees or remission reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"td\", 31);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"tr\", 29);\n    i0.ɵɵtemplate(35, AddRemissionComponent_ng_container_10_td_35_Template, 2, 0, \"td\", 48);\n    i0.ɵɵtemplate(36, AddRemissionComponent_ng_container_10_td_36_Template, 2, 0, \"td\", 48);\n    i0.ɵɵelementStart(37, \"td\", 31);\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"tr\", 29)(41, \"td\", 30);\n    i0.ɵɵtext(42, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\", 31);\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"tr\", 29)(46, \"td\", 30);\n    i0.ɵɵtext(47, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\", 61);\n    i0.ɵɵtemplate(49, AddRemissionComponent_ng_container_10_div_49_Template, 5, 1, \"div\", 62);\n    i0.ɵɵtemplate(50, AddRemissionComponent_ng_container_10_div_50_Template, 5, 5, \"div\", 62);\n    i0.ɵɵelementStart(51, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_Template_a_click_51_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r90 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r90.gotoProcessRetroRemission(ctx_r90.contactDetailsObj));\n    });\n    i0.ɵɵtext(52, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(53, \"tr\", 29)(54, \"td\", 30);\n    i0.ɵɵtext(55, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"td\", 31);\n    i0.ɵɵtext(57);\n    i0.ɵɵtemplate(58, AddRemissionComponent_ng_container_10_a_58_Template, 2, 0, \"a\", 63);\n    i0.ɵɵtemplate(59, AddRemissionComponent_ng_container_10_a_59_Template, 2, 0, \"a\", 63);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(60, AddRemissionComponent_ng_container_10_app_notification_preview_60_Template, 1, 4, \"app-notification-preview\", 64);\n    i0.ɵɵelementStart(61, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_Template_button_click_61_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r92 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r92.gotoProcessRetroRemission(ctx_r92.contactDetailsObj));\n    });\n    i0.ɵɵtext(62, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_Template_button_click_63_listener() {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r93 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r93.processRefund());\n    });\n    i0.ɵɵtext(64, \" Submit refund \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"p\")(66, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_10_Template_a_click_66_listener($event) {\n      i0.ɵɵrestoreView(_r91);\n      const ctx_r94 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r94.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(67, \" Cancel\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r9.remessionPayment ? ctx_r9.remessionPayment.reference : \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", ctx_r9.remessionPayment ? ctx_r9.getFormattedCurrency(ctx_r9.remessionPayment.amount) : i0.ɵɵpipeBind4(17, 19, \" \", \"GBP\", \"symbol\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r9.remessionPayment ? ctx_r9.remessionPayment.status : \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate3(\"\", ctx_r9.fee.code, \" - \", ctx_r9.fee.description, \" (\", i0.ɵɵpipeBind4(28, 24, ctx_r9.fee.calculated_amount / ctx_r9.fee.volume, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \") \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r9.remissionForm.controls.remissionCode.value == null ? null : ctx_r9.remissionForm.controls.remissionCode.value.trim(), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.remessionPayment.status === \"Success\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.remessionPayment.status !== \"Success\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(39, 29, ctx_r9.remissionForm.controls.amount.value, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r9.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r9.contactDetailsObj == null ? null : ctx_r9.contactDetailsObj.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r9.contactDetailsObj == null ? null : ctx_r9.contactDetailsObj.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r9.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r9.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.notificationPreview);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r9.isConfirmationBtnDisabled)(\"ngClass\", ctx_r9.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_11_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 57);\n    i0.ɵɵtext(2, \"What happens next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 54);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r96 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" A refund request for \", i0.ɵɵpipeBind4(5, 1, ctx_r96.refundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" has been created and will be passed to a team leader to approve. \");\n  }\n}\nfunction AddRemissionComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r98 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 68, 7);\n    i0.ɵɵelementStart(3, \"div\", 50)(4, \"div\")(5, \"div\", 69)(6, \"h1\", 52);\n    i0.ɵɵtext(7, \" Refund submitted \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 55)(9, \"p\", 70)(10, \"strong\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(12, AddRemissionComponent_ng_container_11_div_12_Template, 6, 6, \"div\", 1);\n    i0.ɵɵelementStart(13, \"p\", 54)(14, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_11_Template_a_click_14_listener($event) {\n      i0.ɵɵrestoreView(_r98);\n      const ctx_r97 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r97.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(15, \" Return to case \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Refund reference: \", ctx_r10.refundReference, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.isPaymentSuccess);\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_29_tr_1_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r111 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 90)(1, \"div\", 99)(2, \"input\", 100);\n    i0.ɵɵlistener(\"keyup\", function AddRemissionComponent_ng_container_12_tbody_29_tr_1_td_18_Template_input_keyup_2_listener($event) {\n      i0.ɵɵrestoreView(_r111);\n      const ctx_r110 = i0.ɵɵnextContext();\n      const fee_r105 = ctx_r110.$implicit;\n      const i_r106 = ctx_r110.index;\n      const ctx_r109 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r109.calAmtToRefund($event.target.value, fee_r105.controls[\"calculated_amount\"].value, fee_r105.controls[\"volume\"].value, i_r106));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r112 = i0.ɵɵnextContext();\n    const i_r106 = ctx_r112.index;\n    const fee_r105 = ctx_r112.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r106);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeVolumeUpdated_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"updated_volume\"].value);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"feeVolumeUpdated_\", fee_r105.controls[\"id\"].value, \"\");\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_29_tr_1_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 90);\n    i0.ɵɵelement(1, \"input\", 101);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r105 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"VolumeUpdated_\", fee_r105.controls[\"id\"].value, \"\")(\"name\", \"VolumeUpdated_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"volume\"].value);\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_29_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r115 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 84)(1, \"td\", 31)(2, \"div\", 85)(3, \"div\", 86)(4, \"input\", 87);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_12_tbody_29_tr_1_Template_input_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r115);\n      const i_r106 = restoredCtx.index;\n      const fee_r105 = restoredCtx.$implicit;\n      const ctx_r114 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r114.check_en(i_r106, fee_r105.controls[\"id\"].value, fee_r105.controls[\"apportion_amount\"].value, fee_r105.controls[\"volume\"].value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\", 88)(6, \"span\", 89);\n    i0.ɵɵtext(7, \"Select\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(8, \"td\", 61);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 90)(11, \"div\", 91);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 90);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, AddRemissionComponent_ng_container_12_tbody_29_tr_1_td_18_Template, 3, 4, \"td\", 92);\n    i0.ɵɵtemplate(19, AddRemissionComponent_ng_container_12_tbody_29_tr_1_td_19_Template, 2, 3, \"td\", 92);\n    i0.ɵɵelementStart(20, \"td\", 93)(21, \"div\", 94)(22, \"div\", 19);\n    i0.ɵɵtext(23, \"\\xA3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"input\", 95)(25, \"input\", 96)(26, \"input\", 97)(27, \"input\", 98);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const fee_r105 = ctx.$implicit;\n    const i_r106 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroupName\", i_r106);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"id\", fee_r105.controls[\"id\"].value);\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"id\"].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", fee_r105.controls[\"id\"].value);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", fee_r105.controls[\"description\"].value, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeVOl_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(fee_r105.controls[\"calculated_amount\"].value / fee_r105.controls[\"volume\"].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(14, 23, fee_r105.controls[\"calculated_amount\"].value / fee_r105.controls[\"volume\"].value, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(17, 28, fee_r105.controls[\"apportion_amount\"].value, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", fee_r105.controls[\"volume\"].value > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", fee_r105.controls[\"volume\"].value === 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroupName\", i_r106);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeAmount_\", fee_r105.controls[\"id\"].value, \"\")(\"name\", \"feeAmount_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeVolume_\", fee_r105.controls[\"id\"].value, \"\")(\"name\", \"feeVolume_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"volume\"].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeApportionAmount_\", fee_r105.controls[\"id\"].value, \"\")(\"name\", \"feeApportionAmount_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"apportion_amount\"].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"calculatedAmount_\", fee_r105.controls[\"id\"].value, \"\")(\"name\", \"calculatedAmount_\", fee_r105.controls[\"id\"].value, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r105.controls[\"calculated_amount\"].value);\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 82);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_12_tbody_29_tr_1_Template, 28, 33, \"tr\", 83);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r99 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r99.feesList == null ? null : ctx_r99.feesList.controls);\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_30_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 29)(1, \"td\", 31)(2, \"div\", 103)(3, \"div\", 86);\n    i0.ɵɵelement(4, \"input\", 104);\n    i0.ɵɵelementStart(5, \"label\", 88)(6, \"span\", 89);\n    i0.ɵɵtext(7, \"Select\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(8, \"td\", 61);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 90)(11, \"div\", 91);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 90);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 90)(19, \"div\");\n    i0.ɵɵelement(20, \"input\", 105);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"td\", 93)(22, \"div\", 18)(23, \"div\", 19);\n    i0.ɵɵtext(24, \"\\xA3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 106);\n    i0.ɵɵpipe(26, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const fee_r117 = ctx.$implicit;\n    const ctx_r116 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"id\", fee_r117.id);\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r117.id);\n    i0.ɵɵproperty(\"checked\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", fee_r117.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", fee_r117.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeVOl_\", fee_r117.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(fee_r117.calculated_amount / fee_r117.volume);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(14, 15, fee_r117.calculated_amount / fee_r117.volume, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(17, 20, ctx_r116.payment.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeVolumeUpdated_\", fee_r117.id, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", fee_r117.volume);\n    i0.ɵɵpropertyInterpolate1(\"name\", \"feeVolumeUpdated_\", fee_r117.id, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"feeAmount_\", fee_r117.id, \"\")(\"name\", \"feeAmount_\", fee_r117.id, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", i0.ɵɵpipeBind4(26, 25, ctx_r116.payment.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 82);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_12_tbody_30_tr_1_Template, 27, 30, \"tr\", 102);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r100 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r100.fees);\n  }\n}\nfunction AddRemissionComponent_ng_container_12_tbody_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 82)(1, \"td\", 107);\n    i0.ɵɵtext(2, \"No fees recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddRemissionComponent_ng_container_12_a_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r120 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 108);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_12_a_33_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r120);\n      const ctx_r119 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r119.gotoServiceRequestPage($event));\n    });\n    i0.ɵɵtext(1, \" Previous \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_12_a_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r122 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 108);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_12_a_34_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r122);\n      const ctx_r121 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r121.goToPaymentViewComponent());\n    });\n    i0.ɵɵtext(1, \" Previous \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r124 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"form\", 11)(3, \"h1\", 8);\n    i0.ɵɵtext(4, \"Process refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 71);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h3\", 72);\n    i0.ɵɵtext(11, \"Select fees to be refunded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"table\", 28)(14, \"thead\", 73)(15, \"tr\", 29)(16, \"td\", 74);\n    i0.ɵɵtext(17, \"Select\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\", 75);\n    i0.ɵɵtext(19, \"Fee description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\", 76);\n    i0.ɵɵtext(21, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\", 76);\n    i0.ɵɵtext(23, \"Total paid\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 76);\n    i0.ɵɵtext(25, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 77);\n    i0.ɵɵtext(27, \"Amount to refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"td\", 78);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(29, AddRemissionComponent_ng_container_12_tbody_29_Template, 2, 1, \"tbody\", 79);\n    i0.ɵɵtemplate(30, AddRemissionComponent_ng_container_12_tbody_30_Template, 2, 1, \"tbody\", 79);\n    i0.ɵɵtemplate(31, AddRemissionComponent_ng_container_12_tbody_31_Template, 3, 0, \"tbody\", 79);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 36);\n    i0.ɵɵtemplate(33, AddRemissionComponent_ng_container_12_a_33_Template, 2, 0, \"a\", 80);\n    i0.ɵɵtemplate(34, AddRemissionComponent_ng_container_12_a_34_Template, 2, 0, \"a\", 80);\n    i0.ɵɵelementStart(35, \"button\", 81);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_12_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r124);\n      const ctx_r123 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r123.gotoIssuePage(ctx_r123.isFullyRefund));\n    });\n    i0.ɵɵtext(36, \" Continue \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"p\")(38, \"a\", 60);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_12_Template_a_click_38_listener($event) {\n      i0.ɵɵrestoreView(_r124);\n      const ctx_r125 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r125.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(39, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r11.remissionForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Case reference:\", i0.ɵɵpipeBind1(7, 9, ctx_r11.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r11.paymentReference, \" \");\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.isFullyRefund);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isFullyRefund);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.fees == null ? null : ctx_r11.fees.length) === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r11.isFullyRefund);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isFullyRefund);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r11.noneSelected());\n  }\n}\nfunction AddRemissionComponent_ng_container_13_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 120);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r127 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r127.paymentReference, \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_13_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 120);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r128 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r128.refundPaymentReference, \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_13_p_18_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Select a reason why you\\u2019re making this refund\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_13_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_13_p_18_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r129 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r129.refundHasError);\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_21_div_4_p_4_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a reason why you\\u2019re making this refund\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_21_div_4_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_13_div_21_div_4_p_4_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r137 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r137.isReasonEmpty);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"form-group-error\": a0\n  };\n};\nfunction AddRemissionComponent_ng_container_13_div_21_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 124)(1, \"label\", 125);\n    i0.ɵɵtext(2, \" Enter reason \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 126);\n    i0.ɵɵtemplate(4, AddRemissionComponent_ng_container_13_div_21_div_4_p_4_Template, 2, 1, \"p\", 15);\n    i0.ɵɵelement(5, \"input\", 127);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const refund_r134 = i0.ɵɵnextContext().$implicit;\n    const ctx_r136 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", refund_r134.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, ctx_r136.isReasonEmpty));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r136.isReasonEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx_r136.isReasonEmpty));\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r141 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 121)(1, \"input\", 122);\n    i0.ɵɵlistener(\"change\", function AddRemissionComponent_ng_container_13_div_21_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r141);\n      const refund_r134 = restoredCtx.$implicit;\n      const ctx_r140 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r140.selectRadioButton(refund_r134.code, refund_r134.name));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 123);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddRemissionComponent_ng_container_13_div_21_div_4_Template, 6, 8, \"div\", 119);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const refund_r134 = ctx.$implicit;\n    const ctx_r130 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", refund_r134.name);\n    i0.ɵɵpropertyInterpolate(\"value\", refund_r134.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", refund_r134.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r130.isRefundReasonsSelected && ctx_r130.showReasonText && ctx_r130.selectedRefundReason === refund_r134.name);\n  }\n}\nfunction AddRemissionComponent_ng_container_13_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 128);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const refund_r142 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"id\", refund_r142.name);\n    i0.ɵɵpropertyInterpolate(\"value\", refund_r142.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(refund_r142.name);\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_29_p_4_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a reason why you\\u2019re making this refund\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_29_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 22);\n    i0.ɵɵtemplate(1, AddRemissionComponent_ng_container_13_div_29_p_4_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r143 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r143.isReasonEmpty);\n  }\n}\nfunction AddRemissionComponent_ng_container_13_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 124)(1, \"div\", 126)(2, \"label\", 129);\n    i0.ɵɵtext(3, \" Enter reason \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddRemissionComponent_ng_container_13_div_29_p_4_Template, 2, 1, \"p\", 15);\n    i0.ɵɵelement(5, \"input\", 130);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r132 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, ctx_r132.isReasonEmpty));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r132.isReasonEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"maxlength\", ctx_r132.reasonLength);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx_r132.isReasonEmpty));\n  }\n}\nfunction AddRemissionComponent_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r146 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 109, 7);\n    i0.ɵɵelementStart(3, \"h1\", 8);\n    i0.ɵɵtext(4, \"Process refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AddRemissionComponent_ng_container_13_span_8_Template, 2, 1, \"span\", 110);\n    i0.ɵɵtemplate(9, AddRemissionComponent_ng_container_13_span_9_Template, 2, 1, \"span\", 110);\n    i0.ɵɵelementStart(10, \"h1\", 8);\n    i0.ɵɵtext(11, \"Why are you making this refund? \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10)(13, \"form\", 9)(14, \"div\", 10)(15, \"form\", 11)(16, \"fieldset\", 111)(17, \"div\", 112);\n    i0.ɵɵtemplate(18, AddRemissionComponent_ng_container_13_p_18_Template, 2, 1, \"p\", 15);\n    i0.ɵɵelementStart(19, \"div\", 113)(20, \"div\", 114);\n    i0.ɵɵtemplate(21, AddRemissionComponent_ng_container_13_div_21_Template, 5, 4, \"div\", 115);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"div\")(24, \"select\", 116);\n    i0.ɵɵlistener(\"change\", function AddRemissionComponent_ng_container_13_Template_select_change_24_listener($event) {\n      i0.ɵɵrestoreView(_r146);\n      const ctx_r145 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r145.selectchange($event));\n    });\n    i0.ɵɵelementStart(25, \"option\", 117);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(27, AddRemissionComponent_ng_container_13_option_27_Template, 2, 3, \"option\", 118);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵtemplate(29, AddRemissionComponent_ng_container_13_div_29_Template, 6, 8, \"div\", 119);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(30, \"div\", 36)(31, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_13_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r146);\n      const ctx_r147 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r147.gotoPartialFeeRefundScreen());\n    });\n    i0.ɵɵtext(32, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_13_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r146);\n      const ctx_r148 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r148.gotoIssueRefundConfirmation(ctx_r148.payment));\n    });\n    i0.ɵɵtext(34, \" Continue\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"p\")(36, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_13_Template_a_click_36_listener($event) {\n      i0.ɵɵrestoreView(_r146);\n      const ctx_r149 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r149.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(37, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 12, ctx_r12.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.payment);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.refundPaymentReference);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"formGroup\", ctx_r12.remissionForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r12.refundHasError ? \"govuk-radios govuk-radios--conditional form-group-error\" : \"govuk-radios govuk-radios--conditional\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.refundHasError);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.commonRefundReasons);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"defaultSelected\", true)(\"value\", ctx_r12.default);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r12.default);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.refundReasons);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.showReasonText && !ctx_r12.isRefundReasonsSelected);\n  }\n}\nfunction AddRemissionComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r152 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 131, 7);\n    i0.ɵɵelementStart(3, \"h1\", 57);\n    i0.ɵɵtext(4, \"Process refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 58);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 132);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 59);\n    i0.ɵɵlistener(\"assignContactDetails\", function AddRemissionComponent_ng_container_14_Template_ccpay_contact_details_assignContactDetails_10_listener($event) {\n      i0.ɵɵrestoreView(_r152);\n      const ctx_r151 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r151.getContactDetails($event, \"checkissuerefundpage\"));\n    })(\"redirectToIssueRefund\", function AddRemissionComponent_ng_container_14_Template_ccpay_contact_details_redirectToIssueRefund_10_listener() {\n      i0.ɵɵrestoreView(_r152);\n      const ctx_r153 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r153.gotoRefundReasonPage());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 60);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_14_Template_a_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r152);\n      const ctx_r154 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r154.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 3, ctx_r13.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r13.paymentReference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"addressObj\", ctx_r13.notification);\n  }\n}\nfunction AddRemissionComponent_ng_container_15_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r164 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 29)(1, \"td\", 30);\n    i0.ɵɵtext(2, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementStart(6, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_tr_25_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r164);\n      const ctx_r163 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r163.changeRefundAmount());\n    });\n    i0.ɵɵtext(7, \"Change\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r156 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind4(5, 1, ctx_r156.totalRefundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_15_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 29)(1, \"td\", 30);\n    i0.ɵɵtext(2, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r157 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(5, 1, ctx_r157.payment.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n  }\n}\nfunction AddRemissionComponent_ng_container_15_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r158 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r158.contactDetailsObj == null ? null : ctx_r158.contactDetailsObj.email == null ? null : ctx_r158.contactDetailsObj.email.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_15_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r159 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r159.contactDetailsObj == null ? null : ctx_r159.contactDetailsObj.address_line == null ? null : ctx_r159.contactDetailsObj.address_line.trim(), \"\\xA0\", ctx_r159.contactDetailsObj == null ? null : ctx_r159.contactDetailsObj.city == null ? null : ctx_r159.contactDetailsObj.city.trim(), \"\\xA0\", ctx_r159.contactDetailsObj == null ? null : ctx_r159.contactDetailsObj.county == null ? null : ctx_r159.contactDetailsObj.county.trim(), \"\\xA0\", ctx_r159.contactDetailsObj == null ? null : ctx_r159.contactDetailsObj.country == null ? null : ctx_r159.contactDetailsObj.country.trim(), \"\\xA0\", ctx_r159.contactDetailsObj == null ? null : ctx_r159.contactDetailsObj.postal_code == null ? null : ctx_r159.contactDetailsObj.postal_code.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_15_a_45_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r166 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_a_45_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r166);\n      const ctx_r165 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r165.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_15_a_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r168 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_a_46_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r168);\n      const ctx_r167 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r167.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_15_app_notification_preview_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 67);\n  }\n  if (rf & 2) {\n    const ctx_r162 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"payment\", ctx_r162.payment)(\"contactDetails\", ctx_r162.contactDetailsObj)(\"refundReason\", ctx_r162.selectedRefundReasonCode)(\"refundAmount\", ctx_r162.isFullyRefund ? ctx_r162.payment.amount : ctx_r162.totalRefundAmount);\n  }\n}\nfunction AddRemissionComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r170 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 133, 7);\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"h1\", 8);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 28)(7, \"tr\", 29)(8, \"td\", 30);\n    i0.ɵɵtext(9, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 29)(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 31);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\")(19, \"td\", 30);\n    i0.ɵɵtext(20, \"Reason for refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 31);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementStart(23, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_Template_a_click_23_listener() {\n      i0.ɵɵrestoreView(_r170);\n      const ctx_r169 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r169.changeIssueRefundReason());\n    });\n    i0.ɵɵtext(24, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(25, AddRemissionComponent_ng_container_15_tr_25_Template, 8, 6, \"tr\", 134);\n    i0.ɵɵtemplate(26, AddRemissionComponent_ng_container_15_tr_26_Template, 6, 6, \"tr\", 134);\n    i0.ɵɵelementStart(27, \"tr\", 29)(28, \"td\", 30);\n    i0.ɵɵtext(29, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"td\", 31);\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"tr\", 29)(33, \"td\", 30);\n    i0.ɵɵtext(34, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"td\", 61);\n    i0.ɵɵtemplate(36, AddRemissionComponent_ng_container_15_div_36_Template, 5, 1, \"div\", 62);\n    i0.ɵɵtemplate(37, AddRemissionComponent_ng_container_15_div_37_Template, 5, 5, \"div\", 62);\n    i0.ɵɵelementStart(38, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_Template_a_click_38_listener() {\n      i0.ɵɵrestoreView(_r170);\n      const ctx_r171 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r171.gotoContactDetailsPage(ctx_r171.contactDetailsObj));\n    });\n    i0.ɵɵtext(39, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(40, \"tr\", 29)(41, \"td\", 30);\n    i0.ɵɵtext(42, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\", 31);\n    i0.ɵɵtext(44);\n    i0.ɵɵtemplate(45, AddRemissionComponent_ng_container_15_a_45_Template, 2, 0, \"a\", 63);\n    i0.ɵɵtemplate(46, AddRemissionComponent_ng_container_15_a_46_Template, 2, 0, \"a\", 63);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(47, AddRemissionComponent_ng_container_15_app_notification_preview_47_Template, 1, 4, \"app-notification-preview\", 64);\n    i0.ɵɵelementStart(48, \"div\", 36)(49, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_Template_button_click_49_listener() {\n      i0.ɵɵrestoreView(_r170);\n      const ctx_r172 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r172.gotoContactDetailsPage(ctx_r172.contactDetailsObj));\n    });\n    i0.ɵɵtext(50, \" Previous \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r170);\n      const ctx_r173 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r173.confirmIssueRefund(ctx_r173.isFullyRefund));\n    });\n    i0.ɵɵtext(52, \" Submit refund \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"p\")(54, \"a\", 60);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_15_Template_a_click_54_listener($event) {\n      i0.ɵɵrestoreView(_r170);\n      const ctx_r174 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r174.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(55, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r14.paymentReference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(17, 14, ctx_r14.payment.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r14.displayRefundReason == null ? null : ctx_r14.displayRefundReason.trim(), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r14.isFullyRefund);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.isFullyRefund);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r14.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.contactDetailsObj == null ? null : ctx_r14.contactDetailsObj.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r14.contactDetailsObj == null ? null : ctx_r14.contactDetailsObj.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r14.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r14.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.notificationPreview);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r14.isConfirmationBtnDisabled)(\"ngClass\", ctx_r14.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r177 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 56, 7);\n    i0.ɵɵelementStart(3, \"h1\", 57);\n    i0.ɵɵtext(4, \"Process refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 58);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 132);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 59);\n    i0.ɵɵlistener(\"assignContactDetails\", function AddRemissionComponent_ng_container_16_Template_ccpay_contact_details_assignContactDetails_10_listener($event) {\n      i0.ɵɵrestoreView(_r177);\n      const ctx_r176 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r176.getContactDetails($event, \"addrefundcheckandanswer\"));\n    })(\"redirectToIssueRefund\", function AddRemissionComponent_ng_container_16_Template_ccpay_contact_details_redirectToIssueRefund_10_listener($event) {\n      i0.ɵɵrestoreView(_r177);\n      const ctx_r178 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r178.gotoServiceRequestPage($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 60);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_16_Template_a_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r177);\n      const ctx_r179 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r179.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 3, ctx_r15.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r15.paymentReference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"addressObj\", ctx_r15.notification);\n  }\n}\nfunction AddRemissionComponent_ng_container_17_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r181 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r181.contactDetailsObj == null ? null : ctx_r181.contactDetailsObj.email == null ? null : ctx_r181.contactDetailsObj.email.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_17_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r182 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r182.contactDetailsObj == null ? null : ctx_r182.contactDetailsObj.address_line == null ? null : ctx_r182.contactDetailsObj.address_line.trim(), \"\\xA0\", ctx_r182.contactDetailsObj == null ? null : ctx_r182.contactDetailsObj.city == null ? null : ctx_r182.contactDetailsObj.city.trim(), \"\\xA0\", ctx_r182.contactDetailsObj == null ? null : ctx_r182.contactDetailsObj.county == null ? null : ctx_r182.contactDetailsObj.county.trim(), \"\\xA0\", ctx_r182.contactDetailsObj == null ? null : ctx_r182.contactDetailsObj.country == null ? null : ctx_r182.contactDetailsObj.country.trim(), \"\\xA0\", ctx_r182.contactDetailsObj == null ? null : ctx_r182.contactDetailsObj.postal_code == null ? null : ctx_r182.contactDetailsObj.postal_code.trim(), \" \");\n  }\n}\nfunction AddRemissionComponent_ng_container_17_a_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r187 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_a_52_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r187);\n      const ctx_r186 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r186.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_17_a_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r189 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 66);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_a_53_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r189);\n      const ctx_r188 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r188.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRemissionComponent_ng_container_17_app_notification_preview_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 137);\n  }\n  if (rf & 2) {\n    const ctx_r185 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"contactDetails\", ctx_r185.contactDetailsObj)(\"paymentReference\", ctx_r185.paymentReference)(\"payment\", ctx_r185.paymentObj)(\"refundReason\", \"RR036\")(\"refundAmount\", ctx_r185.remission.hwf_amount);\n  }\n}\nfunction AddRemissionComponent_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r191 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 135, 7);\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"h1\", 8);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 28)(7, \"tr\", 29)(8, \"td\", 30);\n    i0.ɵɵtext(9, \"Reason for refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 31);\n    i0.ɵɵtext(11, \"Retrospective remission\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 29)(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 31);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tr\", 29)(18, \"td\", 30);\n    i0.ɵɵtext(19, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\", 31);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"tr\", 29)(24, \"td\", 30);\n    i0.ɵɵtext(25, \"Fee code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\", 31);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"tr\", 29)(29, \"td\", 30);\n    i0.ɵɵtext(30, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 31);\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"tr\", 29)(35, \"td\", 30);\n    i0.ɵɵtext(36, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"td\", 31);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"tr\", 29)(40, \"td\", 30);\n    i0.ɵɵtext(41, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"td\", 61);\n    i0.ɵɵtemplate(43, AddRemissionComponent_ng_container_17_div_43_Template, 5, 1, \"div\", 62);\n    i0.ɵɵtemplate(44, AddRemissionComponent_ng_container_17_div_44_Template, 5, 5, \"div\", 62);\n    i0.ɵɵelementStart(45, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_Template_a_click_45_listener() {\n      i0.ɵɵrestoreView(_r191);\n      const ctx_r190 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r190.gotoAddressPage(ctx_r190.contactDetailsObj));\n    });\n    i0.ɵɵtext(46, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"tr\", 29)(48, \"td\", 30);\n    i0.ɵɵtext(49, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"td\", 31);\n    i0.ɵɵtext(51);\n    i0.ɵɵtemplate(52, AddRemissionComponent_ng_container_17_a_52_Template, 2, 0, \"a\", 63);\n    i0.ɵɵtemplate(53, AddRemissionComponent_ng_container_17_a_53_Template, 2, 0, \"a\", 63);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(54, AddRemissionComponent_ng_container_17_app_notification_preview_54_Template, 1, 5, \"app-notification-preview\", 136);\n    i0.ɵɵelementStart(55, \"div\", 36)(56, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r191);\n      const ctx_r192 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r192.gotoAddressPage(ctx_r192.contactDetailsObj));\n    });\n    i0.ɵɵtext(57, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_Template_button_click_58_listener() {\n      i0.ɵɵrestoreView(_r191);\n      const ctx_r193 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r193.processRefund());\n    });\n    i0.ɵɵtext(59, \" Submit refund \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(60, \"p\")(61, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_17_Template_a_click_61_listener($event) {\n      i0.ɵɵrestoreView(_r191);\n      const ctx_r194 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r194.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(62, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(16);\n    i0.ɵɵtextInterpolate(ctx_r16.paymentReference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(22, 13, ctx_r16.remission.hwf_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r16.remission.fee_code);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(33, 18, ctx_r16.feeamount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r16.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r16.contactDetailsObj == null ? null : ctx_r16.contactDetailsObj.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r16.contactDetailsObj == null ? null : ctx_r16.contactDetailsObj.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r16.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r16.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.notificationPreview);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r16.isConfirmationBtnDisabled)(\"ngClass\", ctx_r16.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction AddRemissionComponent_ng_container_18_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 57);\n    i0.ɵɵtext(2, \"What happens next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 54);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r195 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" A refund request for \", i0.ɵɵpipeBind4(5, 1, ctx_r195.refundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" has been passed to a team leader to approve. \");\n  }\n}\nfunction AddRemissionComponent_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r197 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 50)(2, \"div\")(3, \"div\", 69)(4, \"h1\", 52);\n    i0.ɵɵtext(5, \" Refund submitted \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 55)(7, \"p\", 70)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(10, AddRemissionComponent_ng_container_18_div_10_Template, 6, 6, \"div\", 1);\n    i0.ɵɵelementStart(11, \"p\", 54)(12, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function AddRemissionComponent_ng_container_18_Template_a_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r197);\n      const ctx_r196 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r196.gotoCasetransationPageCancelBtnClicked($event));\n    });\n    i0.ɵɵtext(13, \" Return to case \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Refund reference: \", ctx_r17.refundReference, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.isPaymentSuccess);\n  }\n}\nfunction AddRemissionComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ccpay-service-request\", 138);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"viewStatus\", ctx_r18.viewStatus)(\"orderRef\", ctx_r18.orderRef)(\"isServiceRequest\", ctx_r18.isServiceRequest)(\"orderStatus\", ctx_r18.orderStatus)(\"orderCreated\", ctx_r18.orderCreated)(\"orderParty\", ctx_r18.orderParty)(\"orderCCDEvent\", ctx_r18.orderCCDEvent)(\"orderDetail\", ctx_r18.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r18.LOGGEDINUSERROLES)(\"takePayment\", ctx_r18.takePayment)(\"ccdCaseNumber\", ctx_r18.ccdCaseNumber)(\"orderFeesTotal\", ctx_r18.orderFeesTotal)(\"orderTotalPayments\", ctx_r18.orderTotalPayments)(\"orderRemissionTotal\", ctx_r18.orderRemissionTotal);\n  }\n}\nfunction AddRemissionComponent_ng_container_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ccpay-payment-view\", 139);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"LOGGEDINUSERROLES\", ctx_r19.LOGGEDINUSERROLES)(\"isTurnOff\", ctx_r19.isTurnOff)(\"isTakePayment\", ctx_r19.takePayment)(\"caseType\", ctx_r19.caseType)(\"isServiceRequest\", ctx_r19.isServiceRequest)(\"orderRef\", ctx_r19.orderRef)(\"orderStatus\", ctx_r19.orderStatus)(\"orderCreated\", ctx_r19.orderCreated)(\"orderParty\", ctx_r19.orderParty)(\"orderCCDEvent\", ctx_r19.orderCCDEvent)(\"orderDetail\", ctx_r19.orderDetail)(\"orderFeesTotal\", ctx_r19.orderFeesTotal)(\"orderTotalPayments\", ctx_r19.orderTotalPayments)(\"orderRemissionTotal\", ctx_r19.orderRemissionTotal);\n  }\n}\nfunction StatusHistoryComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"h2\", 5);\n    i0.ɵɵtext(2, \" Payment status history could not be retrieved \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction StatusHistoryComponent_div_4_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Amount\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatusHistoryComponent_div_4_tr_10_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(2, 1, ctx_r5.statuses.amount, \".2\"), \"\");\n  }\n}\nfunction StatusHistoryComponent_div_4_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, StatusHistoryComponent_div_4_tr_10_td_3_Template, 3, 4, \"td\", 3);\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const status_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(status_r4.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isTakePayment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, status_r4.date_created, \"dd MMMM yyyy HH:mm:ss\"));\n  }\n}\nfunction StatusHistoryComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\")(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, StatusHistoryComponent_div_4_th_6_Template, 2, 0, \"th\", 3);\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Date and time\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, StatusHistoryComponent_div_4_tr_10_Template, 7, 6, \"tr\", 7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isTakePayment);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.statuses.status_histories);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 10)(2, \"h2\", 11);\n    i0.ɵɵtext(3, \" Payment details could not be retrieved \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.errorMessage, \" \");\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Over payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(5, 1, ctx_r13.getOverPaymentValue(), \".2\"), \"\");\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Payment asset number(DCN)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r14.paymentGroup == null ? null : ctx_r14.paymentGroup.payments[0] == null ? null : ctx_r14.paymentGroup.payments[0].document_control_number);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Banked date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, ctx_r15.paymentGroup == null ? null : ctx_r15.paymentGroup.payments[0] == null ? null : ctx_r15.paymentGroup.payments[0].banked_date, \"dd MMM yyyy\"));\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"GovPay Transaction ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r16.paymentGroup == null ? null : ctx_r16.paymentGroup.payments[0] == null ? null : ctx_r16.paymentGroup.payments[0].external_reference);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_34_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1, \"Credit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_34_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 21);\n    i0.ɵɵtext(1, \"Card\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PaymentViewComponent_ng_container_1_div_9_tr_34_td_3_Template, 2, 0, \"td\", 27);\n    i0.ɵɵtemplate(4, PaymentViewComponent_ng_container_1_div_9_tr_34_td_4_Template, 2, 0, \"td\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r17.paymentGroup == null ? null : ctx_r17.paymentGroup.payments[0] == null ? null : ctx_r17.paymentGroup.payments[0].method) !== \"card\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r17.paymentGroup == null ? null : ctx_r17.paymentGroup.payments[0] == null ? null : ctx_r17.paymentGroup.payments[0].method) === \"card\");\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Allocaton status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r18.paymentGroup == null ? null : ctx_r18.paymentGroup.payments[0] == null ? null : ctx_r18.paymentGroup.payments[0].payment_allocation[0] == null ? null : ctx_r18.paymentGroup.payments[0].payment_allocation[0].allocation_status);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \"PBA account name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r19.paymentGroup == null ? null : ctx_r19.paymentGroup.payments[0] == null ? null : ctx_r19.paymentGroup.payments[0].organisation_name);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \"PBA number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r20.paymentGroup == null ? null : ctx_r20.paymentGroup.payments[0] == null ? null : ctx_r20.paymentGroup.payments[0].account_number);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_tr_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \"Customer internal reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r21.paymentGroup == null ? null : ctx_r21.paymentGroup.payments[0] == null ? null : ctx_r21.paymentGroup.payments[0].customer_reference);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_ccpay_payment_statuses_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-payment-statuses\", 28);\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"isTakePayment\", ctx_r22.isTakePayment);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_49_tbody_19_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"capitalize\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_1_div_9_div_49_tbody_19_tr_1_Template_a_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const payment_r30 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r31.goToPaymentFailuePage(payment_r30));\n    });\n    i0.ɵɵtext(16, \"Show detail\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const payment_r30 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 5, payment_r30.status));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(6, 7, payment_r30.disputed_amount, \".2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 10, payment_r30.representment_date ? payment_r30.representment_date : payment_r30.failure_event_date_time, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r30.payment_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r30.failure_type);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_49_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, PaymentViewComponent_ng_container_1_div_9_div_49_tbody_19_tr_1_Template, 17, 13, \"tr\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r27.allPaymentsFailure);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_49_tbody_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\", 32);\n    i0.ɵɵtext(3, \" No disputed payment history available. \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17)(2, \"h2\", 29);\n    i0.ɵɵtext(3, \"Disputed payment history\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\")(5, \"table\")(6, \"thead\")(7, \"tr\")(8, \"th\");\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Event\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"th\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, PaymentViewComponent_ng_container_1_div_9_div_49_tbody_19_Template, 2, 1, \"tbody\", 1);\n    i0.ɵɵtemplate(20, PaymentViewComponent_ng_container_1_div_9_div_49_tbody_20_Template, 4, 0, \"tbody\", 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(21, \"br\")(22, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r23.errorMsg && ctx_r23.allPaymentsFailure.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.errorMsg || ctx_r23.allPaymentsFailure.length === 0);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 17);\n    i0.ɵɵelement(2, \"br\")(3, \"br\");\n    i0.ɵɵelementStart(4, \"h2\", 42);\n    i0.ɵɵtext(5, \"Fee and remission details\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"tr-border\": a0\n  };\n};\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_div_2_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 46);\n    i0.ɵɵtext(2, \"Allocated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 45);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r37 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c3, !fee_r37.remissions));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c3, !fee_r37.remissions));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(5, 3, fee_r37 == null ? null : fee_r37.apportion_amount, \".2\"), \"\");\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 43)(2, \"tbody\")(3, \"tr\", 19)(4, \"td\", 20);\n    i0.ɵɵtext(5, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 21);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"tr\", 19)(9, \"td\", 20);\n    i0.ɵɵtext(10, \"Fee code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 21);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"tr\", 19)(14, \"td\", 44);\n    i0.ɵɵtext(15, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 45);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, PaymentViewComponent_ng_container_1_div_9_div_50_div_2_tr_19_Template, 6, 10, \"tr\", 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_1_div_9_div_50_div_2_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r41);\n      const fee_r37 = restoredCtx.$implicit;\n      const ctx_r40 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r40.addRemission(fee_r37));\n    });\n    i0.ɵɵtext(21, \" Add remission\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r37 = ctx.$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"Application for \", fee_r37.description, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(fee_r37 == null ? null : fee_r37.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c3, !fee_r37.apportion_amount && !fee_r37.remissions && !ctx_r34.isTurnOff));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c3, !fee_r37.apportion_amount && !fee_r37.remissions && !ctx_r34.isTurnOff));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(18, 7, fee_r37 == null ? null : fee_r37.calculated_amount, \".2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", fee_r37.apportion_amount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", !ctx_r34.chkIsAddRemissionBtnEnable(fee_r37));\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_tbody_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\", 47)(1, \"tr\", 36)(2, \"td\", 48);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 48);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 48);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 48);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 49)(12, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_1_div_9_div_50_tbody_17_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r44);\n      const remission_r42 = restoredCtx.$implicit;\n      const ctx_r43 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r43.addRefundForRemission(ctx_r43.paymentGroup.payments[0], remission_r42, ctx_r43.paymentGroup.fees));\n    });\n    i0.ɵɵtext(13, \" Add refund\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const remission_r42 = ctx.$implicit;\n    const ctx_r35 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(remission_r42 == null ? null : remission_r42.hwf_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r42 == null ? null : remission_r42.remission_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(remission_r42 == null ? null : remission_r42.fee_code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(10, 5, remission_r42 == null ? null : remission_r42.hwf_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r35.chkIsAddRefundBtnEnable(remission_r42));\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 50);\n    i0.ɵɵtext(2, \"No help with fees or remissions.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_div_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PaymentViewComponent_ng_container_1_div_9_div_50_div_1_Template, 6, 0, \"div\", 1);\n    i0.ɵɵtemplate(2, PaymentViewComponent_ng_container_1_div_9_div_50_div_2_Template, 22, 14, \"div\", 30);\n    i0.ɵɵelementStart(3, \"div\", 33)(4, \"div\", 17)(5, \"table\", 34)(6, \"thead\", 35)(7, \"tr\", 36)(8, \"td\", 37);\n    i0.ɵɵtext(9, \"Help with fees or remission code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 38);\n    i0.ɵɵtext(11, \"Reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 39);\n    i0.ɵɵtext(13, \"Fee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 39);\n    i0.ɵɵtext(15, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"td\", 40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, PaymentViewComponent_ng_container_1_div_9_div_50_tbody_17_Template, 14, 10, \"tbody\", 41);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(18, PaymentViewComponent_ng_container_1_div_9_div_50_div_18_Template, 3, 0, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r24.paymentGroup.fees.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.paymentGroup.fees);\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r24.paymentGroup.remissions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r24.paymentGroup.remissions == null ? null : ctx_r24.paymentGroup.remissions.length) === 0);\n  }\n}\nfunction PaymentViewComponent_ng_container_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"input\", 14, 15);\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"div\", 17)(5, \"h1\", 18);\n    i0.ɵɵtext(6, \"Payment details\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"table\")(8, \"tbody\")(9, \"tr\", 19)(10, \"td\", 20);\n    i0.ɵɵtext(11, \"Service request reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 21);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"tr\", 19)(15, \"td\", 20);\n    i0.ɵɵtext(16, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 21);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"tr\", 19)(20, \"td\", 20);\n    i0.ɵɵtext(21, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\", 21);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(25, PaymentViewComponent_ng_container_1_div_9_tr_25_Template, 6, 4, \"tr\", 22);\n    i0.ɵɵtemplate(26, PaymentViewComponent_ng_container_1_div_9_tr_26_Template, 5, 1, \"tr\", 22);\n    i0.ɵɵtemplate(27, PaymentViewComponent_ng_container_1_div_9_tr_27_Template, 6, 4, \"tr\", 22);\n    i0.ɵɵtemplate(28, PaymentViewComponent_ng_container_1_div_9_tr_28_Template, 5, 1, \"tr\", 22);\n    i0.ɵɵelementStart(29, \"tr\", 19)(30, \"td\", 20);\n    i0.ɵɵtext(31, \"Payment method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"td\", 23);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(34, PaymentViewComponent_ng_container_1_div_9_tr_34_Template, 5, 2, \"tr\", 22);\n    i0.ɵɵelementStart(35, \"tr\", 19)(36, \"td\", 20);\n    i0.ɵɵtext(37, \"Channel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"td\", 23);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(40, PaymentViewComponent_ng_container_1_div_9_tr_40_Template, 5, 1, \"tr\", 22);\n    i0.ɵɵtemplate(41, PaymentViewComponent_ng_container_1_div_9_tr_41_Template, 5, 1, \"tr\", 1);\n    i0.ɵɵtemplate(42, PaymentViewComponent_ng_container_1_div_9_tr_42_Template, 5, 1, \"tr\", 1);\n    i0.ɵɵtemplate(43, PaymentViewComponent_ng_container_1_div_9_tr_43_Template, 5, 1, \"tr\", 1);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\");\n    i0.ɵɵtemplate(45, PaymentViewComponent_ng_container_1_div_9_ccpay_payment_statuses_45_Template, 1, 1, \"ccpay-payment-statuses\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"div\", 25)(47, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_1_div_9_Template_button_click_47_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.issueRefund(ctx_r45.paymentGroup));\n    });\n    i0.ɵɵtext(48, \"Issue refund\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(49, PaymentViewComponent_ng_container_1_div_9_div_49_Template, 23, 2, \"div\", 1);\n    i0.ɵɵtemplate(50, PaymentViewComponent_ng_container_1_div_9_div_50_Template, 19, 4, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(ctx_r11.serviceReference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].reference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(24, 18, ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].amount, \".2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].over_payment) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0]) && (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].document_control_number) && !(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].external_reference));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0]) && (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].document_control_number) && !(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].external_reference));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0]) && (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].external_reference));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].method);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].method) === \"payment by account\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].channel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0] == null ? null : ctx_r11.paymentGroup.payments[0].payment_allocation[0]) !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0].organisation_name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0].account_number);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0].customer_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.isStatusAllocated);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r11.chkIsIssueRefundBtnEnable(ctx_r11.paymentGroup == null ? null : ctx_r11.paymentGroup.payments[0]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.ISPAYMENTSTATUSENABLED);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.checkForFees(ctx_r11.paymentGroup));\n  }\n}\nfunction PaymentViewComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r48 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"div\", 4)(3, \"ol\", 5)(4, \"li\", 6)(5, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_1_Template_a_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r48);\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(6, \"Back\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(7, \"main\", 8);\n    i0.ɵɵtemplate(8, PaymentViewComponent_ng_container_1_div_8_Template, 6, 1, \"div\", 1);\n    i0.ɵɵtemplate(9, PaymentViewComponent_ng_container_1_div_9_Template, 51, 21, \"div\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.errorMessage && (ctx_r0.paymentGroup == null ? null : ctx_r0.paymentGroup.payments[0]));\n  }\n}\nfunction PaymentViewComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ccpay-add-remission\", 51);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r1.isTurnOff)(\"isStrategicFixEnable\", ctx_r1.isStrategicFixEnable)(\"viewCompStatus\", ctx_r1.viewStatus)(\"fee\", ctx_r1.feeId)(\"payment\", ctx_r1.payment)(\"orderStatus\", ctx_r1.paymentGroup.payments[0].status)(\"paidAmount\", ctx_r1.paymentGroup.payments[0].amount)(\"isRefundRemission\", ctx_r1.isRefundRemission)(\"caseType\", ctx_r1.caseType)(\"paymentGroupRef\", ctx_r1.paymentGroup.payment_group_reference)(\"isFromPaymentDetailPage\", true)(\"ccdCaseNumber\", ctx_r1.ccdCaseNumber)(\"orderFeesTotal\", ctx_r1.orderFeesTotal)(\"orderTotalPayments\", ctx_r1.orderTotalPayments)(\"orderRemissionTotal\", ctx_r1.orderRemissionTotal)(\"orderRef\", ctx_r1.orderRef)(\"orderCreated\", ctx_r1.orderCreated)(\"orderParty\", ctx_r1.orderParty)(\"orderCCDEvent\", ctx_r1.orderCCDEvent)(\"orderDetail\", ctx_r1.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r1.LOGGEDINUSERROLES);\n  }\n}\nfunction PaymentViewComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"ccpay-add-remission\", 52);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r2.isTurnOff)(\"isStrategicFixEnable\", ctx_r2.isStrategicFixEnable)(\"viewCompStatus\", ctx_r2.viewStatus)(\"payment\", ctx_r2.payment)(\"orderStatus\", ctx_r2.orderStatus)(\"paidAmount\", ctx_r2.orderTotalPayments)(\"isRefundRemission\", ctx_r2.isRefundRemission)(\"caseType\", ctx_r2.caseType)(\"feeamount\", ctx_r2.remissionFeeAmt)(\"remission\", ctx_r2.remissions)(\"isFromServiceRequestPage\", false)(\"paymentGroupRef\", ctx_r2.paymentGroup.payment_group_reference)(\"ccdCaseNumber\", ctx_r2.ccdCaseNumber)(\"orderFeesTotal\", ctx_r2.orderFeesTotal)(\"orderTotalPayments\", ctx_r2.orderTotalPayments)(\"orderRemissionTotal\", ctx_r2.orderRemissionTotal)(\"orderRef\", ctx_r2.orderRef)(\"orderCreated\", ctx_r2.orderCreated)(\"orderParty\", ctx_r2.orderParty)(\"orderCCDEvent\", ctx_r2.orderCCDEvent)(\"orderDetail\", ctx_r2.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r2.LOGGEDINUSERROLES);\n  }\n}\nfunction PaymentViewComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-add-remission\", 53);\n    i0.ɵɵtext(2, \" >\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r3.isTurnOff)(\"isStrategicFixEnable\", ctx_r3.isStrategicFixEnable)(\"payment\", ctx_r3.paymentGroup.payments[0])(\"viewCompStatus\", ctx_r3.viewStatus)(\"orderStatus\", ctx_r3.paymentGroup.payments[0].status)(\"paidAmount\", ctx_r3.paymentGroup.payments[0].amount)(\"isRefundRemission\", ctx_r3.isRefundRemission)(\"caseType\", ctx_r3.caseType)(\"isFromServiceRequestPage\", ctx_r3.isFromServiceRequestPage)(\"isFromPaymentDetailPage\", ctx_r3.isFromPaymentDetailPage)(\"paymentGroupRef\", ctx_r3.paymentGroup.payment_group_reference)(\"ccdCaseNumber\", ctx_r3.ccdCaseNumber)(\"orderFeesTotal\", ctx_r3.orderFeesTotal)(\"orderTotalPayments\", ctx_r3.orderTotalPayments)(\"orderRemissionTotal\", ctx_r3.orderRemissionTotal)(\"orderRef\", ctx_r3.orderRef)(\"orderCreated\", ctx_r3.orderCreated)(\"orderParty\", ctx_r3.orderParty)(\"orderCCDEvent\", ctx_r3.orderCCDEvent)(\"orderDetail\", ctx_r3.orderDetail)(\"fees\", ctx_r3.paymentFees)(\"isFullyRefund\", ctx_r3.isFullyRefund)(\"LOGGEDINUSERROLES\", ctx_r3.LOGGEDINUSERROLES);\n  }\n}\nfunction PaymentViewComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ccpay-service-request\", 54);\n    i0.ɵɵlistener(\"goToServiceRquestComponent\", function PaymentViewComponent_ng_container_5_Template_ccpay_service_request_goToServiceRquestComponent_1_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r49.goToServiceRequestPage());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"viewStatus\", ctx_r4.viewStatus)(\"orderRef\", ctx_r4.orderRef)(\"orderStatus\", ctx_r4.orderStatus)(\"orderCreated\", ctx_r4.orderCreated)(\"orderParty\", ctx_r4.orderParty)(\"orderCCDEvent\", ctx_r4.orderCCDEvent)(\"orderDetail\", ctx_r4.orderDetail)(\"LOGGEDINUSERROLES\", ctx_r4.LOGGEDINUSERROLES)(\"takePayment\", ctx_r4.isTakePayment)(\"ccdCaseNumber\", ctx_r4.ccdCaseNumber)(\"orderFeesTotal\", ctx_r4.orderFeesTotal)(\"orderTotalPayments\", ctx_r4.orderTotalPayments)(\"orderRemissionTotal\", ctx_r4.orderRemissionTotal)(\"isServiceRequest\", ctx_r4.isServiceRequest);\n  }\n}\nfunction PaymentViewComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 55, 15);\n    i0.ɵɵelementStart(3, \"h1\", 42);\n    i0.ɵɵtext(4, \"Issue refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h1\", 29);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 56);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 57)(11, \"fieldset\", 58)(12, \"legend\", 59)(13, \"h1\", 29);\n    i0.ɵɵtext(14, \"Select payment to refund\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 60)(16, \"div\", 61)(17, \"input\", 62);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_7_Template_input_click_17_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r52 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r52.selectPymentOption(\"op\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"label\", 63);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 61)(22, \"input\", 64);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_7_Template_input_click_22_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r54 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r54.selectPymentOption(\"fp\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"label\", 65);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_7_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.goToPaymentViewComponent());\n    });\n    i0.ɵɵtext(27, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_7_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r56 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r56.continuePayment(ctx_r56.paymentGroup));\n    });\n    i0.ɵɵtext(29, \" Continue\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 6, ctx_r5.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r5.paymentGroup == null ? null : ctx_r5.paymentGroup.payments[0] == null ? null : ctx_r5.paymentGroup.payments[0].reference, \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" Over payment \\xA3\", i0.ɵɵpipeBind2(20, 8, ctx_r5.getOverPaymentValue(), \".2\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Full payment \\xA3\", i0.ɵɵpipeBind2(25, 11, ctx_r5.paymentGroup == null ? null : ctx_r5.paymentGroup.payments[0] == null ? null : ctx_r5.paymentGroup.payments[0].amount, \".2\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r5.isContinueBtnDisabled)(\"ngClass\", ctx_r5.isContinueBtnDisabled ? \"button button--disabled govuk-!-margin-right-1 govuk-font19px\" : \"button govuk-!-margin-right-1 govuk-font19px\");\n  }\n}\nfunction PaymentViewComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 68, 15);\n    i0.ɵɵelementStart(3, \"h1\", 69);\n    i0.ɵɵtext(4, \"Issue refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\", 70);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 71);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ccpay-contact-details\", 72);\n    i0.ɵɵlistener(\"assignContactDetails\", function PaymentViewComponent_ng_container_8_Template_ccpay_contact_details_assignContactDetails_10_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.getContactDetails($event));\n    })(\"redirectToIssueRefund\", function PaymentViewComponent_ng_container_8_Template_ccpay_contact_details_redirectToIssueRefund_10_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.gotoPaymentSelectPage($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"a\", 73);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_8_Template_a_click_12_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r61 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r61.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", i0.ɵɵpipeBind1(7, 3, ctx_r6.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Payment reference: \", ctx_r6.paymentGroup == null ? null : ctx_r6.paymentGroup.payments[0] == null ? null : ctx_r6.paymentGroup.payments[0].reference, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"addressObj\", ctx_r6.notification);\n  }\n}\nfunction PaymentViewComponent_ng_container_9_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 85)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r63 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r63.contactDetailsObj == null ? null : ctx_r63.contactDetailsObj.email == null ? null : ctx_r63.contactDetailsObj.email.trim(), \" \");\n  }\n}\nfunction PaymentViewComponent_ng_container_9_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 85)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r64 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r64.contactDetailsObj == null ? null : ctx_r64.contactDetailsObj.address_line == null ? null : ctx_r64.contactDetailsObj.address_line.trim(), \"\\xA0\", ctx_r64.contactDetailsObj == null ? null : ctx_r64.contactDetailsObj.city == null ? null : ctx_r64.contactDetailsObj.city.trim(), \"\\xA0\", ctx_r64.contactDetailsObj == null ? null : ctx_r64.contactDetailsObj.county == null ? null : ctx_r64.contactDetailsObj.county.trim(), \"\\xA0\", ctx_r64.contactDetailsObj == null ? null : ctx_r64.contactDetailsObj.country == null ? null : ctx_r64.contactDetailsObj.country.trim(), \"\\xA0\", ctx_r64.contactDetailsObj == null ? null : ctx_r64.contactDetailsObj.postal_code == null ? null : ctx_r64.contactDetailsObj.postal_code.trim(), \" \");\n  }\n}\nfunction PaymentViewComponent_ng_container_9_a_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r69 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 86);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_a_53_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r69);\n      const ctx_r68 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r68.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentViewComponent_ng_container_9_a_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 86);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_a_54_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r70 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r70.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentViewComponent_ng_container_9_app_notification_preview_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-notification-preview\", 87);\n  }\n  if (rf & 2) {\n    const ctx_r67 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"payment\", ctx_r67.paymentGroup.payments[0])(\"contactDetails\", ctx_r67.contactDetailsObj)(\"refundReason\", \"RR037\")(\"refundAmount\", ctx_r67.getOverPaymentValue());\n  }\n}\nfunction PaymentViewComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r73 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 74, 15);\n    i0.ɵɵelementStart(3, \"div\", 75)(4, \"h1\", 42);\n    i0.ɵɵtext(5, \" Check your answers\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"table\", 34)(7, \"tr\", 36)(8, \"td\", 76);\n    i0.ɵɵtext(9, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 77);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\", 36)(13, \"td\", 76);\n    i0.ɵɵtext(14, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 77);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\", 36)(19, \"td\", 76);\n    i0.ɵɵtext(20, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 77);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"tr\", 36)(25, \"td\", 76);\n    i0.ɵɵtext(26, \"Refund amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\", 77);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"tr\", 36)(31, \"td\", 76);\n    i0.ɵɵtext(32, \"Refund reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\", 77);\n    i0.ɵɵtext(34, \"Over payment\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"tr\", 36)(36, \"td\", 76);\n    i0.ɵɵtext(37, \"Send to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"td\", 77);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"tr\", 36)(41, \"td\", 76);\n    i0.ɵɵtext(42, \"Send via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\", 48);\n    i0.ɵɵtemplate(44, PaymentViewComponent_ng_container_9_div_44_Template, 5, 1, \"div\", 78);\n    i0.ɵɵtemplate(45, PaymentViewComponent_ng_container_9_div_45_Template, 5, 5, \"div\", 78);\n    i0.ɵɵelementStart(46, \"a\", 79);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_Template_a_click_46_listener() {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r72 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r72.gotoAddressPage(ctx_r72.contactDetailsObj));\n    });\n    i0.ɵɵtext(47, \"Change\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"tr\", 36)(49, \"td\", 76);\n    i0.ɵɵtext(50, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"td\", 77);\n    i0.ɵɵtext(52);\n    i0.ɵɵtemplate(53, PaymentViewComponent_ng_container_9_a_53_Template, 2, 0, \"a\", 80);\n    i0.ɵɵtemplate(54, PaymentViewComponent_ng_container_9_a_54_Template, 2, 0, \"a\", 80);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(55, PaymentViewComponent_ng_container_9_app_notification_preview_55_Template, 1, 4, \"app-notification-preview\", 81);\n    i0.ɵɵelementStart(56, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r74 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r74.gotoAddressPage(ctx_r74.contactDetailsObj));\n    });\n    i0.ɵɵtext(57, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(58, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_Template_button_click_58_listener() {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r75 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r75.processRefund());\n    });\n    i0.ɵɵtext(59, \" Submit refund \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"p\")(61, \"a\", 84);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_9_Template_a_click_61_listener($event) {\n      i0.ɵɵrestoreView(_r73);\n      const ctx_r76 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r76.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(62, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.paymentGroup.payments[0].reference, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(17, 12, ctx_r7.paymentGroup.payments[0].amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(23, 17, ctx_r7.paymentGroup == null ? null : ctx_r7.paymentGroup.fees[0] == null ? null : ctx_r7.paymentGroup.fees[0].net_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(29, 22, ctx_r7.getOverPaymentValue(), \"GBP\", \"symbol-narrow\", \"1.2-2\"));\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r7.orderParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r7.contactDetailsObj == null ? null : ctx_r7.contactDetailsObj.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r7.contactDetailsObj == null ? null : ctx_r7.contactDetailsObj.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.templateInstructionType, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.notificationPreview);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r7.isContinueBtnDisabled ? \"button button--disabled govuk-!-margin-right-1 govuk-font19px\" : \"button govuk-!-margin-right-1 govuk-font19px\");\n  }\n}\nfunction PaymentViewComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r79 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 88, 15);\n    i0.ɵɵelementStart(3, \"div\", 89)(4, \"div\")(5, \"div\", 90)(6, \"h1\", 91);\n    i0.ɵɵtext(7, \" Refund submitted \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 92)(9, \"p\", 93)(10, \"strong\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(12, \"h2\", 69);\n    i0.ɵɵtext(13, \"What happens next\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 94);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 94)(18, \"a\", 95);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_10_Template_a_click_18_listener($event) {\n      i0.ɵɵrestoreView(_r79);\n      const ctx_r78 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r78.goToCaseTransationPage($event));\n    });\n    i0.ɵɵtext(19, \" Return to case \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Refund reference: \", ctx_r8.refundReference, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" A refund request for \", i0.ɵɵpipeBind4(16, 2, ctx_r8.refundAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" has been created and will be passed to a team leader to approve. \");\n  }\n}\nfunction PaymentViewComponent_ng_container_11_tr_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 97);\n    i0.ɵɵtext(2, \"Has disputed amount debited\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r80 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r80.selectedPaymentsStatus.has_amount_debited, \"\");\n  }\n}\nfunction PaymentViewComponent_ng_container_11_tr_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 97);\n    i0.ɵɵtext(2, \"Status following representation of payment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r81 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r81.selectedPaymentsStatus.representment_status === \"Yes\" || ctx_r81.selectedPaymentsStatus.representment_status === \"yes\" ? \"Success\" : \"Failure\", \"\");\n  }\n}\nfunction PaymentViewComponent_ng_container_11_tr_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 19)(1, \"td\", 97);\n    i0.ɵɵtext(2, \"Date payment represented\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r82 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\\t\", i0.ɵɵpipeBind2(5, 1, ctx_r82.selectedPaymentsStatus.representment_date, \"dd MMM yyyy HH:mm:ss\"), \"\");\n  }\n}\nfunction PaymentViewComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r84 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 96)(2, \"div\", 4)(3, \"ol\", 5)(4, \"li\", 6)(5, \"a\", 7);\n    i0.ɵɵlistener(\"click\", function PaymentViewComponent_ng_container_11_Template_a_click_5_listener($event) {\n      i0.ɵɵrestoreView(_r84);\n      const ctx_r83 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r83.goBackToPaymentView($event));\n    });\n    i0.ɵɵtext(6, \"Back\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"div\", 17)(9, \"h1\", 18);\n    i0.ɵɵtext(10, \"Failure event details\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"table\")(12, \"tbody\")(13, \"tr\", 19)(14, \"td\", 97);\n    i0.ɵɵtext(15, \"Failure reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"tr\", 19)(19, \"td\", 97);\n    i0.ɵɵtext(20, \"Failure reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"tr\", 19)(24, \"td\", 97);\n    i0.ɵɵtext(25, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"tr\", 19)(29, \"td\", 97);\n    i0.ɵɵtext(30, \"Payment amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"tr\", 19)(35, \"td\", 97);\n    i0.ɵɵtext(36, \"Disputed amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"td\");\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"tr\", 19)(41, \"td\", 97);\n    i0.ɵɵtext(42, \"Additional information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"td\");\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(45, \"tr\", 19)(46, \"td\", 97);\n    i0.ɵɵtext(47, \"Failure type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\");\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"tr\", 19)(51, \"td\", 97);\n    i0.ɵɵtext(52, \"Failure event date and time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"td\");\n    i0.ɵɵtext(54);\n    i0.ɵɵpipe(55, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(56, PaymentViewComponent_ng_container_11_tr_56_Template, 5, 1, \"tr\", 22);\n    i0.ɵɵtemplate(57, PaymentViewComponent_ng_container_11_tr_57_Template, 5, 1, \"tr\", 22);\n    i0.ɵɵtemplate(58, PaymentViewComponent_ng_container_11_tr_58_Template, 6, 4, \"tr\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(59, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r9.selectedPaymentsStatus.failure_reference, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r9.selectedPaymentsStatus.failure_reason, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r9.selectedPaymentsStatus.payment_reference);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \\xA3\", i0.ɵɵpipeBind2(33, 11, ctx_r9.paymentGroup == null ? null : ctx_r9.paymentGroup.payments[0] == null ? null : ctx_r9.paymentGroup.payments[0].amount, \".2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\t\\xA3\", i0.ɵɵpipeBind2(39, 14, ctx_r9.selectedPaymentsStatus.disputed_amount, \".2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r9.selectedPaymentsStatus.additional_reference, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\t\", ctx_r9.selectedPaymentsStatus.failure_type, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(55, 17, ctx_r9.selectedPaymentsStatus.failure_event_date_time, \"dd MMM yyyy HH:mm:ss\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedPaymentsStatus.has_amount_debited);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedPaymentsStatus.representment_status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedPaymentsStatus.representment_date);\n  }\n}\nfunction PaymentListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"h2\", 3);\n    i0.ɵɵtext(3, \" Payments list could not be retrieved \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1, \" Payment rejected due to payment method selected or payment information entered, for example, failed fraud check, a 3D Secure authentication failure, or the user does not have enough money in account \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1, \" Payment was not confirmed and completed within 90 minutes of being created \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1, \" User clicked on the \\u201CCancel payment\\u201D button during the payment journey \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1, \" Multiple possible causes, for example a configuration problem with the payment provider, or incorrect login credentials \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_1_Template, 2, 0, \"p\", 10);\n    i0.ɵɵtemplate(2, PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_2_Template, 2, 0, \"p\", 10);\n    i0.ɵɵtemplate(3, PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_3_Template, 2, 0, \"p\", 10);\n    i0.ɵɵtemplate(4, PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_p_4_Template, 2, 0, \"p\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const statusHistory_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", statusHistory_r9.error_code === \"P0010\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", statusHistory_r9.error_code === \"P0020\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", statusHistory_r9.error_code === \"P0030\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", statusHistory_r9.error_code === \"P0050\");\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, PaymentListComponent_div_2_tr_17_td_18_div_5_div_1_Template, 5, 4, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const payment_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", payment_r3.status_histories);\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"details\")(2, \"summary\")(3, \"span\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, PaymentListComponent_div_2_tr_17_td_18_div_5_Template, 2, 1, \"div\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const payment_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(payment_r3.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", payment_r3.status === \"Failed\");\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const payment_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", payment_r3.status, \" \");\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_20_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"p\", 8);\n    i0.ɵɵtext(2, \"This means the transaction is being processed by Liberata.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"details\")(2, \"summary\")(3, \"span\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, PaymentListComponent_div_2_tr_17_td_20_div_5_Template, 3, 0, \"div\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const payment_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(payment_r3.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", payment_r3.status === \"Pending\");\n  }\n}\nfunction PaymentListComponent_div_2_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 8)(2, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function PaymentListComponent_div_2_tr_17_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const payment_r3 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.loadPaymentViewComponent(payment_r3.payment_group_reference, payment_r3.payment_reference, payment_r3.method));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 8);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 8);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, PaymentListComponent_div_2_tr_17_td_18_Template, 6, 2, \"td\", 1);\n    i0.ɵɵtemplate(19, PaymentListComponent_div_2_tr_17_td_19_Template, 2, 1, \"td\", 10);\n    i0.ɵɵtemplate(20, PaymentListComponent_div_2_tr_17_td_20_Template, 6, 2, \"td\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const payment_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(payment_r3.payment_group_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(payment_r3.payment_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 9, payment_r3.date_created, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 12, payment_r3.channel));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 14, payment_r3.method));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\xA3\", i0.ɵɵpipeBind2(17, 16, payment_r3.amount, \".2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", payment_r3.method === \"card\" && payment_r3.channel === \"online\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", payment_r3.method === \"card\" && payment_r3.channel === \"telephony\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", payment_r3.method === \"payment by account\");\n  }\n}\nfunction PaymentListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 5)(2, \"tr\")(3, \"th\", 6);\n    i0.ɵɵtext(4, \"Payment group reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 6);\n    i0.ɵɵtext(6, \"Payment reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 6);\n    i0.ɵɵtext(8, \"Date created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 6);\n    i0.ɵɵtext(10, \"Channel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 6);\n    i0.ɵɵtext(12, \"Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 6);\n    i0.ɵɵtext(14, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 6);\n    i0.ɵɵtext(16, \"Status\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, PaymentListComponent_div_2_tr_17_Template, 21, 19, \"tr\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.payments.payments);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"ol\", 4)(2, \"li\", 5)(3, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_1_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(4, \"Back\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h2\", 15);\n    i0.ɵɵtext(2, \" There is a problem \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"ul\", 17)(5, \"li\", 18);\n    i0.ɵɵtext(6, \" Your PBA account cannot be found. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\", 18);\n    i0.ɵɵtext(8, \" If you know your organisation has a PBA, try again. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"li\", 18);\n    i0.ɵɵtext(10, \" You can also pay by credit or debit card. \");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pbaAccount_r19 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", pbaAccount_r19);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pbaAccount_r19);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"label\", 35);\n    i0.ɵɵtext(2, \" Enter a reference for your PBA account statements \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 36);\n    i0.ɵɵtext(4, \" This should be your own unique reference to identify the case. It will appear on your statements. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 37);\n    i0.ɵɵlistener(\"change\", function PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_div_8_Template_input_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r20.selectpbaaccount($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29)(2, \"label\", 30);\n    i0.ɵɵtext(3, \" Select a PBA \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 31);\n    i0.ɵɵlistener(\"change\", function PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_Template_select_change_4_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r22.selectpbaaccount($event));\n    });\n    i0.ɵɵelementStart(5, \"option\", 32);\n    i0.ɵɵtext(6, \"Select option\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_option_7_Template, 2, 2, \"option\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_div_8_Template, 6, 0, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.pbaAccountList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r16.errorMsg && ctx_r16.selectedPbaAccount);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"fieldset\", 20)(2, \"div\", 21)(3, \"div\", 22)(4, \"input\", 23);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_2_div_8_Template_input_click_4_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r24.selectPaymentMethod(\"PBA\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\", 24);\n    i0.ɵɵtext(6, \" Pay fee using Payment by Account (PBA) \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, PbaPaymentComponent_ng_container_0_div_2_div_8_div_7_Template, 9, 2, \"div\", 25);\n    i0.ɵɵelementStart(8, \"div\", 22)(9, \"input\", 26);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_2_div_8_Template_input_click_9_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r26.selectPaymentMethod(\"CARD\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 27);\n    i0.ɵɵtext(11, \" Pay by credit or debit card \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.isPbaAccountSelected);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_2_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r27.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(2, \" View Service Request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_2_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r29.cardPayment());\n    });\n    i0.ɵɵtext(4, \" Pay by card \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_10_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Continue\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_10_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Confirm payment\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_div_2_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r32.saveAndContinue());\n    });\n    i0.ɵɵtemplate(2, PbaPaymentComponent_ng_container_0_div_2_div_10_span_2_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtemplate(3, PbaPaymentComponent_ng_container_0_div_2_div_10_span_3_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r15.isContinueButtondisabled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r15.isPBADropdownSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.isPBADropdownSelected);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, PbaPaymentComponent_ng_container_0_div_2_div_1_Template, 11, 0, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 9)(3, \"label\", 10);\n    i0.ɵɵtext(4, \" Amount to pay \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, PbaPaymentComponent_ng_container_0_div_2_div_8_Template, 12, 1, \"div\", 12);\n    i0.ɵɵtemplate(9, PbaPaymentComponent_ng_container_0_div_2_div_9_Template, 5, 0, \"div\", 13);\n    i0.ɵɵtemplate(10, PbaPaymentComponent_ng_container_0_div_2_div_10_Template, 4, 3, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.errorMsg);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(7, 5, ctx_r2.pbaPayOrderRef.orderTotalFees, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.errorMsg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.errorMsg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.errorMsg);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 45)(5, \"span\", 46);\n    i0.ɵɵtext(6, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"strong\", 47)(8, \"span\", 48);\n    i0.ɵɵtext(9, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h2\", 49);\n    i0.ɵɵtext(11, \"You don\\u2019t have a registered PBA.\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"div\", 50)(13, \"h2\", 51);\n    i0.ɵɵtext(14, \"Pay by credit or debit card\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\", 52);\n    i0.ɵɵtext(16, \" We recommend that you apply to get a new PBA to pay for fees. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\", 53);\n    i0.ɵɵtext(18, \" you can also pay by credit or debit card if you need to pay now \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 54)(20, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_3_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r34.cardPayment());\n    });\n    i0.ɵɵtext(21, \" Pay by card \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 50)(23, \"h2\", 51);\n    i0.ɵɵtext(24, \"Register an existing PBA with MyHMCTS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\", 52);\n    i0.ɵɵtext(26, \" You may find it easier in future to pay by PBA, your organisation administrator will need to email \");\n    i0.ɵɵelementStart(27, \"a\", 55);\n    i0.ɵɵtext(28, \"MyHMCTSsupport@justice.gov.uk\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \" to ask for your PBA to be registered with your MyHMCTS account. You should include your organisation name and PBA number. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\", 52);\n    i0.ɵɵtext(31, \" It can then take up to 3 days for your account to be updated. You\\u2019ll need to start your claim again to pay the fee. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\", 50)(33, \"h2\", 51);\n    i0.ɵɵtext(34, \"Apply to get a new PBA \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"p\", 52);\n    i0.ɵɵtext(36, \" You\\u2019ll need to provide details for you and your organisation, including the required credit limit for your account. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"p\", 52);\n    i0.ɵɵtext(38, \" Once your account has been registered, you\\u2019ll need to start your claim again to pay the fee. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\", 52);\n    i0.ɵɵtext(40, \" Read more information on \");\n    i0.ɵɵelementStart(41, \"a\", 56);\n    i0.ɵɵtext(42, \"registering for PBA\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(43, \". \");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 14)(5, \"h2\", 15);\n    i0.ɵɵtext(6, \" There is a problem \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"ul\", 17)(9, \"li\", 18);\n    i0.ɵɵtext(10, \" You don't have enough funds in your PBA account to pay for this fee. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 18);\n    i0.ɵɵtext(12, \" If you have already topped up your PBA account, wait up to 24 hours for the new balance to become available. \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"div\", 50)(14, \"h2\", 51);\n    i0.ɵɵtext(15, \"Should you need any further advice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 52);\n    i0.ɵɵtext(17, \" Email \");\n    i0.ɵɵelementStart(18, \"a\", 57);\n    i0.ɵɵtext(19, \"MiddleOffice.DDservices@liberata.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \" or call \");\n    i0.ɵɵelementStart(21, \"a\", 58);\n    i0.ɵɵtext(22, \"01633 652 125\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \" (option 3) to try to fix the issue. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 52);\n    i0.ɵɵtext(25, \" you can also pay by credit or debit card. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 38)(27, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_4_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(28, \" View Service Request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_4_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r38 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r38.cardPayment());\n    });\n    i0.ɵɵtext(30, \" Pay by card \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 14)(5, \"h2\", 15);\n    i0.ɵɵtext(6, \" There is a problem \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"ul\", 17)(9, \"li\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"div\", 50)(12, \"h2\", 51);\n    i0.ɵɵtext(13, \"Should you need any further advice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 59);\n    i0.ɵɵtext(15, \" Email \");\n    i0.ɵɵelementStart(16, \"a\", 57);\n    i0.ɵɵtext(17, \"MiddleOffice.DDservices@liberata.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" or call \");\n    i0.ɵɵelementStart(19, \"a\", 58);\n    i0.ɵɵtext(20, \"01633 652 125\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \" (option 3) to try to fix the issue. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 52);\n    i0.ɵɵtext(23, \" you can also pay by credit or debit card. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 38)(25, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_5_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(26, \" View Service Request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_5_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.cardPayment());\n    });\n    i0.ɵɵtext(28, \" Pay by card \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" Your PBA account (\", ctx_r5.selectedPbaAccount, \") no longer exists. \");\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 14)(5, \"h2\", 15);\n    i0.ɵɵtext(6, \" There is a problem \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 16)(8, \"ul\", 17)(9, \"li\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(11, \"div\", 50)(12, \"h2\", 51);\n    i0.ɵɵtext(13, \"Should you need any further advice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 59);\n    i0.ɵɵtext(15, \" Email \");\n    i0.ɵɵelementStart(16, \"a\", 57);\n    i0.ɵɵtext(17, \"MiddleOffice.DDservices@liberata.com\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" or call \");\n    i0.ɵɵelementStart(19, \"a\", 58);\n    i0.ɵɵtext(20, \"01633 652 125\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \" (option 3) to try to fix the issue. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\", 52);\n    i0.ɵɵtext(23, \" you can also pay by credit or debit card. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 38)(25, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_6_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r42 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r42.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(26, \" View Service Request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_6_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r43);\n      const ctx_r44 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r44.cardPayment());\n    });\n    i0.ɵɵtext(28, \" Pay by card \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" Your PBA account (\", ctx_r6.selectedPbaAccount, \") has been put on hold. \");\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 50)(5, \"h2\", 60);\n    i0.ɵɵtext(6, \"Sorry, there is a problem with the service\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 52);\n    i0.ɵɵtext(8, \" Try again later. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 52);\n    i0.ɵɵtext(10, \" you can also pay by credit or debit card. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 38)(12, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_7_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(13, \" View Service Request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_7_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.cardPayment());\n    });\n    i0.ɵɵtext(15, \" Pay by card \");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 61)(5, \"h1\", 62);\n    i0.ɵɵtext(6, \" Payment successful \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 63);\n    i0.ɵɵtext(8, \" Your payment reference is \");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"strong\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"p\", 52)(13, \"a\", 64);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_8_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const ctx_r48 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r48.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(14, \"View service requests\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate(ctx_r8.pbaAccountrPaymentResult.payment_reference);\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 42)(2, \"main\", 43)(3, \"div\", 44)(4, \"div\", 50)(5, \"h2\", 60);\n    i0.ɵɵtext(6, \"Sorry, there is a problem with the service\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 52);\n    i0.ɵɵtext(8, \" Try again later. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 52)(10, \"a\", 64);\n    i0.ɵɵlistener(\"click\", function PbaPaymentComponent_ng_container_0_ng_container_9_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r50 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r50.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(11, \"View service requests\");\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PbaPaymentComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PbaPaymentComponent_ng_container_0_div_1_Template, 5, 0, \"div\", 1);\n    i0.ɵɵtemplate(2, PbaPaymentComponent_ng_container_0_div_2_Template, 11, 10, \"div\", 2);\n    i0.ɵɵtemplate(3, PbaPaymentComponent_ng_container_0_ng_container_3_Template, 44, 0, \"ng-container\", 0);\n    i0.ɵɵtemplate(4, PbaPaymentComponent_ng_container_0_ng_container_4_Template, 31, 0, \"ng-container\", 0);\n    i0.ɵɵtemplate(5, PbaPaymentComponent_ng_container_0_ng_container_5_Template, 29, 1, \"ng-container\", 0);\n    i0.ɵɵtemplate(6, PbaPaymentComponent_ng_container_0_ng_container_6_Template, 29, 1, \"ng-container\", 0);\n    i0.ɵɵtemplate(7, PbaPaymentComponent_ng_container_0_ng_container_7_Template, 16, 0, \"ng-container\", 0);\n    i0.ɵɵtemplate(8, PbaPaymentComponent_ng_container_0_ng_container_8_Template, 15, 1, \"ng-container\", 0);\n    i0.ɵɵtemplate(9, PbaPaymentComponent_ng_container_0_ng_container_9_Template, 12, 0, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.errorMsg && !ctx_r0.isPBAAccountPaymentSuccess && !ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((ctx_r0.pbaAccountList == null ? null : ctx_r0.pbaAccountList.length) > 0 || ctx_r0.errorMsg) && !ctx_r0.isInSufficiantFund && !ctx_r0.isPBAAccountNotExist && !ctx_r0.isPBAServerError && !ctx_r0.isPBAAccountHold && !ctx_r0.isPBAAccountPaymentSuccess && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.pbaAccountList == null ? null : ctx_r0.pbaAccountList.length) <= 0 && !ctx_r0.errorMsg && ctx_r0.isGetPBAAccountSucceed && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isInSufficiantFund && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isPBAAccountNotExist && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isPBAAccountHold && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isPBAServerError && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isPBAAccountPaymentSuccess && ctx_r0.isCardPaymentSuccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isCardPaymentSuccess);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 41)(2, \"h2\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 43);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.errorMessage.body, \" \");\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"strong\");\n    i0.ɵɵtext(2, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.refundlistsource == null ? null : ctx_r2.refundlistsource.contact_details == null ? null : ctx_r2.refundlistsource.contact_details.email == null ? null : ctx_r2.refundlistsource.contact_details.email.trim(), \" \");\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44)(1, \"strong\");\n    i0.ɵɵtext(2, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate5(\" \", ctx_r3.refundlistsource == null ? null : ctx_r3.refundlistsource.contact_details == null ? null : ctx_r3.refundlistsource.contact_details.address_line == null ? null : ctx_r3.refundlistsource.contact_details.address_line.trim(), \" \", ctx_r3.refundlistsource == null ? null : ctx_r3.refundlistsource.contact_details == null ? null : ctx_r3.refundlistsource.contact_details.city == null ? null : ctx_r3.refundlistsource.contact_details.city.trim(), \" \", ctx_r3.refundlistsource == null ? null : ctx_r3.refundlistsource.contact_details == null ? null : ctx_r3.refundlistsource.contact_details.county == null ? null : ctx_r3.refundlistsource.contact_details.county.trim(), \" \", ctx_r3.refundlistsource == null ? null : ctx_r3.refundlistsource.contact_details == null ? null : ctx_r3.refundlistsource.contact_details.country == null ? null : ctx_r3.refundlistsource.contact_details.country.trim(), \" \", ctx_r3.refundlistsource == null ? null : ctx_r3.refundlistsource.contact_details == null ? null : ctx_r3.refundlistsource.contact_details.postal_code == null ? null : ctx_r3.refundlistsource.contact_details.postal_code.trim(), \" \");\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_a_56_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_a_56_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.showNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_a_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 45);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_a_57_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.hideNotificationPreview());\n    });\n    i0.ɵɵtext(1, \" Hide Preview \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_app_notification_preview_58_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-notification-preview\", 46);\n    i0.ɵɵlistener(\"notificationPreviewEvent\", function ProcessRefundComponent_ng_container_0_app_notification_preview_58_Template_app_notification_preview_notificationPreviewEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.getNotificationPreviewObj($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"paymentReference\", ctx_r6.refundlistsource == null ? null : ctx_r6.refundlistsource.payment_reference)(\"payment\", ctx_r6.paymentObj)(\"contactDetails\", ctx_r6.refundlistsource == null ? null : ctx_r6.refundlistsource.contact_details)(\"refundReason\", ctx_r6.refundlistsource == null ? null : ctx_r6.refundlistsource.reason_code)(\"refundAmount\", ctx_r6.refundlistsource == null ? null : ctx_r6.refundlistsource.amount)(\"refundReference\", ctx_r6.refundlistsource == null ? null : ctx_r6.refundlistsource.refund_reference);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_68_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select an action\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 47);\n    i0.ɵɵtemplate(1, ProcessRefundComponent_ng_container_0_p_68_span_1_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.refundActionsHasError);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"input\", 49);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_div_69_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const refundAction_r21 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.checkRefundActions(refundAction_r21.code));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const refundAction_r21 = ctx.$implicit;\n    const i_r22 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"refundAction-\", i_r22, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", refundAction_r21.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"refundAction-\", i_r22, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", refundAction_r21.code, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", refundAction_r21.label, \" \");\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_74_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Add a reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_74_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Add a valid reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_74_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be at least 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_74_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be 255 characters or under.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 47);\n    i0.ɵɵtemplate(1, ProcessRefundComponent_ng_container_0_p_74_span_1_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtemplate(2, ProcessRefundComponent_ng_container_0_p_74_span_2_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtemplate(3, ProcessRefundComponent_ng_container_0_p_74_span_3_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtemplate(4, ProcessRefundComponent_ng_container_0_p_74_span_4_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.isReasonFieldEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.isReasonFieldInvalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.reasonFieldMinHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.reasonFieldMaxHasError);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_82_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select a reject reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 47);\n    i0.ɵɵtemplate(1, ProcessRefundComponent_ng_container_0_p_82_span_1_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.refundRejectReasonHasError);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_83_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"input\", 52);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_div_83_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r33);\n      const refundRejectReason_r30 = restoredCtx.$implicit;\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.checkRefundActions(refundRejectReason_r30.code));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 50);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const refundRejectReason_r30 = ctx.$implicit;\n    const j_r31 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"refundRejectReason-\", j_r31, \"\");\n    i0.ɵɵpropertyInterpolate(\"value\", refundRejectReason_r30.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"refundRejectReason-\", j_r31, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", refundRejectReason_r30.name, \" \");\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_88_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter reason.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_88_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_p_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 47);\n    i0.ɵɵtemplate(1, ProcessRefundComponent_ng_container_0_p_88_span_1_Template, 2, 0, \"span\", 0);\n    i0.ɵɵtemplate(2, ProcessRefundComponent_ng_container_0_p_88_span_2_Template, 2, 0, \"span\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.isReasonEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.isReasonInvalid);\n  }\n}\nfunction ProcessRefundComponent_ng_container_0_div_97_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"p\")(2, \"a\", 54);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_div_97_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r36.loadRefundsHomePage());\n    });\n    i0.ɵɵtext(3, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c4 = function (a0) {\n  return {\n    \"govuk-radios__conditional--hidden\": a0\n  };\n};\nfunction ProcessRefundComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1)(2, \"main\", 2);\n    i0.ɵɵtemplate(3, ProcessRefundComponent_ng_container_0_div_3_Template, 6, 2, \"div\", 0);\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h1\", 6);\n    i0.ɵɵtext(8, \"Review refund details\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"table\")(10, \"tbody\")(11, \"tr\", 7)(12, \"td\", 8);\n    i0.ɵɵtext(13, \"Payment to be refunded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 9);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tr\", 7)(18, \"td\", 8);\n    i0.ɵɵtext(19, \"Reason for refund\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\", 9);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"tr\", 7)(23, \"td\", 8);\n    i0.ɵɵtext(24, \"Amount to be refunded\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\", 9);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"tr\", 7)(29, \"td\", 8);\n    i0.ɵɵtext(30, \"Sent to\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\", 9);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"tr\", 7)(34, \"td\", 8);\n    i0.ɵɵtext(35, \"Sent via\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"td\", 9);\n    i0.ɵɵtemplate(37, ProcessRefundComponent_ng_container_0_div_37_Template, 5, 1, \"div\", 10);\n    i0.ɵɵtemplate(38, ProcessRefundComponent_ng_container_0_div_38_Template, 5, 5, \"div\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"tr\", 7)(40, \"td\", 8);\n    i0.ɵɵtext(41, \"Submitted by\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"td\", 9);\n    i0.ɵɵtext(43);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"tr\", 7)(45, \"td\", 8);\n    i0.ɵɵtext(46, \"Date submitted\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"td\", 9);\n    i0.ɵɵtext(48);\n    i0.ɵɵpipe(49, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"tr\", 7)(51, \"td\", 8);\n    i0.ɵɵtext(52, \"Notification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"td\");\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"td\");\n    i0.ɵɵtemplate(56, ProcessRefundComponent_ng_container_0_a_56_Template, 2, 0, \"a\", 11);\n    i0.ɵɵtemplate(57, ProcessRefundComponent_ng_container_0_a_57_Template, 2, 0, \"a\", 11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(58, ProcessRefundComponent_ng_container_0_app_notification_preview_58_Template, 1, 6, \"app-notification-preview\", 12);\n    i0.ɵɵelement(59, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(60, \"div\", 13)(61, \"form\", 14)(62, \"div\", 15)(63, \"fieldset\", 16)(64, \"legend\", 17)(65, \"h1\", 18);\n    i0.ɵɵtext(66, \" What do you want to do with this refund? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(67, \"div\", 19);\n    i0.ɵɵtemplate(68, ProcessRefundComponent_ng_container_0_p_68_Template, 2, 1, \"p\", 20);\n    i0.ɵɵtemplate(69, ProcessRefundComponent_ng_container_0_div_69_Template, 6, 5, \"div\", 21);\n    i0.ɵɵelementStart(70, \"div\", 22)(71, \"div\", 23)(72, \"label\", 24);\n    i0.ɵɵtext(73, \" Add a reason \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(74, ProcessRefundComponent_ng_container_0_p_74_Template, 5, 4, \"p\", 20);\n    i0.ɵɵelement(75, \"textarea\", 25);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(76, \"div\", 26)(77, \"fieldset\", 27)(78, \"legend\", 17)(79, \"h2\", 28);\n    i0.ɵɵtext(80, \" Why are you rejecting this refund? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(81, \"div\", 19);\n    i0.ɵɵtemplate(82, ProcessRefundComponent_ng_container_0_p_82_Template, 2, 1, \"p\", 20);\n    i0.ɵɵtemplate(83, ProcessRefundComponent_ng_container_0_div_83_Template, 4, 4, \"div\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(84, \"div\", 29)(85, \"div\", 23)(86, \"label\", 24);\n    i0.ɵɵtext(87, \" Enter reason \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(88, ProcessRefundComponent_ng_container_0_p_88_Template, 3, 2, \"p\", 20);\n    i0.ɵɵelement(89, \"input\", 30);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(90, \"div\", 31)(91, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_Template_button_click_91_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.redirecttoRefundListPage());\n    });\n    i0.ɵɵtext(92, \" Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(93, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_Template_button_click_93_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.processRefundSubmit());\n    });\n    i0.ɵɵtext(94, \" Submit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(95, \"br\")(96, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(97, ProcessRefundComponent_ng_container_0_div_97_Template, 4, 0, \"div\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(98, \"main\", 35)(99, \"div\", 36)(100, \"div\", 37)(101, \"h1\", 38);\n    i0.ɵɵtext(102);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(103, \"p\", 39)(104, \"a\", 40);\n    i0.ɵɵlistener(\"click\", function ProcessRefundComponent_ng_container_0_Template_a_click_104_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.goToCaseReview());\n    });\n    i0.ɵɵtext(105, \"Return to case\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(45, _c4, ctx_r0.isSuccesspageEnable));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage.showError);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.refund_reference, \" (\", i0.ɵɵpipeBind4(16, 32, ctx_r0.refundlistsource.amount, \"GBP\", \"symbol\", \"1.2-2\"), \")\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.reason == null ? null : ctx_r0.refundlistsource.reason.trim());\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(27, 37, ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.amount, \"GBP\", \"symbol\", \"1.2-2\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.cpoDetails == null ? null : ctx_r0.cpoDetails.responsibleParty);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.contact_details == null ? null : ctx_r0.refundlistsource.contact_details.notification_type) === \"EMAIL\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.contact_details == null ? null : ctx_r0.refundlistsource.contact_details.notification_type) === \"LETTER\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.user_full_name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(49, 42, ctx_r0.refundlistsource == null ? null : ctx_r0.refundlistsource.date_created, \"d MMMM yyyy\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.templateInstructionType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notificationPreview);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notificationPreview);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.processRefundForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(47, _c2, ctx_r0.refundActionsHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.refundActionsHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.refundActionList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(49, _c4, !ctx_r0.isSendMeBackClicked));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isReasonFieldEmpty || ctx_r0.isReasonFieldInvalid || ctx_r0.reasonFieldMinHasError || ctx_r0.reasonFieldMaxHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(51, _c0, ctx_r0.isReasonFieldEmpty || ctx_r0.isReasonFieldInvalid || ctx_r0.reasonFieldMinHasError || ctx_r0.reasonFieldMaxHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(53, _c4, !ctx_r0.isRejectClicked));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(55, _c2, ctx_r0.refundRejectReasonHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.refundRejectReasonHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.refundRejectReasonList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(57, _c4, !ctx_r0.isOtherClicked));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isReasonEmpty || ctx_r0.isReasonInvalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(59, _c0, ctx_r0.isReasonEmpty || ctx_r0.isReasonInvalid));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isFromRefundListPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(61, _c4, !ctx_r0.isSuccesspageEnable));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMsg, \" \");\n  }\n}\nfunction TableComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 6)(2, \"h2\", 7);\n    i0.ɵɵtext(3, \" Error in processing the request \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction TableComponent_div_2_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const name_r6 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", name_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(name_r6);\n  }\n}\nfunction TableComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"label\", 10);\n    i0.ɵɵtext(2, \" Filter by caseworker: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 11);\n    i0.ɵɵlistener(\"change\", function TableComponent_div_2_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.selectchange($event));\n    });\n    i0.ɵɵelementStart(4, \"option\", 12);\n    i0.ɵɵtext(5, \"All caseworkers\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TableComponent_div_2_option_6_Template, 2, 2, \"option\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.userLst);\n  }\n}\nfunction TableComponent_div_3_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const name_r10 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", name_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(name_r10);\n  }\n}\nfunction TableComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"label\", 10);\n    i0.ɵɵtext(2, \" Filter by service: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 11);\n    i0.ɵɵlistener(\"change\", function TableComponent_div_3_Template_select_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.selectchange($event));\n    });\n    i0.ɵɵelementStart(4, \"option\", 12);\n    i0.ɵɵtext(5, \"All services\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TableComponent_div_3_option_6_Template, 2, 2, \"option\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.serviceLst);\n  }\n}\nfunction TableComponent_div_4_mat_header_cell_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \"Case reference \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_mat_cell_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"ccdHyphens\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, row_r27.ccd_case_number), \" \");\n  }\n}\nfunction TableComponent_div_4_mat_header_cell_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Refund reference \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_mat_cell_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r28.refund_reference, \" \");\n  }\n}\nfunction TableComponent_div_4_mat_header_cell_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Submitted by \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_mat_cell_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r29 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"color\", row_r29.color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r29.user_full_name, \" \");\n  }\n}\nfunction TableComponent_div_4_mat_header_cell_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 32);\n    i0.ɵɵtext(1, \" Date created \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_mat_cell_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r30 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, row_r30.date_created, \"d MMMM yyyy\"), \" \");\n  }\n}\nfunction TableComponent_div_4_mat_header_cell_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\", 32);\n    i0.ɵɵtext(1, \" Last updated\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_mat_cell_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r31 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"color\", row_r31.color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 3, row_r31.date_updated, \"d MMMM yyyy\"), \" \");\n  }\n}\nfunction TableComponent_div_4_ng_container_17_mat_header_cell_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Action \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_ng_container_17_mat_cell_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function TableComponent_div_4_ng_container_17_mat_cell_2_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const row_r34 = restoredCtx.$implicit;\n      const ctx_r35 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r35.goToCaseReview(row_r34.ccd_case_number, row_r34));\n    });\n    i0.ɵɵtext(2, \"Review case\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\xA0\");\n    i0.ɵɵelementStart(4, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function TableComponent_div_4_ng_container_17_mat_cell_2_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r36);\n      const row_r34 = restoredCtx.$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r37.goToRefundProcessComponent(row_r34.refund_reference, row_r34));\n    });\n    i0.ɵɵtext(5, \"Process refund\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r34 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"color\", row_r34.color);\n  }\n}\nfunction TableComponent_div_4_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 33);\n    i0.ɵɵtemplate(1, TableComponent_div_4_ng_container_17_mat_header_cell_1_Template, 2, 0, \"mat-header-cell\", 19);\n    i0.ɵɵtemplate(2, TableComponent_div_4_ng_container_17_mat_cell_2_Template, 6, 2, \"mat-cell\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TableComponent_div_4_ng_container_18_mat_header_cell_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Action \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TableComponent_div_4_ng_container_18_mat_cell_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-cell\")(1, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function TableComponent_div_4_ng_container_18_mat_cell_2_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r42);\n      const row_r40 = restoredCtx.$implicit;\n      const ctx_r41 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r41.goToRefundViewComponent(row_r40.refund_reference, row_r40));\n    });\n    i0.ɵɵtext(2, \"Review refund\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r40 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"color\", row_r40.color);\n  }\n}\nfunction TableComponent_div_4_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 33);\n    i0.ɵɵtemplate(1, TableComponent_div_4_ng_container_18_mat_header_cell_1_Template, 2, 0, \"mat-header-cell\", 19);\n    i0.ɵɵtemplate(2, TableComponent_div_4_ng_container_18_mat_cell_2_Template, 3, 2, \"mat-cell\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TableComponent_div_4_mat_header_row_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\nfunction TableComponent_div_4_mat_row_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\nconst _c5 = function () {\n  return [5, 10, 25, 100];\n};\nfunction TableComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"mat-table\", 17);\n    i0.ɵɵelementContainerStart(2, 18);\n    i0.ɵɵtemplate(3, TableComponent_div_4_mat_header_cell_3_Template, 2, 0, \"mat-header-cell\", 19);\n    i0.ɵɵtemplate(4, TableComponent_div_4_mat_cell_4_Template, 3, 3, \"mat-cell\", 20);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(5, 21);\n    i0.ɵɵtemplate(6, TableComponent_div_4_mat_header_cell_6_Template, 2, 0, \"mat-header-cell\", 19);\n    i0.ɵɵtemplate(7, TableComponent_div_4_mat_cell_7_Template, 2, 1, \"mat-cell\", 20);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(8, 22);\n    i0.ɵɵtemplate(9, TableComponent_div_4_mat_header_cell_9_Template, 2, 0, \"mat-header-cell\", 19);\n    i0.ɵɵtemplate(10, TableComponent_div_4_mat_cell_10_Template, 2, 3, \"mat-cell\", 23);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(11, 24);\n    i0.ɵɵtemplate(12, TableComponent_div_4_mat_header_cell_12_Template, 2, 0, \"mat-header-cell\", 25);\n    i0.ɵɵtemplate(13, TableComponent_div_4_mat_cell_13_Template, 3, 4, \"mat-cell\", 20);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(14, 26);\n    i0.ɵɵtemplate(15, TableComponent_div_4_mat_header_cell_15_Template, 2, 0, \"mat-header-cell\", 25);\n    i0.ɵɵtemplate(16, TableComponent_div_4_mat_cell_16_Template, 3, 6, \"mat-cell\", 23);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(17, TableComponent_div_4_ng_container_17_Template, 3, 0, \"ng-container\", 27);\n    i0.ɵɵtemplate(18, TableComponent_div_4_ng_container_18_Template, 3, 0, \"ng-container\", 27);\n    i0.ɵɵtemplate(19, TableComponent_div_4_mat_header_row_19_Template, 1, 0, \"mat-header-row\", 28);\n    i0.ɵɵtemplate(20, TableComponent_div_4_mat_row_20_Template, 1, 0, \"mat-row\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"mat-paginator\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dataSource\", ctx_r3.dataSource);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isApprovalFlow);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isApprovalFlow);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r3.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r3.displayedColumns);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(6, _c5));\n  }\n}\nfunction TableComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \"No records to display\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RefundListComponent_ng_container_4_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5);\n    i0.ɵɵtext(2, \"No records to display\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RefundListComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"h2\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(5, RefundListComponent_ng_container_4_div_5_Template, 3, 0, \"div\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.tableApprovalHeader);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isApproveTableVisible);\n  }\n}\nfunction RefundListComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"ccpay-table\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"DATASOURCE\", ctx_r1.submittedRefundList)(\"STATUS\", ctx_r1.approvalStatus)(\"errorMessage\", ctx_r1.errorMessage);\n  }\n}\nfunction RefundListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 5);\n    i0.ɵɵtext(2, \"No records to display\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RefundListComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelement(2, \"ccpay-table\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"DATASOURCE\", ctx_r3.rejectedRefundList)(\"STATUS\", ctx_r3.rejectStatus)(\"errorMessage\", ctx_r3.errorMessage);\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_p_40_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a reason for marking this payment as unidentified.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_p_40_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a vaild reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_p_40_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be at least 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_p_40_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be 255 characters or under.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_p_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 23);\n    i0.ɵɵtemplate(1, MarkUnidentifiedPaymentComponent_div_1_p_40_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, MarkUnidentifiedPaymentComponent_div_1_p_40_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(3, MarkUnidentifiedPaymentComponent_div_1_p_40_span_3_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(4, MarkUnidentifiedPaymentComponent_div_1_p_40_span_4_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.isInvesticationDetailEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.investicationDetailHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.investicationDetailMinHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.investicationDetailMaxHasError);\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 2, 3);\n    i0.ɵɵelementStart(3, \"h1\", 4);\n    i0.ɵɵtext(4, \"Mark payment as unidentified\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵelement(6, \"hr\", 6);\n    i0.ɵɵelementStart(7, \"table\", 7)(8, \"thead\", 8)(9, \"tr\", 9)(10, \"td\", 10);\n    i0.ɵɵtext(11, \"Payment asset number (DCN)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 10);\n    i0.ɵɵtext(13, \"Banked date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 10);\n    i0.ɵɵtext(15, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 10);\n    i0.ɵɵtext(17, \"Method\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\", 11)(19, \"tr\", 9)(20, \"td\", 12);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\", 12);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\", 12);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\", 13);\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"lowercase\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(31, \"form\", 14)(32, \"div\", 15)(33, \"p\", 16);\n    i0.ɵɵtext(34, \" Give a reason for marking this payment as unidentified. \");\n    i0.ɵɵelement(35, \"br\");\n    i0.ɵɵtext(36, \" Include any investigations you've made. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"label\", 17);\n    i0.ɵɵelementStart(38, \"textarea\", 18);\n    i0.ɵɵtext(39, \"        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(40, MarkUnidentifiedPaymentComponent_div_1_p_40_Template, 5, 4, \"p\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 20)(42, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_div_1_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.saveAndContinue());\n    });\n    i0.ɵɵtext(43, \" Continue \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_div_1_Template_button_click_44_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.cancelMarkUnidentifiedPayments(\"cancel\"));\n    });\n    i0.ɵɵtext(45, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate(ctx_r0.unassignedRecord.dcn_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(24, 7, ctx_r0.unassignedRecord.date_banked, \"dd MMM yyyy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(27, 10, ctx_r0.unassignedRecord.amount, \"GBP\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(30, 15, ctx_r0.trimUnderscore(ctx_r0.unassignedRecord.payment_method)), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.markPaymentUnidentifiedForm);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ctx_r0.isInvesticationDetailEmpty || ctx_r0.investicationDetailHasError || ctx_r0.investicationDetailMinHasError || ctx_r0.investicationDetailMaxHasError));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isInvesticationDetailEmpty || ctx_r0.investicationDetailHasError || ctx_r0.investicationDetailMinHasError || ctx_r0.investicationDetailMaxHasError);\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_ng_container_2_ccpay_error_banner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-error-banner\", 32);\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"errorMessage\", ctx_r12.errorMessage);\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MarkUnidentifiedPaymentComponent_ng_container_2_ccpay_error_banner_1_Template, 1, 1, \"ccpay-error-banner\", 24);\n    i0.ɵɵelement(2, \"input\", 25, 3);\n    i0.ɵɵelementStart(4, \"div\", 26)(5, \"span\", 27);\n    i0.ɵɵtext(6, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"strong\", 28)(8, \"span\", 29);\n    i0.ɵɵtext(9, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h1\", 30);\n    i0.ɵɵtext(11, \" Are you sure you want to mark this payment as unidentified? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 5);\n    i0.ɵɵelement(13, \"hr\", 6);\n    i0.ɵɵelementStart(14, \"table\", 7)(15, \"thead\", 8)(16, \"tr\", 9)(17, \"td\", 10);\n    i0.ɵɵtext(18, \"Investigations\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\", 11)(20, \"tr\", 9)(21, \"td\", 12);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(23, \"div\", 20)(24, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_ng_container_2_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.confirmPayments());\n    });\n    i0.ɵɵtext(25, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_ng_container_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.cancelMarkUnidentifiedPayments());\n    });\n    i0.ɵɵtext(27, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errorMessage.showError);\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate(ctx_r1.investigationComment);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isConfirmButtondisabled);\n  }\n}\nfunction MarkUnidentifiedPaymentComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 33, 3);\n    i0.ɵɵelementStart(3, \"div\", 26)(4, \"span\", 27);\n    i0.ɵɵtext(5, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"strong\", 28)(7, \"span\", 29);\n    i0.ɵɵtext(8, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Are you sure you want to cancel? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 20)(11, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_ng_container_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(12, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function MarkUnidentifiedPaymentComponent_ng_container_3_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.cancelMarkUnidentifiedPayments());\n    });\n    i0.ɵɵtext(14, \" No \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_ccpay_error_banner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-error-banner\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"errorMessage\", ctx_r3.errorMessage);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_38_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a reason for marking this payment as transferred.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_38_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid reason\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_38_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be at least 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_38_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Reason should be 255 characters or under.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtemplate(1, MarkUnsolicitedPaymentComponent_div_1_p_38_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, MarkUnsolicitedPaymentComponent_div_1_p_38_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(3, MarkUnsolicitedPaymentComponent_div_1_p_38_span_3_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(4, MarkUnsolicitedPaymentComponent_div_1_p_38_span_4_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isReasonEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.reasonHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.reasonMinHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.reasonMaxHasError);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_option_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const siteID_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", siteID_r12.siteId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", siteID_r12.siteName, \" (\", siteID_r12.siteId, \")\");\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_46_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select Receiving Site ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_46_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select a valid Receiving Site ID\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_p_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtemplate(1, MarkUnsolicitedPaymentComponent_div_1_p_46_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, MarkUnsolicitedPaymentComponent_div_1_p_46_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.isResponsibleOfficeEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.responsibleOfficeHasError);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, MarkUnsolicitedPaymentComponent_div_1_ccpay_error_banner_1_Template, 1, 1, \"ccpay-error-banner\", 2);\n    i0.ɵɵelementStart(2, \"h1\", 3);\n    i0.ɵɵtext(3, \"Mark payment as transferred\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelement(5, \"hr\", 5);\n    i0.ɵɵelementStart(6, \"table\", 6)(7, \"thead\", 7)(8, \"tr\", 8)(9, \"td\", 9);\n    i0.ɵɵtext(10, \"Payment asset number (DCN)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 9);\n    i0.ɵɵtext(12, \"Banked date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 9);\n    i0.ɵɵtext(14, \"Amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 9);\n    i0.ɵɵtext(16, \"Method\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\", 10)(18, \"tr\", 8)(19, \"td\", 11);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 11);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 11);\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\", 12);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"lowercase\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(30, \"form\", 13);\n    i0.ɵɵelement(31, \"input\", 14, 15);\n    i0.ɵɵelementStart(33, \"div\", 16)(34, \"label\", 17);\n    i0.ɵɵtext(35, \" Reason for payment being marked as transferred \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"textarea\", 18);\n    i0.ɵɵtext(37, \"        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, MarkUnsolicitedPaymentComponent_div_1_p_38_Template, 5, 4, \"p\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 16)(40, \"label\", 20);\n    i0.ɵɵtext(41, \" Receiving Site ID (Receiving court/Bulk centre site ID) \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"select\", 21);\n    i0.ɵɵlistener(\"change\", function MarkUnsolicitedPaymentComponent_div_1_Template_select_change_42_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.selectchange($event));\n    });\n    i0.ɵɵelementStart(43, \"option\", 22);\n    i0.ɵɵtext(44, \"Please select\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(45, MarkUnsolicitedPaymentComponent_div_1_option_45_Template, 2, 3, \"option\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(46, MarkUnsolicitedPaymentComponent_div_1_p_46_Template, 3, 2, \"p\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"div\", 24)(48, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_div_1_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.saveAndContinue());\n    });\n    i0.ɵɵtext(49, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_div_1_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.cancelMarkUnsolicitedPayments(\"cancel\"));\n    });\n    i0.ɵɵtext(51, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage.showError);\n    i0.ɵɵadvance(19);\n    i0.ɵɵtextInterpolate(ctx_r0.unassignedRecord.dcn_reference);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(23, 11, ctx_r0.unassignedRecord.date_banked, \"dd MMM yyyy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(26, 14, ctx_r0.unassignedRecord.amount, \"GBP\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(29, 19, ctx_r0.trimUnderscore(ctx_r0.unassignedRecord.payment_method)), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.markPaymentUnsolicitedForm);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, ctx_r0.reasonHasError || ctx_r0.reasonMinHasError || ctx_r0.reasonMaxHasError));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isReasonEmpty || ctx_r0.reasonHasError || ctx_r0.reasonMinHasError || ctx_r0.reasonMaxHasError);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.siteIDList);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isResponsibleOfficeEmpty || ctx_r0.responsibleOfficeHasError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isContinueButtondisabled);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_ng_container_2_ccpay_error_banner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-error-banner\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"errorMessage\", ctx_r19.errorMessage);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MarkUnsolicitedPaymentComponent_ng_container_2_ccpay_error_banner_1_Template, 1, 1, \"ccpay-error-banner\", 2);\n    i0.ɵɵelementStart(2, \"div\", 30)(3, \"span\", 31);\n    i0.ɵɵtext(4, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"strong\", 32)(6, \"span\", 33);\n    i0.ɵɵtext(7, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h1\", 34);\n    i0.ɵɵtext(9, \" Are you sure you want to mark this payment as transferred? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(10, \"input\", 35, 15);\n    i0.ɵɵelementStart(12, \"div\", 4);\n    i0.ɵɵelement(13, \"hr\", 5);\n    i0.ɵɵelementStart(14, \"table\", 6)(15, \"thead\", 7)(16, \"tr\", 8)(17, \"td\", 9);\n    i0.ɵɵtext(18, \"Reason\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\", 9);\n    i0.ɵɵtext(20, \"Receiving site ID\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"tbody\", 10)(22, \"tr\", 8)(23, \"td\", 11);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\", 11);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(27, \"div\", 24)(28, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_ng_container_2_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.confirmPayments());\n    });\n    i0.ɵɵtext(29, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_ng_container_2_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.cancelMarkUnsolicitedPayments());\n    });\n    i0.ɵɵtext(31, \" Cancel \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errorMessage.showError);\n    i0.ɵɵadvance(23);\n    i0.ɵɵtextInterpolate(ctx_r1.reason);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedSiteName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isConfirmButtondisabled);\n  }\n}\nfunction MarkUnsolicitedPaymentComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 36, 15);\n    i0.ɵɵelementStart(3, \"div\", 30)(4, \"span\", 31);\n    i0.ɵɵtext(5, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"strong\", 32)(7, \"span\", 33);\n    i0.ɵɵtext(8, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Are you sure you want to cancel? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 24)(11, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_ng_container_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(12, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function MarkUnsolicitedPaymentComponent_ng_container_3_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.cancelMarkUnsolicitedPayments());\n    });\n    i0.ɵɵtext(14, \" No \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"input\", 12);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_ng_container_1_div_11_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const orderRef_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.OrderListSelectEvent(orderRef_r4.orderRefId));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const orderRef_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", orderRef_r4.orderTotalFees);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind4(4, 3, orderRef_r4.orderTotalFees, \"GBP\", \"symbol\", \"1.2-2\"), \"(\", orderRef_r4.orderStatus, \")\");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 2)(2, \"ol\", 3)(3, \"li\", 4)(4, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_ng_container_1_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(5, \"Back\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"h1\", 7);\n    i0.ɵɵtext(8, \"Select payment request\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, AllocatePaymentsComponent_ng_container_1_div_11_Template, 5, 8, \"div\", 9);\n    i0.ɵɵelementStart(12, \"div\", 6)(13, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_ng_container_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.redirectToOrderFeeSearchPage());\n    });\n    i0.ɵɵtext(14, \" Continue \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\"Case reference: \", ctx_r0.ccdReference, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.orderLevelFees);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isContinueButtondisabled);\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"ol\", 3)(2, \"li\", 4)(3, \"a\", 24);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_div_2_div_3_Template_a_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.gotoSummaryPage($event));\n    });\n    i0.ɵɵtext(4, \"Back\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_10_tr_20_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 41)(1, \"div\", 42)(2, \"input\", 43);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_div_2_div_10_tr_20_td_1_Template_input_click_2_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const paymentGroup_r16 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.selectedPaymentGroup(paymentGroup_r16));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"label\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const i_r20 = i0.ɵɵnextContext().index;\n    const paymentGroup_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵattribute(\"rowspan\", paymentGroup_r16.fees.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"unpaiedFee-\", i_r20, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"for\", \"unpaiedFee-\", i_r20, \"\");\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_10_tr_20_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentGroup_r16 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"rowspan\", paymentGroup_r16.fees.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 2, ctx_r22.getGroupOutstandingAmount(paymentGroup_r16), \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_10_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 29);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_div_2_div_10_tr_20_td_1_Template, 4, 3, \"td\", 34);\n    i0.ɵɵelementStart(2, \"td\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 36);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 37);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 38);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 39);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, AllocatePaymentsComponent_div_2_div_10_tr_20_td_14_Template, 3, 7, \"td\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r19 = ctx.$implicit;\n    const i_r20 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r20 == 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fee_r19.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r19.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r19.volume ? fee_r19.volume : \"-\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(10, 7, fee_r19.fee_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(13, 12, fee_r19.calculated_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i_r20 == 0);\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_10_tbody_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 31)(1, \"td\", 46);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AllocatePaymentsComponent_div_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"h3\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 27)(4, \"thead\", 28)(5, \"tr\", 29);\n    i0.ɵɵelement(6, \"td\", 30);\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtext(8, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 30);\n    i0.ɵɵtext(10, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 30);\n    i0.ɵɵtext(12, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 30);\n    i0.ɵɵtext(16, \"Calculated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 30);\n    i0.ɵɵtext(18, \"Group amount outstanding\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\", 31);\n    i0.ɵɵtemplate(20, AllocatePaymentsComponent_div_2_div_10_tr_20_Template, 15, 17, \"tr\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, AllocatePaymentsComponent_div_2_div_10_tbody_21_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const paymentGroup_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Group reference: \", paymentGroup_r16.payment_group_reference, \"\");\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", paymentGroup_r16.fees);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", paymentGroup_r16.fees.length == 0);\n  }\n}\nfunction AllocatePaymentsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"input\", 14, 15);\n    i0.ɵɵtemplate(3, AllocatePaymentsComponent_div_2_div_3_Template, 5, 0, \"div\", 16);\n    i0.ɵɵelementStart(4, \"div\", 17)(5, \"h1\", 18);\n    i0.ɵɵtext(6, \"Allocate payment to fee group\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h2\", 19);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, AllocatePaymentsComponent_div_2_div_10_Template, 22, 3, \"div\", 20);\n    i0.ɵɵelementStart(11, \"div\", 21)(12, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_div_2_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.saveAndContinue());\n    });\n    i0.ɵɵtext(13, \" Continue \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_div_2_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.gotoCasetransationPage());\n    });\n    i0.ɵɵtext(15, \" Cancel \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.paymentRef);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Amount left to be allocated: \", i0.ɵɵpipeBind4(9, 4, ctx_r1.unAllocatedPayment.amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.paymentGroups);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.isContinueButtondisabled);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_ccpay_error_banner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-error-banner\", 61);\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"errorMessage\", ctx_r32.errorMessage);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_9_h3_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r38 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Group reference: \", ctx_r38.paymentGroup.payment_group_reference, \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_9_tr_18_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 65);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r43 = i0.ɵɵnextContext(4);\n    i0.ɵɵattribute(\"rowspan\", ctx_r43.paymentGroup.fees.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(2, 2, ctx_r43.afterFeeAllocateOutstanding, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_9_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 29)(1, \"td\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 36);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 37);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 38);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 39);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AllocatePaymentsComponent_ng_container_3_div_9_tr_18_td_13_Template, 3, 7, \"td\", 64);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r41 = ctx.$implicit;\n    const i_r42 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fee_r41.code);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r41.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", fee_r41.volume ? fee_r41.volume : \"-\", \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(9, 6, fee_r41.fee_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(12, 11, fee_r41.calculated_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i_r42 == 0);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_9_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 31)(1, \"td\", 46);\n    i0.ɵɵtext(2, \"No payments recorded\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_div_9_h3_1_Template, 2, 1, \"h3\", 62);\n    i0.ɵɵelementStart(2, \"table\", 27)(3, \"thead\", 28)(4, \"tr\", 29)(5, \"td\", 30);\n    i0.ɵɵtext(6, \"Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 30);\n    i0.ɵɵtext(8, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 30);\n    i0.ɵɵtext(10, \"Volume\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 30);\n    i0.ɵɵtext(12, \"Fee amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 30);\n    i0.ɵɵtext(14, \"Calculated amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 30);\n    i0.ɵɵtext(16, \"Amount Due\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\", 31);\n    i0.ɵɵtemplate(18, AllocatePaymentsComponent_ng_container_3_div_9_tr_18_Template, 14, 16, \"tr\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, AllocatePaymentsComponent_ng_container_3_div_9_tbody_19_Template, 3, 0, \"tbody\", 33);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.isTurnOff);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r34.paymentGroup.fees);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.paymentGroup.fees.length == 0);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 66)(1, \"span\", 67);\n    i0.ɵɵtext(2, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"strong\", 68)(4, \"span\", 69);\n    i0.ɵɵtext(5, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r35 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r35.paymentSectionLabel.title, \" \", i0.ɵɵpipeBind4(7, 2, ctx_r35.remainingAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"input\", 76);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocatePaymentsComponent_ng_container_3_div_11_div_5_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r51);\n      const ctx_r50 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r50.paymentReason = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reason_r49 = ctx.$implicit;\n    const ctx_r48 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", reason_r49.key);\n    i0.ɵɵpropertyInterpolate(\"value\", reason_r49.value);\n    i0.ɵɵproperty(\"ngModel\", ctx_r48.paymentReason);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", reason_r49.value, \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_div_11_div_5_div_1_Template, 4, 4, \"div\", 74);\n    i0.ɵɵpipe(2, \"keyValue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r44.paymentReasonHasError ? \"govuk-radios govuk-radios--conditional form-group-error\" : \"govuk-radios govuk-radios--conditional\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r44.reasonList.overPayment));\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"input\", 76);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocatePaymentsComponent_ng_container_3_div_11_div_6_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r55);\n      const ctx_r54 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r54.paymentReason = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reason_r53 = ctx.$implicit;\n    const ctx_r52 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", reason_r53.key);\n    i0.ɵɵpropertyInterpolate(\"value\", reason_r53.value);\n    i0.ɵɵproperty(\"ngModel\", ctx_r52.paymentReason);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", reason_r53.value, \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_div_11_div_6_div_1_Template, 4, 4, \"div\", 74);\n    i0.ɵɵpipe(2, \"keyValue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r45 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r45.paymentReasonHasError ? \"govuk-radios govuk-radios--conditional form-group-error\" : \"govuk-radios govuk-radios--conditional\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r45.reasonList.shortFall));\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"input\", 78);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocatePaymentsComponent_ng_container_3_div_11_div_11_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r58.paymentExplanation = $event);\n    })(\"click\", function AllocatePaymentsComponent_ng_container_3_div_11_div_11_div_1_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r59);\n      const explanation_r57 = restoredCtx.$implicit;\n      const ctx_r60 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r60.selectRadioButton(explanation_r57.key, \"explanation\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const explanation_r57 = ctx.$implicit;\n    const ctx_r56 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", explanation_r57.key);\n    i0.ɵɵpropertyInterpolate(\"value\", explanation_r57.value);\n    i0.ɵɵproperty(\"ngModel\", ctx_r56.paymentExplanation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", explanation_r57.value, \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_div_11_div_11_div_1_Template, 4, 4, \"div\", 74);\n    i0.ɵɵpipe(2, \"keyValue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r46.paymentExplanationHasError ? \"govuk-radios govuk-radios--conditional form-group-error\" : \"govuk-radios govuk-radios--conditional\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r46.explanationList.overPayment));\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r64 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 75)(1, \"input\", 78);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocatePaymentsComponent_ng_container_3_div_11_div_12_div_1_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r64);\n      const ctx_r63 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r63.paymentExplanation = $event);\n    })(\"click\", function AllocatePaymentsComponent_ng_container_3_div_11_div_12_div_1_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r64);\n      const explanation_r62 = restoredCtx.$implicit;\n      const ctx_r65 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r65.selectRadioButton(explanation_r62.key, \"explanation\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 77);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const explanation_r62 = ctx.$implicit;\n    const ctx_r61 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", explanation_r62.key);\n    i0.ɵɵpropertyInterpolate(\"value\", explanation_r62.value);\n    i0.ɵɵproperty(\"ngModel\", ctx_r61.paymentExplanation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", explanation_r62.value, \" \");\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_div_11_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 73);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_div_11_div_12_div_1_Template, 4, 4, \"div\", 74);\n    i0.ɵɵpipe(2, \"keyValue\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r47 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r47.paymentExplanationHasError ? \"govuk-radios govuk-radios--conditional form-group-error\" : \"govuk-radios govuk-radios--conditional\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx_r47.explanationList.shortFall));\n  }\n}\nconst _c6 = function (a0) {\n  return {\n    \"inline-error-message\": a0\n  };\n};\nfunction AllocatePaymentsComponent_ng_container_3_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 55)(1, \"div\", 55)(2, \"fieldset\", 70)(3, \"span\", 71);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AllocatePaymentsComponent_ng_container_3_div_11_div_5_Template, 3, 4, \"div\", 72);\n    i0.ɵɵtemplate(6, AllocatePaymentsComponent_ng_container_3_div_11_div_6_Template, 3, 4, \"div\", 72);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 55)(8, \"fieldset\", 70)(9, \"span\", 71);\n    i0.ɵɵtext(10, \" Provide an explanatory note \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, AllocatePaymentsComponent_ng_container_3_div_11_div_11_Template, 3, 4, \"div\", 72);\n    i0.ɵɵtemplate(12, AllocatePaymentsComponent_ng_container_3_div_11_div_12_Template, 3, 4, \"div\", 72);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r36 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c6, ctx_r36.paymentReasonHasError));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r36.paymentSectionLabel.reason, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r36.isRemainingAmountGtZero);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r36.isRemainingAmountLtZero);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c6, ctx_r36.paymentExplanationHasError));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r36.isRemainingAmountGtZero);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r36.isRemainingAmountLtZero);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_p_19_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a explanation\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_p_19_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Enter a valid explanation\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_p_19_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Explanation should be at least 3 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_p_19_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Explanation should be 255 characters or under.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 79);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_p_19_span_1_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(2, AllocatePaymentsComponent_ng_container_3_p_19_span_2_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(3, AllocatePaymentsComponent_ng_container_3_p_19_span_3_Template, 2, 0, \"span\", 1);\n    i0.ɵɵtemplate(4, AllocatePaymentsComponent_ng_container_3_p_19_span_4_Template, 2, 0, \"span\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r37 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r37.isPaymentDetailsEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r37.isPaymentDetailsInvalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r37.paymentDetailsMinHasError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r37.paymentDetailsMaxHasError);\n  }\n}\nfunction AllocatePaymentsComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r71 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_3_ccpay_error_banner_1_Template, 1, 1, \"ccpay-error-banner\", 47);\n    i0.ɵɵelement(2, \"input\", 48, 15);\n    i0.ɵɵelementStart(4, \"h1\", 18);\n    i0.ɵɵtext(5, \"Confirm allocation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h2\", 49);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AllocatePaymentsComponent_ng_container_3_div_9_Template, 20, 3, \"div\", 50);\n    i0.ɵɵtemplate(10, AllocatePaymentsComponent_ng_container_3_div_10_Template, 8, 7, \"div\", 51);\n    i0.ɵɵtemplate(11, AllocatePaymentsComponent_ng_container_3_div_11_Template, 13, 11, \"div\", 52);\n    i0.ɵɵelementStart(12, \"form\", 53)(13, \"div\", 54)(14, \"div\", 55)(15, \"span\", 56);\n    i0.ɵɵtext(16, \" Please enter details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"textarea\", 57);\n    i0.ɵɵtext(18, \"          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, AllocatePaymentsComponent_ng_container_3_p_19_Template, 5, 4, \"p\", 58);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 59)(21, \"button\", 60);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_ng_container_3_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r70 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r70.confirmAllocatePayement());\n    });\n    i0.ɵɵtext(22, \" Confirm \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AllocatePaymentsComponent_ng_container_3_Template_button_click_23_listener($event) {\n      i0.ɵɵrestoreView(_r71);\n      const ctx_r72 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r72.cancelAllocatePayment($event));\n    });\n    i0.ɵɵtext(24, \" Cancel \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.errorMessage.showError);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.feedbackUrlLabel);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" Amount to be allocated: \", i0.ɵɵpipeBind4(8, 12, ctx_r2.amountForAllocation, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.paymentGroup);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isRemainingAmountGtZero || ctx_r2.isRemainingAmountLtZero || ctx_r2.remainingAmount === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isRemainingAmountGtZero || ctx_r2.isRemainingAmountLtZero);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.overUnderPaymentForm);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.isMoreDetailsBoxHide ? \"govuk-radios__conditional govuk-radios__conditional--hidden\" : ctx_r2.isPaymentDetailsEmpty || ctx_r2.isPaymentDetailsInvalid || ctx_r2.paymentDetailsMinHasError || ctx_r2.paymentDetailsMaxHasError ? \"govuk-radios__conditional inline-error-border\" : \"govuk-radios__conditional\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ctx_r2.isPaymentDetailsEmpty || ctx_r2.isPaymentDetailsInvalid || ctx_r2.paymentDetailsMinHasError || ctx_r2.paymentDetailsMaxHasError));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isPaymentDetailsEmpty || ctx_r2.isPaymentDetailsInvalid || ctx_r2.paymentDetailsMinHasError || ctx_r2.paymentDetailsMaxHasError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.isConfirmButtondisabled)(\"ngClass\", ctx_r2.isConfirmButtondisabled ? \"button button--disabled\" : \"button\");\n  }\n}\nfunction FeeSummaryComponent_div_0_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 8)(1, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_0_li_2_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.loadCaseTransactionPage());\n    });\n    i0.ɵɵtext(2, \"Back\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FeeSummaryComponent_div_0_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 8)(1, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_0_li_3_Template_a_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.redirectToFeeSearchPage($event, \"summary\"));\n    });\n    i0.ɵɵtext(2, \"Back\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FeeSummaryComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"ol\", 6);\n    i0.ɵɵtemplate(2, FeeSummaryComponent_div_0_li_2_Template, 3, 0, \"li\", 7);\n    i0.ɵɵtemplate(3, FeeSummaryComponent_div_0_li_3_Template, 3, 0, \"li\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isTurnOff);\n  }\n}\nfunction FeeSummaryComponent_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 26)(2, \"h2\", 27);\n    i0.ɵɵtext(3, \" Payment Group details could not be retrieved \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r12.errorMessage, \" \");\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_3_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 47);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_3_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const fee_r20 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r31.confirmRemoveFee(fee_r20.id));\n    });\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵtext(2, \"Remove\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"ngClass\", ctx_r30.isPaymentExist || fee_r20.remissions ? \"disable-link\" : \"\");\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 45);\n    i0.ɵɵtemplate(1, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_3_a_1_Template, 3, 1, \"a\", 46);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r22.isPaymentExist || !fee_r20.remissions);\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 45)(1, \"a\", 48);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_4_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const fee_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r36 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r36.confirmRemoveFee(fee_r20.id));\n    });\n    i0.ɵɵtext(2, \"Remove\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_5_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r41);\n      const fee_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r39.addRemission(fee_r20));\n    });\n    i0.ɵɵtext(1, \" Add help with fees or remission \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 49);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_6_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const fee_r20 = i0.ɵɵnextContext().$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r42.addRemission(fee_r20));\n    });\n    i0.ɵɵtext(1, \" Add help with fees or remission \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r45 = i0.ɵɵnextContext(4);\n    let tmp_0_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Remission,\", (tmp_0_0 = ctx_r45.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_0_0.hwf_reference, \"\");\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵtemplate(2, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_7_div_2_Template, 2, 1, \"div\", 44);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r26 = i0.ɵɵnextContext(4);\n    let tmp_0_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = ctx_r26.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_0_0.hwf_amount) > 0);\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_td_8_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"div\", 50);\n    i0.ɵɵtext(3, \"1\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_td_8_span_2_Template, 4, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r27 = i0.ɵɵnextContext(4);\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", fee_r20.volume, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx_r27.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_1_0.hwf_amount) > 0);\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵelement(1, \"br\")(2, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"br\");\n    i0.ɵɵelementStart(2, \"div\", 51);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r20 = i0.ɵɵnextContext().$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(4);\n    let tmp_0_0;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" -\", ((tmp_0_0 = ctx_r29.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_0_0.hwf_amount) ? i0.ɵɵpipeBind4(4, 1, (tmp_0_0 = ctx_r29.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_0_0.hwf_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\") : \"-\", \" \");\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 31)(1, \"td\", 39);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_3_Template, 2, 1, \"span\", 40);\n    i0.ɵɵtemplate(4, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_4_Template, 3, 0, \"span\", 40);\n    i0.ɵɵtemplate(5, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_5_Template, 2, 0, \"a\", 41);\n    i0.ɵɵtemplate(6, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_a_6_Template, 2, 0, \"a\", 41);\n    i0.ɵɵtemplate(7, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_7_Template, 3, 1, \"span\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_td_8_Template, 3, 2, \"td\", 42);\n    i0.ɵɵelementStart(9, \"td\", 43);\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵtemplate(11, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_div_11_Template, 3, 0, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 43);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵtemplate(15, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_span_15_Template, 5, 6, \"span\", 2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fee_r20 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(4);\n    let tmp_1_0;\n    let tmp_2_0;\n    let tmp_3_0;\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_7_0;\n    let tmp_9_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", fee_r20.description, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r19.isPaymentExist || ((tmp_1_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_1_0.hwf_amount) === 0 || !((tmp_1_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_1_0.hwf_amount)) && !ctx_r19.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (!ctx_r19.isPaymentExist || ((tmp_2_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_2_0.hwf_amount) === 0 || !((tmp_2_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_2_0.hwf_amount)) && ctx_r19.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (((tmp_3_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_3_0.hwf_amount) === 0 || !((tmp_3_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_3_0.hwf_amount)) && !ctx_r19.isPaymentExist && !ctx_r19.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (((tmp_4_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_4_0.hwf_amount) === 0 || !((tmp_4_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_4_0.hwf_amount)) && ctx_r19.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_5_0.hwf_amount) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", fee_r20.volume && fee_r20.volume > 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_7_0.hwf_amount) > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(14, 10, fee_r20.calculated_amount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx_r19.getRemissionByFeeCode(fee_r20.code)) == null ? null : tmp_9_0.hwf_amount) > 0);\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_tbody_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\", 37);\n    i0.ɵɵtemplate(1, FeeSummaryComponent_div_1_table_12_tbody_10_tr_1_Template, 16, 15, \"tr\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r18.paymentGroup.fees);\n  }\n}\nfunction FeeSummaryComponent_div_1_table_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 29)(1, \"thead\", 30)(2, \"tr\", 31)(3, \"th\", 32);\n    i0.ɵɵtext(4, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 33);\n    i0.ɵɵtext(6, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"th\", 34);\n    i0.ɵɵelementStart(8, \"th\", 35);\n    i0.ɵɵtext(9, \"Amount\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(10, FeeSummaryComponent_div_1_table_12_tbody_10_Template, 2, 1, \"tbody\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.paymentGroup.fees);\n  }\n}\nfunction FeeSummaryComponent_div_1_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 52);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_button_14_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r52);\n      const ctx_r51 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r51.redirectToFeeSearchPage($event, \"summary\"));\n    });\n    i0.ɵɵtext(1, \" Add fee \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r14.isPaymentExist)(\"ngClass\", ctx_r14.isPaymentExist ? \"govuk-button govuk-button--secondary button--disabled\" : \"govuk-button govuk-button--secondary\");\n  }\n}\nfunction FeeSummaryComponent_div_1_a_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 53);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_a_15_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r53.redirectToFeeSearchPage($event, \"summary\"));\n    });\n    i0.ɵɵtext(1, \"Add a new fee\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r55.takePayment());\n    });\n    i0.ɵɵtext(1, \" Take payment \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r16.totalFee <= 0 || ctx_r16.isConfirmationBtnDisabled)(\"ngClass\", ctx_r16.totalFee <= 0 || !ctx_r16.platForm || !ctx_r16.service || ctx_r16.isConfirmationBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction FeeSummaryComponent_div_1_button_22_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Allocate payment \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_button_22_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Continue \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FeeSummaryComponent_div_1_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_div_1_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r60);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r59.goToAllocatePage(ctx_r59.outStandingAmount, ctx_r59.isFeeAmountZero));\n    });\n    i0.ɵɵtemplate(1, FeeSummaryComponent_div_1_button_22_span_1_Template, 2, 0, \"span\", 2);\n    i0.ɵɵtemplate(2, FeeSummaryComponent_div_1_button_22_span_2_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.outStandingAmount > 0 || ctx_r17.isFeeAmountZero && ctx_r17.outStandingAmount === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.outStandingAmount < 0 || !ctx_r17.isFeeAmountZero && ctx_r17.outStandingAmount === 0);\n  }\n}\nfunction FeeSummaryComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"main\", 11);\n    i0.ɵɵelement(2, \"input\", 12, 13);\n    i0.ɵɵelementStart(4, \"div\", 14)(5, \"h1\", 15);\n    i0.ɵɵtext(6, \"Summary \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 16);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"ccdHyphens\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, FeeSummaryComponent_div_1_div_10_Template, 6, 1, \"div\", 2);\n    i0.ɵɵelementStart(11, \"div\", 17);\n    i0.ɵɵtemplate(12, FeeSummaryComponent_div_1_table_12_Template, 11, 1, \"table\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 19);\n    i0.ɵɵtemplate(14, FeeSummaryComponent_div_1_button_14_Template, 2, 2, \"button\", 20);\n    i0.ɵɵtemplate(15, FeeSummaryComponent_div_1_a_15_Template, 2, 0, \"a\", 21);\n    i0.ɵɵelementStart(16, \"div\", 22)(17, \"p\", 23);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"currency\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\");\n    i0.ɵɵtemplate(21, FeeSummaryComponent_div_1_button_21_Template, 2, 2, \"button\", 24);\n    i0.ɵɵtemplate(22, FeeSummaryComponent_div_1_button_22_Template, 3, 2, \"button\", 25);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Case reference:\", i0.ɵɵpipeBind1(9, 8, ctx_r1.ccdCaseNumber), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errorMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.errorMessage && ctx_r1.paymentGroup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isTurnOff);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isTurnOff);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total to pay: \", i0.ɵɵpipeBind4(19, 10, ctx_r1.outStandingAmount, \"GBP\", \"symbol-narrow\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.bsPaymentDcnNumber);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.bsPaymentDcnNumber);\n  }\n}\nfunction FeeSummaryComponent_ng_container_2_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r64 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 65);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_ng_container_2_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r64);\n      const ctx_r63 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r63.removeFee(ctx_r63.currentFee));\n    });\n    i0.ɵɵtext(1, \" Remove \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r62.isRemoveBtnDisabled ? \"button button--disabled govuk-!-margin-right-1\" : \"button govuk-!-margin-right-1\");\n  }\n}\nfunction FeeSummaryComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 56, 13);\n    i0.ɵɵelementStart(3, \"div\", 57)(4, \"span\", 58);\n    i0.ɵɵtext(5, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"strong\", 59)(7, \"span\", 60);\n    i0.ɵɵtext(8, \"Warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" Are you sure you want to delete this fee? \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 61)(11, \"form\", 62)(12, \"button\", 63);\n    i0.ɵɵlistener(\"click\", function FeeSummaryComponent_ng_container_2_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r65 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r65.cancelRemission());\n    });\n    i0.ɵɵtext(13, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, FeeSummaryComponent_ng_container_2_button_14_Template, 2, 1, \"button\", 64);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isRemoveBtnDisabled);\n  }\n}\nfunction FeeSummaryComponent_ccpay_add_remission_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r68 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ccpay-add-remission\", 66);\n    i0.ɵɵlistener(\"cancelRemission\", function FeeSummaryComponent_ccpay_add_remission_3_Template_ccpay_add_remission_cancelRemission_0_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const ctx_r67 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r67.cancelRemission());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r3.isTurnOff)(\"isStrategicFixEnable\", ctx_r3.isStrategicFixEnable)(\"fee\", ctx_r3.currentFee)(\"caseType\", ctx_r3.caseType)(\"ccdCaseNumber\", ctx_r3.ccdCaseNumber)(\"paymentGroupRef\", ctx_r3.paymentGroupRef);\n  }\n}\nfunction FeeSummaryComponent_input_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 67, 13);\n  }\n}\nfunction ReportsComponent_ccpay_error_banner_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-error-banner\", 29);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"errorMessage\", ctx_r1.errorMessage);\n  }\n}\nfunction ReportsComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"input\", 30);\n    i0.ɵɵlistener(\"click\", function ReportsComponent_div_34_Template_input_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.validateDates(\"PAYMENT_FAILURE_EVENT\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 31);\n    i0.ɵɵtext(3, \"Payment failure event\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 12);\n    i0.ɵɵtext(5, \"Failed payment transaction details\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ReportsComponent_p_44_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Please select 'Date From' less than or equal to 'Date To'\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_p_44_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Please select the date range between 7 days\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_p_44_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Please select the date range between 30 days\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_p_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 32);\n    i0.ɵɵtemplate(1, ReportsComponent_p_44_span_1_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(2, ReportsComponent_p_44_span_2_Template, 2, 0, \"span\", 33);\n    i0.ɵɵtemplate(3, ReportsComponent_p_44_span_3_Template, 2, 0, \"span\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isStartDateLesthanEndDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isDateRangeBetnWeek);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isDateBetwnMonth);\n  }\n}\nfunction PaymentLibComponent_ccpay_refund_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-refund-list\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"USERID\", ctx_r0.USERID)(\"LOGGEDINUSERROLES\", ctx_r0.LOGGEDINUSERROLES)(\"LOGGEDINUSEREMAIL\", ctx_r0.LOGGEDINUSEREMAIL);\n  }\n}\nfunction PaymentLibComponent_ccpay_payment_list_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-payment-list\");\n  }\n}\nfunction PaymentLibComponent_ccpay_refund_status_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-refund-status\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"LOGGEDINUSERROLES\", ctx_r2.LOGGEDINUSERROLES)(\"API_ROOT\", ctx_r2.API_ROOT);\n  }\n}\nfunction PaymentLibComponent_ccpay_payment_view_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-payment-view\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"LOGGEDINUSERROLES\", ctx_r3.LOGGEDINUSERROLES)(\"isTurnOff\", ctx_r3.ISTURNOFF)(\"isTakePayment\", ctx_r3.TAKEPAYMENT)(\"caseType\", ctx_r3.CASETYPE)(\"ISPAYMENTSTATUSENABLED\", ctx_r3.ISPAYMENTSTATUSENABLED);\n  }\n}\nfunction PaymentLibComponent_ccpay_process_refund_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-process-refund\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"refundReference\", ctx_r4.refundReference)(\"refundlistsource\", ctx_r4.refundlistsource);\n  }\n}\nfunction PaymentLibComponent_ccpay_pba_payment_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-pba-payment\", 15);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pbaPayOrderRef\", ctx_r5.pbaPayOrderRef);\n  }\n}\nfunction PaymentLibComponent_ccpay_case_transactions_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-case-transactions\", 16);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTakePayment\", ctx_r6.isTakePayment)(\"isFromServiceRequestPage\", ctx_r6.isFromServiceRequestPage)(\"LOGGEDINUSERROLES\", ctx_r6.LOGGEDINUSERROLES);\n  }\n}\nfunction PaymentLibComponent_app_mark_unidentified_payment_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mark-unidentified-payment\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"caseType\", ctx_r7.CASETYPE);\n  }\n}\nfunction PaymentLibComponent_app_mark_unsolicited_payment_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-mark-unsolicited-payment\", 17);\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"caseType\", ctx_r8.CASETYPE);\n  }\n}\nfunction PaymentLibComponent_app_allocate_payments_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-allocate-payments\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isTurnOff\", ctx_r9.ISTURNOFF)(\"caseType\", ctx_r9.CASETYPE);\n  }\n}\nfunction PaymentLibComponent_ccpay_fee_summary_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-fee-summary\", 19);\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ccdCaseNumber\", ctx_r10.CCD_CASE_NUMBER)(\"paymentGroupRef\", ctx_r10.paymentGroupReference)(\"isTurnOff\", ctx_r10.ISTURNOFF)(\"caseType\", ctx_r10.CASETYPE);\n  }\n}\nfunction PaymentLibComponent_ccpay_reports_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ccpay-reports\", 20);\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ISPAYMENTSTATUSENABLED\", ctx_r11.ISPAYMENTSTATUSENABLED);\n  }\n}\nfunction CardDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \" Payment method unavailable, The payment has either expired or unsuccessful.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CardDetailsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\")(2, \"tbody\")(3, \"tr\")(4, \"td\", 5);\n    i0.ɵɵtext(5, \"Method\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"Card\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"tr\")(9, \"td\", 5);\n    i0.ɵɵtext(10, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate(ctx_r1.cardDetails.card_brand);\n  }\n}\nfunction PbaDetailsComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 1);\n    i0.ɵɵtext(2, \"PBA account name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.payment.organisation_name);\n  }\n}\nfunction PbaDetailsComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 1);\n    i0.ɵɵtext(2, \"PBA number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.payment.account_number);\n  }\n}\nfunction PbaDetailsComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 1);\n    i0.ɵɵtext(2, \"Customer internal reference\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.payment.customer_reference);\n  }\n}\nfunction ProcessedPaymentsComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 4)(1, \"td\", 9)(2, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function ProcessedPaymentsComponent_tr_17_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const processedRecord_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.redirectToPaymentViewPage(processedRecord_r2.paymentGroupReference, processedRecord_r2.reference, processedRecord_r2.method));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"lowercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 11);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const processedRecord_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(processedRecord_r2.document_control_number);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 5, processedRecord_r2.banked_date, \"dd MMM yyyy\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(9, 8, processedRecord_r2.amount, \"GBP\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 13, ctx_r0.trimUnderscore(processedRecord_r2.method)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", processedRecord_r2.payment_allocation[0] ? processedRecord_r2.payment_allocation[0].allocation_status : \"-\", \" \");\n  }\n}\nfunction ProcessedPaymentsComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 4)(1, \"td\", 12);\n    i0.ɵɵtext(2, \" No processed payments \");\n    i0.ɵɵelementEnd()();\n  }\n}\nlet PaymentLibService = /*#__PURE__*/(() => {\n  class PaymentLibService {\n    API_ROOT;\n    BULKSCAN_API_ROOT;\n    REFUNDS_API_ROOT;\n    NOTIFICATION_API_ROOT;\n    CARDPAYMENTRETURNURL;\n    constructor() {}\n    setApiRootUrl(apiRoot) {\n      this.API_ROOT = apiRoot;\n    }\n    getApiRootUrl() {\n      return this.API_ROOT;\n    }\n    setBulkScanApiRootUrl(bulkscanapiRoot) {\n      this.BULKSCAN_API_ROOT = bulkscanapiRoot;\n    }\n    getBulkScanApiRootUrl() {\n      return this.BULKSCAN_API_ROOT;\n    }\n    setRefundndsApiRootUrl(refundsapiRoot) {\n      this.REFUNDS_API_ROOT = refundsapiRoot;\n    }\n    getRefundsApiRootUrl() {\n      return this.REFUNDS_API_ROOT;\n    }\n    setNoticationApiRootUrl(notificationapiRoot) {\n      this.NOTIFICATION_API_ROOT = notificationapiRoot;\n    }\n    getNoticationApiRootUrl() {\n      return this.NOTIFICATION_API_ROOT;\n    }\n    setCardPaymentReturnUrl(cardPaymentReturnUrl) {\n      this.CARDPAYMENTRETURNURL = cardPaymentReturnUrl;\n    }\n    getCardPaymentReturnUrl() {\n      return this.CARDPAYMENTRETURNURL;\n    }\n    static ɵfac = function PaymentLibService_Factory(t) {\n      return new (t || PaymentLibService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: PaymentLibService,\n      factory: PaymentLibService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return PaymentLibService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrderslistService = /*#__PURE__*/(() => {\n  class OrderslistService {\n    ordersList = new BehaviorSubject(null);\n    refundView = new BehaviorSubject(null);\n    caseType = new BehaviorSubject(\"\");\n    getcaseType = this.caseType.asObservable();\n    feeExists = new BehaviorSubject(null);\n    getFeeExist = this.feeExists.asObservable();\n    ccdCaseNumber = new BehaviorSubject(\"\");\n    getCCDCaseNumberforRefund = this.ccdCaseNumber.asObservable();\n    isFromServiceRequestPage = new BehaviorSubject(null);\n    getisFromServiceRequestPage = this.isFromServiceRequestPage.asObservable();\n    OrderRefId = new BehaviorSubject(\"\");\n    getOrderRefId = this.OrderRefId.asObservable();\n    navigationPage = new BehaviorSubject(\"\");\n    getnavigationPage = this.navigationPage.asObservable();\n    orderRef = new BehaviorSubject(\"\");\n    getorderRef = this.orderRef.asObservable();\n    orderCCDEvent = new BehaviorSubject(\"\");\n    getorderCCDEvent = this.caseType.asObservable();\n    orderCreated = new BehaviorSubject(null);\n    getorderCreated = this.orderCreated.asObservable();\n    orderParty = new BehaviorSubject(\"\");\n    getorderParty = this.orderParty.asObservable();\n    orderRemissionTotal = new BehaviorSubject(null);\n    getorderRemissionTotal = this.orderRemissionTotal.asObservable();\n    orderFeesTotal = new BehaviorSubject(null);\n    getorderFeesTotal = this.orderFeesTotal.asObservable();\n    orderTotalPayments = new BehaviorSubject(null);\n    getorderTotalPayments = this.orderTotalPayments.asObservable();\n    rolesList = new BehaviorSubject(null);\n    orderDetail = new BehaviorSubject(null);\n    paymentPageView = new BehaviorSubject(null);\n    constructor() {}\n    setOrdersList(orderLevelFees) {\n      this.ordersList.next(Object.assign([], orderLevelFees));\n    }\n    getOrdersList() {\n      return this.ordersList;\n    }\n    setRefundView(refundList) {\n      this.refundView.next(Object.assign([], refundList));\n    }\n    getRefundView() {\n      return this.refundView;\n    }\n    setCaseType(caseType) {\n      this.caseType.next(caseType);\n    }\n    getCaseType() {\n      return this.caseType;\n    }\n    setCCDCaseNumber(ccdCaseNumber) {\n      this.ccdCaseNumber.next(ccdCaseNumber);\n    }\n    getCCDCaseNumber() {\n      return this.ccdCaseNumber;\n    }\n    setFeeExists(feeExists) {\n      this.feeExists.next(feeExists);\n    }\n    getFeeExists() {\n      return this.feeExists;\n    }\n    setisFromServiceRequestPage(isFromServiceRequestPage) {\n      this.isFromServiceRequestPage.next(isFromServiceRequestPage);\n    }\n    getisFromServiceRequestPages() {\n      return this.isFromServiceRequestPage;\n    }\n    setOrderRefId(OrderRefId) {\n      this.OrderRefId.next(OrderRefId);\n    }\n    getSelectedOrderRefId() {\n      return this.OrderRefId;\n    }\n    setnavigationPage(navigationPage) {\n      this.navigationPage.next(navigationPage);\n    }\n    getnavigationPageValue() {\n      return this.navigationPage;\n    }\n    setpaymentPageView(paymentpageList) {\n      this.paymentPageView.next(Object.assign([], paymentpageList));\n    }\n    getpaymentPageView() {\n      return this.paymentPageView;\n    }\n    setUserRolesList(rolesList) {\n      this.rolesList.next(Object.assign([], rolesList));\n    }\n    getUserRolesList() {\n      return this.rolesList;\n    }\n    setorderDetail(orderDetail) {\n      this.orderDetail.next(Object.assign([], orderDetail));\n    }\n    getorderDetail() {\n      return this.orderDetail;\n    }\n    setOrderRef(orderRef) {\n      this.orderRef.next(orderRef);\n    }\n    getorderRefs() {\n      return this.orderRef;\n    }\n    setorderCCDEvent(orderCCDEvent) {\n      this.orderCCDEvent.next(orderCCDEvent);\n    }\n    getorderCCDEvents() {\n      return this.orderCCDEvent;\n    }\n    setorderCreated(orderCreated) {\n      this.orderCreated.next(orderCreated);\n    }\n    getorderCreateds() {\n      return this.orderCreated;\n    }\n    setorderParty(orderParty) {\n      this.orderParty.next(orderParty);\n    }\n    getorderPartys() {\n      return this.orderParty;\n    }\n    setorderRemissionTotal(orderRemissionTotal) {\n      this.orderRemissionTotal.next(orderRemissionTotal);\n    }\n    getorderRemissionTotals() {\n      return this.orderRemissionTotal;\n    }\n    setorderFeesTotal(orderFeesTotal) {\n      this.orderFeesTotal.next(orderFeesTotal);\n    }\n    getorderFeesTotals() {\n      return this.orderFeesTotal;\n    }\n    setorderTotalPayments(orderTotalPayments) {\n      this.orderTotalPayments.next(orderTotalPayments);\n    }\n    getoorderTotalPaymentss() {\n      return this.orderTotalPayments;\n    }\n    static ɵfac = function OrderslistService_Factory(t) {\n      return new (t || OrderslistService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: OrderslistService,\n      factory: OrderslistService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return OrderslistService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet WebComponentHttpClient = /*#__PURE__*/(() => {\n  class WebComponentHttpClient {\n    http;\n    meta;\n    constructor(http, meta) {\n      this.http = http;\n      this.meta = meta;\n    }\n    post(url, body, options) {\n      const opts = this.addHeaders(options || {});\n      return this.http.post(url, body, opts);\n    }\n    put(url, body, options) {\n      const opts = this.addHeaders(options || {});\n      return this.http.put(url, body, opts);\n    }\n    get(url, options) {\n      const opts = this.addHeaders(options || {});\n      return this.http.get(url, opts);\n    }\n    delete(url, options) {\n      const opts = this.addHeaders(options || {});\n      return this.http.delete(url, opts);\n    }\n    patch(url, body, options) {\n      const opts = this.addHeaders(options || {});\n      return this.http.patch(url, body, opts);\n    }\n    addHeaders(options) {\n      const csrfToken = this.meta.getTag('name=csrf-token');\n      const headers = {};\n      if (options.headers) {\n        options.headers.forEach(element => {\n          headers[element] = options.headers.get(element);\n        });\n      }\n      headers['X-Requested-With'] = 'XMLHttpRequest';\n      if (csrfToken === null) {\n        if (document.cookie.split(';').find(row => row.startsWith('XSRF-TOKEN')) !== undefined) {\n          headers['CSRF-Token'] = document.cookie.split(';').find(row => row.startsWith('XSRF-TOKEN')).split('=')[1];\n        } else {\n          headers['CSRF-Token'] = document.cookie.split(';').find(row => row.startsWith(' XSRF-TOKEN')).split('=')[1];\n        }\n      } else {\n        headers['CSRF-Token'] = csrfToken.content;\n      }\n      options.headers = new HttpHeaders(headers);\n      options.responseType = 'text';\n      return options;\n    }\n    static ɵfac = function WebComponentHttpClient_Factory(t) {\n      return new (t || WebComponentHttpClient)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Meta));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: WebComponentHttpClient,\n      factory: WebComponentHttpClient.ɵfac\n    });\n  }\n  return WebComponentHttpClient;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ErrorHandlerService = /*#__PURE__*/(() => {\n  class ErrorHandlerService {\n    constructor() {}\n    handleError(err) {\n      let errorMessage;\n      if (err.error instanceof Error) {\n        // A client-side or network error occurred.\n        errorMessage = `An error occurred: ${err.error.message}`;\n      } else {\n        // The backend returned an unsuccessful response code.\n        if (err.status === 404) {\n          if (typeof err.error === 'string' && err.error !== undefined) {\n            if (err.error.length > 60) {\n              if (JSON.parse(err.error).statusCode !== undefined && JSON.parse(err.error).statusCode === 500) {\n                errorMessage = 'Internal server error';\n              } else {\n                if (err.error.length > 60) {\n                  errorMessage = JSON.parse(err.error).error;\n                } else {\n                  errorMessage = err.error;\n                }\n              }\n            } else {\n              errorMessage = err.error;\n            }\n          } else {\n            errorMessage = JSON.parse(err.error).error;\n          }\n        } else if (err.status === 500) {\n          errorMessage = 'Internal server error';\n        } else if (err.error.messsage === undefined) {\n          if (typeof err.error === 'object') {\n            errorMessage = JSON.parse(JSON.stringify(err.error)).error;\n          } else {\n            if (typeof err.error === 'string' && err.error !== undefined) {\n              if (err.error.length > 60) {\n                if (JSON.parse(err.error).statusCode !== undefined && JSON.parse(err.error).statusCode === 500) {\n                  errorMessage = 'Internal server error';\n                } else {\n                  if (err.error.length > 60) {\n                    errorMessage = JSON.parse(err.error).error;\n                  } else {\n                    errorMessage = err.error;\n                  }\n                }\n              } else {\n                errorMessage = err.error;\n              }\n            } else {\n              errorMessage = JSON.parse(err.error).error;\n            }\n          }\n        } else {\n          if (err.error.message !== undefined) {\n            errorMessage = `${err.error.message}`;\n          } else {\n            errorMessage = `${err.error}`;\n          }\n        }\n      }\n      return throwError(errorMessage);\n    }\n    getServerErrorMessage(isErrorExist, isDataNotExist = false, error = '') {\n      const bodyContent = isDataNotExist ? error : 'Try again later';\n      return {\n        title: \"There is a problem with the service\",\n        body: bodyContent,\n        showError: isErrorExist\n      };\n    }\n    static ɵfac = function ErrorHandlerService_Factory(t) {\n      return new (t || ErrorHandlerService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: ErrorHandlerService,\n      factory: ErrorHandlerService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ErrorHandlerService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst noop$1 = () => undefined;\nclass Logger {\n  info;\n  warn;\n  error;\n}\nlet LoggerService = /*#__PURE__*/(() => {\n  class LoggerService {\n    info;\n    warn;\n    error;\n    invokeConsoleMethod(type, args) {}\n    static ɵfac = function LoggerService_Factory(t) {\n      return new (t || LoggerService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: LoggerService,\n      factory: LoggerService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return LoggerService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n//import { error } from '@angular/compiler/src/util';\nlet PaymentViewService = /*#__PURE__*/(() => {\n  class PaymentViewService {\n    http;\n    https;\n    logger;\n    errorHandlerService;\n    paymentLibService;\n    ordersList = new BehaviorSubject([]);\n    meta;\n    constructor(http, https, logger, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.https = https;\n      this.logger = logger;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getPaymentDetails(paymentReference, paymentMethod) {\n      this.logger.info('Payment-view-service getPaymentDetails for: ', paymentReference);\n      if (paymentMethod == undefined || paymentMethod == null) {\n        return this.http.get(`${this.paymentLibService.API_ROOT}/payments/${paymentReference}`, {\n          withCredentials: true\n        }).pipe(catchError(this.errorHandlerService.handleError));\n      } else {\n        return this.http.get(paymentMethod === 'card' || paymentMethod === 'cash' || paymentMethod === 'cheque' || paymentMethod === 'postal order' ? `${this.paymentLibService.API_ROOT}/card-payments/${paymentReference}` : `${this.paymentLibService.API_ROOT}/credit-account-payments/${paymentReference}`, {\n          withCredentials: true\n        }).pipe(catchError(this.errorHandlerService.handleError));\n      }\n    }\n    getPaymentGroupDetails(paymentGroupReference) {\n      this.logger.info('Payment-view-service getPaymentGroupDetails for: ', paymentGroupReference);\n      return this.http.get(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupReference}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getApportionPaymentDetails(paymentReference) {\n      this.logger.info('Payment-view-service getPaymentGroupDetails for: ', paymentReference);\n      return this.http.get(`${this.paymentLibService.API_ROOT}/payment-groups/fee-pay-apportion/${paymentReference}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getPBAaccountDetails() {\n      const url = `${this.paymentLibService.API_ROOT}/pba-accounts`;\n      return this.http.get(url, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postWays2PayCardPayment(serviceRef, body) {\n      const url = `${this.paymentLibService.API_ROOT}/service-request/${serviceRef}/card-payments`;\n      const rurl = this.paymentLibService.CARDPAYMENTRETURNURL.replace('.prod', '');\n      body['return-url'] = `${rurl}/payment`;\n      return this.https.post(url, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postPBAaccountPayment(serviceRef, body) {\n      let randomKey = 'idam-key-' + Math.random().toString().split('.').join('-');\n      body['idempotency_key'] = randomKey;\n      const url = `${this.paymentLibService.API_ROOT}/service-request/${serviceRef}/pba-payments`;\n      return this.https.post(url, body);\n    }\n    postBSPayments(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/bulk-scan-payments`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSUnidentifiedPayments(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-allocations`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSUnsolicitedPayments(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-allocations`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSAllocationPayments(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-allocations`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postPaymentGroupWithRemissions(paymentGroupReference, feeId, body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupReference}/fees/${feeId}/remissions`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    deleteFeeFromPaymentGroup(feeId) {\n      this.logger.info('Payment-view-service deleteFeeFromPaymentGroup for: ', feeId);\n      return this.https.delete(`${this.paymentLibService.API_ROOT}/fees/${feeId}`).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postPaymentToPayHub(body, paymentGroupRef) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupRef}/card-payments`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postPaymentAntennaToPayHub(body, paymentGroupRef) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupRef}/telephony-card-payments`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    downloadSelectedReport(reportName, startDate, endDate) {\n      const url = `${this.paymentLibService.API_ROOT}/report/data?date_from=${startDate}&date_to=${endDate}&report_type=${reportName}`;\n      return this.https.get(url, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    downloadFailureReport(startDate, endDate) {\n      const url = `${this.paymentLibService.API_ROOT}/payment-failures/failure-report?date_from=${startDate}&date_to=${endDate}`;\n      return this.https.get(url, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getBSfeature() {\n      return this.https.get('api/payment-history/bulk-scan-feature', {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getSiteID() {\n      return this.https.get('api/payment-history/refdata/legacy-sites', {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getPartyDetails(caseNumber) {\n      const url = `${this.paymentLibService.API_ROOT}/case-payment-orders?case_ids=${caseNumber}`;\n      return this.https.get(url, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    setOrdersList(orderLevelFees) {\n      this.ordersList.next(Object.assign([], orderLevelFees));\n    }\n    getOrdersList() {\n      return this.ordersList;\n    }\n    //issue refund\n    postRefundsReason(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/refund-for-payment`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    // retro remissions\n    postPaymentGroupWithRetroRemissions(paymentGroupReference, feeId, body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupReference}/fees/${feeId}/retro-remission`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postRefundRetroRemission(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/refund-retro-remission`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getPaymentFailure(paymentReference) {\n      return this.https.get(`${this.paymentLibService.API_ROOT}/payment-failures/${paymentReference}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function PaymentViewService_Factory(t) {\n      return new (t || PaymentViewService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(WebComponentHttpClient), i0.ɵɵinject(LoggerService), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: PaymentViewService,\n      factory: PaymentViewService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return PaymentViewService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NotificationService = /*#__PURE__*/(() => {\n  class NotificationService {\n    http;\n    https;\n    errorHandlerService;\n    paymentLibService;\n    constructor(http, https, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.https = https;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getRefundNotification(reference) {\n      return this.http.get(`${this.paymentLibService.NOTIFICATION_API_ROOT}/${reference}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getAddressByPostcode(postcode) {\n      return this.http.get(`${this.paymentLibService.NOTIFICATION_API_ROOT}/postcode-lookup/${postcode}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getNotificationPreview(body) {\n      return this.https.post(`${this.paymentLibService.NOTIFICATION_API_ROOT}/doc-preview`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getNotificationInstructionType(paymentChannel, paymentMethod) {\n      if (paymentChannel === 'bulk scan' && paymentMethod === 'postal order') {\n        return 'RefundWhenContacted';\n      } else if (paymentChannel === 'bulk scan' && paymentMethod === 'cash') {\n        return 'RefundWhenContacted';\n      } else if (paymentChannel === 'online' && paymentMethod === 'card') {\n        return 'SendRefund';\n      } else if (paymentChannel === 'telephony' && paymentMethod === 'card') {\n        return 'SendRefund';\n      } else if (paymentChannel === 'online' && paymentMethod === 'payment by account') {\n        return 'SendRefund';\n      } else if (paymentChannel === 'bulk scan' && paymentMethod === 'cheque') {\n        return 'SendRefund';\n      } else {\n        return 'Template';\n      }\n    }\n    static ɵfac = function NotificationService_Factory(t) {\n      return new (t || NotificationService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(WebComponentHttpClient), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: NotificationService,\n      factory: NotificationService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return NotificationService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass PostRefundRetroRemission {\n  ccd_case_number;\n  payment_reference;\n  refund_reason;\n  total_refund_amount;\n  fees;\n  is_over_payment;\n  contact_details;\n  constructor(contact_details, fees, payment_reference, refund_reason, total_refund_amount, is_over_payment) {\n    this.contact_details = contact_details;\n    this.fees = fees;\n    this.payment_reference = payment_reference;\n    this.refund_reason = refund_reason;\n    this.total_refund_amount = total_refund_amount;\n    this.is_over_payment = is_over_payment === 'op';\n  }\n}\nclass AddRemissionRequest {\n  beneficiary_name;\n  ccd_case_number;\n  fee;\n  hwf_amount;\n  hwf_reference;\n  payment_group_reference;\n  case_type;\n  constructor(ccd_case_number, fee, hwf_amount, hwf_reference, caseType) {\n    this.ccd_case_number = ccd_case_number;\n    this.fee = fee;\n    this.hwf_amount = hwf_amount;\n    this.hwf_reference = hwf_reference;\n    this.case_type = caseType;\n  }\n}\nlet RefundsService = /*#__PURE__*/(() => {\n  class RefundsService {\n    http;\n    https;\n    errorHandlerService;\n    paymentLibService;\n    meta;\n    constructor(http, https, errorHandlerService, paymentLibService, meta) {\n      this.http = http;\n      this.https = https;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n      this.meta = meta;\n    }\n    getRefundReasons() {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}/reasons`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getRefundRejectReasons() {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}/rejection-reasons`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getRefundActions(refundReference) {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}/${refundReference}/actions`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    patchRefundActions(body, refundReference, reviewerAction) {\n      // const opts = this.addHeaders({});\n      return this.https.patch(`${this.paymentLibService.REFUNDS_API_ROOT}/${refundReference}/action/${reviewerAction}`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getRefundList(refundstatus, selfexclusive) {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}?status=${refundstatus}&excludeCurrentUser=${selfexclusive}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getRefundStatusHistory(reference) {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}/${reference}/status-history`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getRefundStatusList(ccdCaseNumber) {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}?ccdCaseNumber=${ccdCaseNumber}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getUserDetails() {\n      return this.http.get(`${this.paymentLibService.REFUNDS_API_ROOT}/get-user-details`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postIssueRefund(body) {\n      return this.https.post(`${this.paymentLibService.REFUNDS_API_ROOT}/refund`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    putResendOrEdit(body, refundRef, notificationType) {\n      return this.https.put(`${this.paymentLibService.REFUNDS_API_ROOT}/resend/notification/${refundRef}?notificationType=${notificationType}`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    patchResubmitRefund(body, refund_reference) {\n      // const opts = this.addHeaders({});\n      return this.https.patch(`${this.paymentLibService.REFUNDS_API_ROOT}/resubmit/${refund_reference}`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    addHeaders(options) {\n      const csrfToken = this.meta.getTag('name=csrf-token');\n      const headers = {};\n      if (options.headers) {\n        options.headers.forEach(element => {\n          headers[element] = options.headers.get(element);\n        });\n      }\n      headers['X-Requested-With'] = 'XMLHttpRequest';\n      if (csrfToken.content === null) {\n        if (document.cookie.split(';').find(row => row.startsWith('XSRF-TOKEN')) !== undefined) {\n          headers['CSRF-Token'] = document.cookie.split(';').find(row => row.startsWith('XSRF-TOKEN')).split('=')[1];\n        } else {\n          headers['CSRF-Token'] = document.cookie.split(';').find(row => row.startsWith(' XSRF-TOKEN')).split('=')[1];\n        }\n      } else {\n        headers['CSRF-Token'] = csrfToken.content;\n      }\n      options.headers = new HttpHeaders(headers);\n      options.responseType = 'text';\n      return options;\n    }\n    static ɵfac = function RefundsService_Factory(t) {\n      return new (t || RefundsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(WebComponentHttpClient), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService), i0.ɵɵinject(i2.Meta));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: RefundsService,\n      factory: RefundsService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return RefundsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass AddRetroRemissionRequest {\n  hwf_amount;\n  hwf_reference;\n  constructor(hwf_amount, hwf_reference) {\n    this.hwf_amount = hwf_amount;\n    this.hwf_reference = hwf_reference;\n  }\n}\nclass PostIssueRefundRetroRemission {\n  remissionReference;\n  contact_details;\n  constructor(remissionReference, contactDeatils) {\n    this.remissionReference = remissionReference;\n    this.contact_details = contactDeatils;\n  }\n}\nlet ContactDetailsComponent = /*#__PURE__*/(() => {\n  class ContactDetailsComponent {\n    formBuilder;\n    notificationService;\n    paymentLibComponent;\n    isEditOperation;\n    isEditOperationInRefundList;\n    addressObj;\n    assignContactDetails = new EventEmitter();\n    assignContactDetailsInFefundsList = new EventEmitter();\n    redirectToIssueRefund = new EventEmitter();\n    pageTitle = 'Payment status history';\n    errorMessage;\n    isEmailSAddressClicked = true;\n    isShowPickAddress = false;\n    isPostcodeClicked = false;\n    isManualAddressClicked = false;\n    emailAddressForm;\n    postCodeForm;\n    manualAddressForm;\n    addressPostcodeList = [];\n    postcodeAddress;\n    isAddressBoxEmpty = false;\n    isEmailEmpty = false;\n    emailHasError = false;\n    isPostcodeEmpty = false;\n    postcodeHasError = false;\n    isaddressLine1Empty = false;\n    addressLine1HasError = false;\n    addressLine2HasError = false;\n    isTownOrCityEmpty = false;\n    townOrCityHasError = false;\n    isCountyEmpty = false;\n    countyHasError = false;\n    isMPostcodeEmpty = false;\n    mpostcodeHasError = false;\n    isCountryEmpty = false;\n    constructor(formBuilder, notificationService, paymentLibComponent) {\n      this.formBuilder = formBuilder;\n      this.notificationService = notificationService;\n      this.paymentLibComponent = paymentLibComponent;\n    }\n    ngOnInit() {\n      this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, false, false], 'all');\n      this.emailAddressForm = this.formBuilder.group({\n        email: new FormControl('', Validators.compose([Validators.required, Validators.pattern('.+@+.+\\\\.+.+')]))\n      });\n      this.postCodeForm = this.formBuilder.group({\n        postcode: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^([A-Za-z]{1,2}[0-9]{1,2}[A-Za-z]{0,1} ?[0-9][A-Za-z]{2})')]))\n      });\n      this.manualAddressForm = this.formBuilder.group({\n        addressl1: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9\\\\s,\\'-]*$')])),\n        addressl2: new FormControl('', Validators.compose([Validators.pattern('^[a-zA-Z0-9\\\\s,\\'-]*$')])),\n        townorcity: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9\\\\s,\\'-]*$')])),\n        county: new FormControl('', Validators.compose([Validators.pattern('^[a-zA-Z0-9\\\\s,\\'-]*$')])),\n        mpostcode: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^([A-Za-z]{1,2}[0-9]{1,2}[A-Za-z]{0,1} ?[0-9][A-Za-z]{2})')])),\n        country: new FormControl('', Validators.compose([Validators.required]))\n      });\n      if (this.addressObj !== undefined && this.addressObj !== '') {\n        this.setEditDetails();\n      }\n      if (this.isEditOperationInRefundList === undefined) {\n        this.isEditOperationInRefundList = false;\n      }\n    }\n    setEditDetails() {\n      if (this.addressObj.notification_type === 'EMAIL') {\n        this.isEmailSAddressClicked = true;\n        this.isPostcodeClicked = false;\n        this.isManualAddressClicked = false;\n        this.emailAddressForm.setValue({\n          email: this.addressObj.contact_details.email\n        });\n      } else if (this.addressObj.notification_type === 'LETTER') {\n        this.isEmailSAddressClicked = false;\n        this.isPostcodeClicked = true;\n        this.isManualAddressClicked = true;\n        this.manualAddressForm.patchValue({\n          addressl1: this.addressObj.contact_details.address_line,\n          townorcity: this.addressObj.contact_details.city,\n          county: this.addressObj.contact_details.county,\n          country: this.addressObj.contact_details.country,\n          mpostcode: this.addressObj.contact_details.postal_code\n        });\n      }\n    }\n    selectContactOption(type, isLinkedClied) {\n      this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], 'all');\n      if (type === 'Email' && isLinkedClied === 'false') {\n        this.isEmailSAddressClicked = true;\n        this.isPostcodeClicked = false;\n        this.isManualAddressClicked = false;\n      } else if (type === 'Postcode' && isLinkedClied === 'false') {\n        this.isEmailSAddressClicked = false;\n        this.isPostcodeClicked = true;\n        this.isManualAddressClicked = false;\n      } else if (type === 'Postcode' && isLinkedClied === 'true') {\n        this.isEmailSAddressClicked = false;\n        this.isPostcodeClicked = true;\n        this.isManualAddressClicked = true;\n      }\n    }\n    finalFormSubmit() {\n      this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], 'all');\n      if (this.isEmailSAddressClicked) {\n        const emailField = this.emailAddressForm.controls.email;\n        if (this.emailAddressForm.valid) {\n          if (!this.isEditOperationInRefundList) {\n            this.assignContactDetails.emit({\n              email: emailField.value,\n              notification_type: 'EMAIL'\n            });\n          } else {\n            this.assignContactDetailsInFefundsList.emit({\n              email: emailField.value,\n              notification_type: 'EMAIL'\n            });\n          }\n        } else {\n          if (emailField.value == '') {\n            this.resetForm([true, false, false, false, false, false, false, false, false, false, false, false, false, false], 'email');\n          }\n          if (emailField.value != '' && emailField.invalid) {\n            this.resetForm([false, true, false, false, false, false, false, false, false, false, false, false, false, false], 'email');\n          }\n        }\n      } else if (this.isPostcodeClicked && !this.isManualAddressClicked) {\n        this.postcodeValidation('FS');\n      } else if (this.isPostcodeClicked && this.isManualAddressClicked) {\n        const fieldCtrls = this.manualAddressForm.controls;\n        if (this.manualAddressForm.valid) {\n          if (!this.isEditOperationInRefundList) {\n            this.assignContactDetails.emit({\n              address_line: fieldCtrls.addressl1.value + ' ' + fieldCtrls.addressl2.value,\n              city: fieldCtrls.townorcity.value,\n              county: fieldCtrls.county.value,\n              postal_code: fieldCtrls.mpostcode.value,\n              country: fieldCtrls.country.value,\n              notification_type: 'LETTER'\n            });\n          } else {\n            this.assignContactDetailsInFefundsList.emit({\n              address_line: fieldCtrls.addressl1.value + ' ' + fieldCtrls.addressl2.value,\n              city: fieldCtrls.townorcity.value,\n              county: fieldCtrls.county.value,\n              postal_code: fieldCtrls.mpostcode.value,\n              country: fieldCtrls.country.value,\n              notification_type: 'LETTER'\n            });\n          }\n        } else {\n          if (fieldCtrls.addressl1.value == '') {\n            this.resetForm([false, false, false, false, true, false, false, false, false, false, false, false, false, false], 'address1');\n          }\n          if (fieldCtrls.addressl1.value != '' && fieldCtrls.addressl1.invalid) {\n            this.resetForm([false, false, false, false, false, true, false, false, false, false, false, false, false, false], 'address1');\n          }\n          if (fieldCtrls.addressl2.value != '' && fieldCtrls.addressl2.invalid) {\n            this.resetForm([false, false, false, false, false, false, true, false, false, false, false, false, false, false], 'address2');\n          }\n          if (fieldCtrls.townorcity.value == '') {\n            this.resetForm([false, false, false, false, false, false, false, true, false, false, false, false, false, false], 'town');\n          }\n          if (fieldCtrls.townorcity.value != '' && fieldCtrls.townorcity.invalid) {\n            this.resetForm([false, false, false, false, false, false, false, false, true, false, false, false, false, false], 'town');\n          }\n          if (fieldCtrls.county.value == '') {\n            this.resetForm([false, false, false, false, false, false, false, false, false, true, false, false, false, false], 'county');\n          }\n          if (fieldCtrls.county.value != '' && fieldCtrls.county.invalid) {\n            this.resetForm([false, false, false, false, false, false, false, false, false, false, true, false, false, false], 'county');\n          }\n          if (fieldCtrls.mpostcode.value == '') {\n            this.resetForm([false, false, false, false, false, false, false, false, false, false, false, true, false, false], 'mpostcode');\n          }\n          if (fieldCtrls.mpostcode.value != '' && fieldCtrls.mpostcode.invalid) {\n            this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, true, false], 'mpostcode');\n          }\n          if (fieldCtrls.country.value == '') {\n            this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, false, true], 'country');\n          }\n        }\n      }\n    }\n    postcodeValidation(str) {\n      this.resetForm([false, false, false, false, false, false, false, false, false, false, false, false, false, false, false], 'all');\n      const postcodeField = this.postCodeForm.controls.postcode;\n      if (this.postCodeForm.valid) {\n        if (str === 'FA') {\n          this.notificationService.getAddressByPostcode(postcodeField.value).subscribe(refundsNotification => {\n            this.addressPostcodeList = refundsNotification['results'];\n            this.isShowPickAddress = refundsNotification['header'].totalresults > 0;\n            if (!this.isShowPickAddress) {\n              this.resetForm([false, false, false, true, false, false, false, false, false, false, false, false, false], 'postcode');\n            }\n          }), error => {\n            this.isShowPickAddress = false;\n            this.errorMessage = error.replace(/\"/g, \"\");\n          };\n        } else if (str === 'FS') {\n          if (this.postcodeAddress !== undefined && this.postcodeAddress) {\n            this.isAddressBoxEmpty = false;\n            let addressLine = \"\";\n            let addressArray = this.postcodeAddress.ADDRESS.split(\",\");\n            for (let i = 0; i < addressArray.length - 2; i++) {\n              addressLine += addressArray[i];\n            }\n            const addressObject = {\n              address_line: addressLine,\n              city: this.postcodeAddress.POST_TOWN,\n              county: this.postcodeAddress.LOCAL_CUSTODIAN_CODE_DESCRIPTION,\n              postal_code: this.postcodeAddress.POSTCODE,\n              country: 'United Kingdom',\n              notification_type: 'LETTER'\n            };\n            if (!this.isEditOperationInRefundList) {\n              this.assignContactDetails.emit(addressObject);\n            } else {\n              this.assignContactDetailsInFefundsList.emit(addressObject);\n            }\n          } else {\n            this.isAddressBoxEmpty = true;\n          }\n        }\n      } else {\n        if (postcodeField.value == '') {\n          this.resetForm([false, false, true, false, false, false, false, false, false, false, false, false, false], 'postcode');\n        }\n        if (postcodeField.value != '' && postcodeField.invalid) {\n          this.resetForm([false, false, false, true, false, false, false, false, false, false, false, false, false], 'postcode');\n        }\n      }\n    }\n    redirection(event) {\n      this.redirectToIssueRefund.emit(event);\n    }\n    resetForm(val, field) {\n      if (field === 'email' || field === 'all') {\n        this.isEmailEmpty = val[0];\n        this.emailHasError = val[1];\n      }\n      if (field === 'postcode' || field === 'all') {\n        this.isPostcodeEmpty = val[2];\n        this.postcodeHasError = val[3];\n      }\n      if (field === 'address1' || field === 'all') {\n        this.isaddressLine1Empty = val[4];\n        this.addressLine1HasError = val[5];\n      }\n      if (field === 'address2' || field === 'all') {\n        this.addressLine2HasError = val[6];\n      }\n      if (field === 'town' || field === 'all') {\n        this.isTownOrCityEmpty = val[7];\n        this.townOrCityHasError = val[8];\n      }\n      if (field === 'county' || field === 'all') {\n        this.isCountyEmpty = val[9];\n        this.countyHasError = val[10];\n      }\n      if (field === 'mpostcode' || field === 'all') {\n        this.isMPostcodeEmpty = val[11];\n        this.mpostcodeHasError = val[12];\n      }\n      if (field === 'country' || field === 'all') {\n        this.isCountryEmpty = val[13];\n      }\n    }\n    static ɵfac = function ContactDetailsComponent_Factory(t) {\n      return new (t || ContactDetailsComponent)(i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject('PAYMENT_LIB'));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ContactDetailsComponent,\n      selectors: [[\"ccpay-contact-details\"]],\n      inputs: {\n        isEditOperation: \"isEditOperation\",\n        isEditOperationInRefundList: \"isEditOperationInRefundList\",\n        addressObj: \"addressObj\"\n      },\n      outputs: {\n        assignContactDetails: \"assignContactDetails\",\n        assignContactDetailsInFefundsList: \"assignContactDetailsInFefundsList\",\n        redirectToIssueRefund: \"redirectToIssueRefund\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 28,\n      vars: 6,\n      consts: [[1, \"govuk-fieldset\", \"contact-details--size\"], [1, \"govuk-section-break\", \"govuk-section-break--m\", \"govuk-section-break--visible\"], [1, \"govuk-form-group\"], [1, \"govuk-fieldset__legend\", \"govuk-fieldset__legend--s\", \"govuk-font19px\"], [\"id\", \"contact-hint\", 1, \"govuk-hint\", \"govuk-font19px\"], [1, \"govuk-fieldset\"], [\"data-module\", \"govuk-radios\", 1, \"govuk-radios\", \"govuk-radios--conditional\"], [1, \"govuk-radios__item\"], [\"id\", \"contact\", \"name\", \"contact\", \"type\", \"radio\", \"value\", \"email\", \"aria-controls\", \"conditional-contact\", \"aria-expanded\", \"true\", 1, \"govuk-radios__input\", 3, \"checked\", \"click\"], [\"for\", \"contact\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [\"class\", \"govuk-radios__conditional\", \"id\", \"conditional-contact-email\", 4, \"ngIf\"], [\"id\", \"contact-2\", \"name\", \"contact\", \"type\", \"radio\", \"value\", \"post\", \"aria-controls\", \"conditional-contact-2\", \"aria-expanded\", \"false\", 1, \"govuk-radios__input\", 3, \"checked\", \"click\"], [\"for\", \"contact-2\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [\"class\", \"govuk-radios__conditional\", \"id\", \"conditional-contact-postcode\", 4, \"ngIf\"], [\"class\", \"govuk-radios__conditional\", \"id\", \"conditional-contact-manual\", 4, \"ngIf\"], [1, \"govuk-button-group\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", \"govuk-font19px\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button\", \"govuk-font19px\", 3, \"click\"], [\"id\", \"conditional-contact-email\", 1, \"govuk-radios__conditional\"], [\"novalidate\", \"\", 3, \"formGroup\"], [\"for\", \"email\", 1, \"govuk-label\"], [1, \"govuk-hint\", \"govuk-font19px\"], [\"id\", \"email-hint\", 1, \"govuk-hint\"], [\"id\", \"email\", \"name\", \"\", \"type\", \"email\", \"formControlName\", \"email\", \"aria-describedby\", \"email-hint\", 1, \"govuk-input\", \"govuk-font19px\", 3, \"ngClass\", \"value\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [1, \"inline-error-message\"], [4, \"ngIf\"], [\"id\", \"conditional-contact-postcode\", 1, \"govuk-radios__conditional\"], [\"for\", \"address-postcode\", 1, \"govuk-label\", \"govuk-font19px\"], [1, \"postcode-align-css\"], [1, \"govuk-form-group\", \"govuk-margin-right-10px\"], [\"id\", \"address-postcode\", \"name\", \"address-postcode\", \"formControlName\", \"postcode\", \"type\", \"text\", \"autocomplete\", \"postal-code\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"ngClass\"], [\"data-module\", \"govuk-button\", 1, \"govuk-button\", \"govuk-button--secondary\", \"govuk-font19px\", 3, \"click\"], [\"class\", \"govuk-form-group govuk-margin-btm-20px\", 4, \"ngIf\"], [\"data-module\", \"govuk-details\", 1, \"govuk-details\"], [1, \"govuk-details__summary\"], [1, \"govuk-details__summary-text\", \"govuk-font19px\"], [\"href\", \"Javascript:void(0);\", 3, \"click\"], [1, \"govuk-form-group\", \"govuk-margin-btm-20px\"], [\"for\", \"country\", 1, \"govuk-label\", \"govuk-font19px\"], [\"id\", \"postcodeAddress\", \"name\", \"postcodeAddress\", 1, \"govuk-select\", \"govuk-font19px\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngValue\"], [\"id\", \"conditional-contact-manual\", 1, \"govuk-radios__conditional\"], [\"for\", \"address-line-1\", 1, \"govuk-label\", \"govuk-font19px\"], [1, \"govuk-visually-hidden\"], [\"id\", \"address-line-1\", \"name\", \"address-line-1\", \"formControlName\", \"addressl1\", \"type\", \"text\", \"autocomplete\", \"address-line1\", 1, \"govuk-input\", \"govuk-font19px\", 3, \"ngClass\", \"value\"], [\"for\", \"address-line-2\", 1, \"govuk-label\"], [1, \"govuk-visually-hidden\", \"govuk-font19px\"], [\"id\", \"address-line-2\", \"name\", \"address-line-2\", \"formControlName\", \"addressl2\", \"type\", \"text\", \"autocomplete\", \"address-line2\", 1, \"govuk-input\", \"govuk-font19px\", 3, \"ngClass\"], [\"for\", \"address-town\", 1, \"govuk-label\", \"govuk-font19px\"], [\"id\", \"address-town\", \"name\", \"address-town\", \"formControlName\", \"townorcity\", \"type\", \"text\", \"autocomplete\", \"address-level2\", 1, \"govuk-input\", \"govuk-!-width-two-thirds\", \"govuk-font19px\", 3, \"ngClass\", \"value\"], [\"for\", \"address-county\", 1, \"govuk-label\", \"govuk-font19px\"], [\"id\", \"address-county\", \"formControlName\", \"county\", \"name\", \"address-county\", \"type\", \"text\", 1, \"govuk-input\", \"govuk-!-width-two-thirds\", \"govuk-font19px\", 3, \"ngClass\", \"value\"], [\"id\", \"address-postcode\", \"formControlName\", \"mpostcode\", \"name\", \"address-postcode\", \"type\", \"text\", \"autocomplete\", \"postal-code\", 1, \"govuk-input\", \"govuk-input--width-10\", \"govuk-font19px\", 3, \"ngClass\", \"value\"], [\"id\", \"country\", \"name\", \"country\", \"formControlName\", \"country\", 1, \"govuk-select\", \"govuk-font19px\", 3, \"ngClass\"], [\"value\", \"\", \"selected\", \"selected\"], [\"value\", \"United Kingdom\", 3, \"selected\"]],\n      template: function ContactDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"fieldset\", 0);\n          i0.ɵɵelement(1, \"hr\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"legend\", 3);\n          i0.ɵɵtext(4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 4);\n          i0.ɵɵtext(6, \" Notifications will be sent via email or post when this refund is issued or rejected. You can only choose one option. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 2)(8, \"fieldset\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"input\", 8);\n          i0.ɵɵlistener(\"click\", function ContactDetailsComponent_Template_input_click_11_listener() {\n            return ctx.selectContactOption(\"Email\", \"false\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"label\", 9);\n          i0.ɵɵtext(13, \" Email \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(14, ContactDetailsComponent_div_14_Template, 9, 6, \"div\", 10);\n          i0.ɵɵelementStart(15, \"div\", 7)(16, \"input\", 11);\n          i0.ɵɵlistener(\"click\", function ContactDetailsComponent_Template_input_click_16_listener() {\n            return ctx.selectContactOption(\"Postcode\", \"false\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"label\", 12);\n          i0.ɵɵtext(18, \" Post \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(19, ContactDetailsComponent_div_19_Template, 19, 6, \"div\", 13);\n          i0.ɵɵtemplate(20, ContactDetailsComponent_div_20_Template, 41, 30, \"div\", 14);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(21, \"hr\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 15)(23, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function ContactDetailsComponent_Template_button_click_23_listener($event) {\n            return ctx.redirection($event);\n          });\n          i0.ɵɵtext(24, \" Previous \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(25, \"\\n\\xA0\\n\");\n          i0.ɵɵelementStart(26, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function ContactDetailsComponent_Template_button_click_26_listener() {\n            return ctx.finalFormSubmit();\n          });\n          i0.ɵɵtext(27, \" Continue\\n\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditOperation ? \"Edit contact information\" : \"Contact information\", \" \");\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"checked\", ctx.isEmailSAddressClicked);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isEmailSAddressClicked);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"checked\", ctx.isPostcodeClicked);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPostcodeClicked && !ctx.isManualAddressClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPostcodeClicked && ctx.isManualAddressClicked);\n        }\n      },\n      dependencies: [FormsModule, i1$1.ɵNgNoValidate, i1$1.NgSelectOption, i1$1.ɵNgSelectMultipleOption, i1$1.DefaultValueAccessor, i1$1.SelectControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.NgModel, ReactiveFormsModule, i1$1.FormGroupDirective, i1$1.FormControlName, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf],\n      styles: [\".govuk-font19px[_ngcontent-%COMP%]{font-size:19px}.inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0}.inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px}.contact-details--size[_ngcontent-%COMP%]{width:50%}.postcode-align-css[_ngcontent-%COMP%]{display:flex;flex-direction:row}.govuk-margin-right-10px[_ngcontent-%COMP%]{margin-right:10px}.govuk-margin-btm-20px[_ngcontent-%COMP%]{margin-bottom:20px!important}\"]\n    });\n  }\n  return ContactDetailsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass NotificationPreviewRequest {\n  notification_type;\n  payment_channel;\n  payment_method;\n  payment_reference;\n  personalisation;\n  recipient_email_address;\n  recipient_postal_address;\n  service_name;\n  constructor(payment, contactDetails, refund_reason, refund_amount, refund_reference, payment_reference) {\n    if (contactDetails !== undefined && contactDetails !== null) {\n      this.notification_type = contactDetails.notification_type.toUpperCase();\n    }\n    if (payment !== undefined && payment !== null) {\n      this.payment_reference = payment.reference;\n      this.payment_method = payment.method;\n      this.payment_channel = payment.channel;\n      this.service_name = payment.service_name;\n    } else {\n      this.payment_reference = payment_reference;\n    }\n    this.personalisation = {\n      ccd_case_number: payment !== undefined && payment !== null ? payment.ccd_case_number : '',\n      refund_reason: refund_reason,\n      refund_amount: refund_amount,\n      refund_reference: refund_reference\n    };\n    if (this.notification_type === \"EMAIL\") {\n      this.recipient_email_address = contactDetails.email;\n      this.recipient_postal_address = null;\n    } else if (this.notification_type === \"LETTER\") {\n      this.recipient_postal_address = {\n        address_line: contactDetails.address_line,\n        city: contactDetails.city,\n        county: contactDetails.county,\n        country: contactDetails.country,\n        postal_code: contactDetails.postal_code\n      };\n      this.recipient_email_address = null;\n    }\n  }\n}\nlet NotificationPreviewComponent = /*#__PURE__*/(() => {\n  class NotificationPreviewComponent {\n    errorHandlerService;\n    notificationService;\n    payment;\n    contactDetails;\n    refundReason;\n    refundAmount;\n    paymentReference;\n    refundReference;\n    previewJourney;\n    notificationSent;\n    notificationPreviewEvent = new EventEmitter();\n    notification;\n    notificationPreviewRequest;\n    today = Date.now();\n    //   errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n    errorMessage = null;\n    constructor(errorHandlerService, notificationService) {\n      this.errorHandlerService = errorHandlerService;\n      this.notificationService = notificationService;\n    }\n    ngOnInit() {\n      if (this.previewJourney != undefined && this.previewJourney != null && this.previewJourney === 'Notifications sent') {\n        this.notification = this.notificationSent;\n        if (this.notification != undefined && this.notification != null && this.notification.template_type === 'letter') {\n          this.notification.body = this.notification.body.replace(/\\r\\n/g, '<br/>');\n        }\n      } else {\n        const notficationPreviewRequestBody = new NotificationPreviewRequest(this.payment, this.contactDetails, this.refundReason, this.refundAmount, this.refundReference, this.paymentReference);\n        this.notificationService.getNotificationPreview(notficationPreviewRequestBody).subscribe(res => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          this.notification = JSON.parse(res);\n          if (this.notification != undefined && this.notification != null && this.notification.template_type === 'letter') {\n            this.notification.body = this.notification.body.replace(/\\r\\n/g, '<br/>');\n          }\n        }, error => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n          console.log(this.errorMessage);\n        });\n        this.notificationPreviewEvent.emit(this.notification);\n      }\n    }\n    static ɵfac = function NotificationPreviewComponent_Factory(t) {\n      return new (t || NotificationPreviewComponent)(i0.ɵɵdirectiveInject(ErrorHandlerService), i0.ɵɵdirectiveInject(NotificationService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: NotificationPreviewComponent,\n      selectors: [[\"app-notification-preview\"]],\n      inputs: {\n        payment: \"payment\",\n        contactDetails: \"contactDetails\",\n        refundReason: \"refundReason\",\n        refundAmount: \"refundAmount\",\n        paymentReference: \"paymentReference\",\n        refundReference: \"refundReference\",\n        previewJourney: \"previewJourney\",\n        notificationSent: \"notificationSent\"\n      },\n      outputs: {\n        notificationPreviewEvent: \"notificationPreviewEvent\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"govuk-grid-column-full\"], [1, \"govuk-table\"], [1, \"govuk-table__body\"], [4, \"ngIf\"], [1, \"govuk-table__row\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"govuk-!-font-weight-bold\"], [3, \"innerHTML\"], [1, \"letter-row-border\"]],\n      template: function NotificationPreviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"tbody\", 2);\n          i0.ɵɵtemplate(3, NotificationPreviewComponent_ng_container_3_Template, 19, 4, \"ng-container\", 3);\n          i0.ɵɵtemplate(4, NotificationPreviewComponent_ng_container_4_Template, 19, 11, \"ng-container\", 3);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", (ctx.notification == null ? null : ctx.notification.template_type) === \"email\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", (ctx.notification == null ? null : ctx.notification.template_type) === \"letter\");\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, i3.DatePipe],\n      styles: [\".right[_ngcontent-%COMP%]{float:right}.letter-row-border[_ngcontent-%COMP%]{border-bottom:none}\"]\n    });\n  }\n  return NotificationPreviewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CaseTransactionsService = /*#__PURE__*/(() => {\n  class CaseTransactionsService {\n    http;\n    logger;\n    errorHandlerService;\n    paymentLibService;\n    constructor(http, logger, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.logger = logger;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getPaymentGroups(ccdCaseNumber) {\n      this.logger.info('Case-transactions-service getPaymentGroups for: ', ccdCaseNumber);\n      return this.http.get(`${this.paymentLibService.API_ROOT}/cases/${ccdCaseNumber}/paymentgroups`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function CaseTransactionsService_Factory(t) {\n      return new (t || CaseTransactionsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(LoggerService), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: CaseTransactionsService,\n      factory: CaseTransactionsService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return CaseTransactionsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BulkScaningPaymentService = /*#__PURE__*/(() => {\n  class BulkScaningPaymentService {\n    http;\n    https;\n    errorHandlerService;\n    paymentLibService;\n    constructor(http, https, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.https = https;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getBSPaymentsByCCD(ccdCaseNumber) {\n      return this.http.get(`${this.paymentLibService.BULKSCAN_API_ROOT}/cases/${ccdCaseNumber}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    getBSPaymentsByDCN(dcn) {\n      return this.http.get(`${this.paymentLibService.BULKSCAN_API_ROOT}/cases?document_control_number=${dcn}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSAllocatePayment(body, paymentRef) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentRef}/bulk-scan-payments`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSPaymentStrategic(body, paymentGroupRef) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/${paymentGroupRef}/bulk-scan-payments-strategic`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    postBSWoPGStrategic(body) {\n      return this.https.post(`${this.paymentLibService.API_ROOT}/payment-groups/bulk-scan-payments-strategic`, body).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    patchBSChangeStatus(dcnNumber, status) {\n      return this.https.patch(`${this.paymentLibService.API_ROOT}/bulk-scan-payments/${dcnNumber}/status/${status}`, status).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    calculateOutStandingAmount(paymentGroup) {\n      let feesTotal = 0.00,\n        paymentsTotal = 0.00,\n        remissionsTotal = 0.00;\n      if (paymentGroup.fees) {\n        paymentGroup.fees.forEach(fee => {\n          feesTotal = feesTotal + fee.calculated_amount;\n        });\n      }\n      if (paymentGroup.payments) {\n        paymentGroup.payments.forEach(payment => {\n          if (payment.status.toUpperCase() === 'SUCCESS') {\n            paymentsTotal = paymentsTotal + payment.amount;\n          }\n        });\n      }\n      if (paymentGroup.remissions) {\n        paymentGroup.remissions.forEach(remission => {\n          remissionsTotal = remissionsTotal + remission.hwf_amount;\n        });\n      }\n      return feesTotal - remissionsTotal - paymentsTotal;\n    }\n    removeUnwantedString(input, replaceText) {\n      const pattern = /[\\_]/gi;\n      return input.replace(pattern, replaceText);\n    }\n    downloadSelectedReport(reportName, startDate, endDate) {\n      return this.https.get(`${this.paymentLibService.BULKSCAN_API_ROOT}/report/data?date_from=${startDate}&date_to=${endDate}&report_type=${reportName}`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function BulkScaningPaymentService_Factory(t) {\n      return new (t || BulkScaningPaymentService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(WebComponentHttpClient), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: BulkScaningPaymentService,\n      factory: BulkScaningPaymentService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return BulkScaningPaymentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet UnprocessedPaymentsComponent = /*#__PURE__*/(() => {\n  class UnprocessedPaymentsComponent {\n    router;\n    bulkScaningPaymentService;\n    paymentLibComponent;\n    paymentViewService;\n    OrderslistService;\n    FEE_RECORDS_EXISTS;\n    PAYMENTREF;\n    ISTURNOFF;\n    IS_BUTTON_ENABLE;\n    IS_OS_AMT_AVAILABLE;\n    ISSFENABLE;\n    PAYMENTSLENGTH;\n    LEVEL;\n    selectedUnprocessedFeeEvent = new EventEmitter();\n    getUnprocessedFeeCount = new EventEmitter();\n    viewStatus = 'main';\n    unassignedRecordList;\n    upPaymentErrorMessage = null;\n    ccdCaseNumber;\n    recordId = null;\n    isRecordExist = false;\n    dcnNumber = null;\n    selectedOption;\n    isUnprocessedRecordSelected = true;\n    isAllocateToExistingFeebtnEnabled = false;\n    isMarkAsUnidentifiedbtnEnabled = false;\n    isAllocatedToNewFeebtnEnabled = false;\n    isExceptionCase = false;\n    serviceId = null;\n    isBulkScanEnable;\n    isTurnOff = true;\n    isStFixEnable;\n    unassignedRecordSelectedList;\n    unassignedRecordListLength = 0;\n    showContent;\n    constructor(router, bulkScaningPaymentService, paymentLibComponent, paymentViewService, OrderslistService) {\n      this.router = router;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.paymentViewService = paymentViewService;\n      this.OrderslistService = OrderslistService;\n    }\n    ngOnInit() {\n      // Todo ...\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.selectedOption = this.paymentLibComponent.SELECTED_OPTION.toLocaleLowerCase();\n      this.dcnNumber = this.paymentLibComponent.DCN_NUMBER;\n      this.isBulkScanEnable = this.paymentLibComponent.ISBSENABLE;\n      this.isTurnOff = this.paymentLibComponent.ISTURNOFF;\n      this.isStFixEnable = this.paymentLibComponent.ISSFENABLE;\n      this.OrderslistService.getFeeExists().subscribe(data => this.FEE_RECORDS_EXISTS = data);\n      this.getUnassignedPaymentlist();\n    }\n    getUnassignedPaymentlist() {\n      if (this.selectedOption === 'dcn') {\n        this.bulkScaningPaymentService.getBSPaymentsByDCN(this.dcnNumber).subscribe(unassignedPayments => {\n          //  unassignedPayments['data'].map(data => data.expandable=false);\n          if (unassignedPayments['data'] && unassignedPayments['data'].payments) {\n            this.setValuesForUnassignedRecord(unassignedPayments['data']);\n          } else if (unassignedPayments['payments']) {\n            this.setValuesForUnassignedRecord(unassignedPayments);\n          } else {\n            this.upPaymentErrorMessage = 'error';\n            this.getUnprocessedFeeCount.emit('0');\n          }\n        }, error => {\n          this.upPaymentErrorMessage = error;\n          this.getUnprocessedFeeCount.emit('0');\n        });\n      } else {\n        this.bulkScaningPaymentService.getBSPaymentsByCCD(this.ccdCaseNumber).subscribe(unassignedPayments => {\n          //  unassignedPayments['data'].map(data => data.expandable=false);\n          if (unassignedPayments['data'] && unassignedPayments['data'].payments) {\n            this.setValuesForUnassignedRecord(unassignedPayments['data']);\n          } else if (unassignedPayments['payments']) {\n            this.setValuesForUnassignedRecord(unassignedPayments);\n          } else {\n            this.upPaymentErrorMessage = 'error';\n            this.getUnprocessedFeeCount.emit('0');\n          }\n        }, error => {\n          this.upPaymentErrorMessage = error;\n          this.getUnprocessedFeeCount.emit('0');\n        });\n      }\n    }\n    setValuesForUnassignedRecord(unassignedPayments) {\n      this.unassignedRecordList = unassignedPayments.payments;\n      if (this.unassignedRecordList) {\n        this.unassignedRecordListLength = unassignedPayments.payments.length;\n      }\n      this.serviceId = unassignedPayments.responsible_service_id;\n      if (unassignedPayments['ccd_reference'] === undefined) {\n        this.isExceptionCase = true;\n      }\n      // this.isRecordExist =  this.unassignedRecordList.length === 0;\n      this.getUnprocessedFeeCount.emit(this.unassignedRecordList.length);\n      this.unprocessedPaymentSelectEvent(this.unassignedRecordList);\n    }\n    formatUnassignedRecordId(ID) {\n      return `unassignrecord-${ID}`;\n    }\n    trimUnderscore(method) {\n      return this.bulkScaningPaymentService.removeUnwantedString(method, ' ');\n    }\n    redirectToFeeSearchPage(event, dcn_reference) {\n      event.preventDefault();\n      this.recordId = dcn_reference;\n      let url = this.isBulkScanEnable ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n      url += this.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n      url += this.isStFixEnable ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n      url += `&caseType=${this.paymentLibComponent.CASETYPE}`;\n      this.router.navigateByUrl(`/fee-search?selectedOption=${this.selectedOption}&ccdCaseNumber=${this.ccdCaseNumber}&dcn=${this.recordId}${url}`);\n    }\n    loadUnsolicitedPage(viewName, dcn_reference) {\n      this.recordId = dcn_reference;\n      this.paymentLibComponent.bspaymentdcn = this.recordId;\n      this.paymentLibComponent.viewName = viewName;\n    }\n    unprocessedPaymentSelectEvent(selectedRecordReference) {\n      this.isUnprocessedRecordSelected = true;\n      this.validateButtons();\n      this.selectedUnprocessedFeeEvent.emit(selectedRecordReference);\n    }\n    resetButtons() {\n      this.isUnprocessedRecordSelected = false;\n      this.isAllocateToExistingFeebtnEnabled = false;\n      this.isMarkAsUnidentifiedbtnEnabled = false;\n      this.isAllocatedToNewFeebtnEnabled = false;\n    }\n    goToAllocatePage(dcn_reference) {\n      this.paymentLibComponent.bspaymentdcn = dcn_reference;\n      this.paymentLibComponent.unProcessedPaymentServiceId = this.serviceId;\n      this.paymentLibComponent.isTurnOff = this.ISTURNOFF;\n      this.paymentLibComponent.ISSFENABLE = this.isStFixEnable;\n      if (this.ISTURNOFF) {\n        this.paymentLibComponent.paymentGroupReference = this.PAYMENTREF;\n        this.paymentLibComponent.viewName = 'fee-summary';\n      } else {\n        this.paymentLibComponent.paymentGroupReference = null;\n        this.paymentLibComponent.viewName = 'allocate-payments';\n      }\n    }\n    validateButtons() {\n      setTimeout(() => {\n        if (this.isUnprocessedRecordSelected && this.isExceptionCase) {\n          this.isMarkAsUnidentifiedbtnEnabled = true;\n        } else if (this.isUnprocessedRecordSelected && !this.isExceptionCase && !this.FEE_RECORDS_EXISTS) {\n          this.isAllocateToExistingFeebtnEnabled = false;\n          this.isAllocatedToNewFeebtnEnabled = true;\n        } else if (this.isUnprocessedRecordSelected && !this.isExceptionCase && this.FEE_RECORDS_EXISTS) {\n          if (!this.ISTURNOFF) {\n            this.isAllocateToExistingFeebtnEnabled = true;\n            this.isAllocatedToNewFeebtnEnabled = false;\n          } else {\n            this.isAllocateToExistingFeebtnEnabled = this.IS_OS_AMT_AVAILABLE;\n            this.isAllocatedToNewFeebtnEnabled = true;\n          }\n        }\n      }, 4000);\n    }\n    unprocessedPaymentUnSelectEvent(event) {\n      event.preventDefault();\n      this.recordId = null;\n      this.isUnprocessedRecordSelected = false;\n      this.isAllocateToExistingFeebtnEnabled = false;\n      this.isAllocatedToNewFeebtnEnabled = false;\n      this.isMarkAsUnidentifiedbtnEnabled = false;\n      //this.validateButtons();\n      this.selectedUnprocessedFeeEvent.emit('');\n    }\n    showDetailRow(event, obj, i) {\n      event.preventDefault();\n      this.unassignedRecordSelectedList = obj;\n    }\n    static ɵfac = function UnprocessedPaymentsComponent_Factory(t) {\n      return new (t || UnprocessedPaymentsComponent)(i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(BulkScaningPaymentService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: UnprocessedPaymentsComponent,\n      selectors: [[\"ccpay-app-unprocessed-payments\"]],\n      inputs: {\n        FEE_RECORDS_EXISTS: \"FEE_RECORDS_EXISTS\",\n        PAYMENTREF: \"PAYMENTREF\",\n        ISTURNOFF: \"ISTURNOFF\",\n        IS_BUTTON_ENABLE: \"IS_BUTTON_ENABLE\",\n        IS_OS_AMT_AVAILABLE: \"IS_OS_AMT_AVAILABLE\",\n        ISSFENABLE: \"ISSFENABLE\",\n        PAYMENTSLENGTH: \"PAYMENTSLENGTH\",\n        LEVEL: \"LEVEL\"\n      },\n      outputs: {\n        selectedUnprocessedFeeEvent: \"selectedUnprocessedFeeEvent\",\n        getUnprocessedFeeCount: \"getUnprocessedFeeCount\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 3,\n      vars: 3,\n      consts: [[4, \"ngIf\"], [1, \"govuk-table\"], [\"class\", \"govuk-table__head\", 4, \"ngIf\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [1, \"col-13\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"unprocessed-payments\"], [\"type\", \"hidden\", \"value\", \"CASETRANSACTION\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [1, \"table\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-13\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-9\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-16\"], [\"colspan\", \"3\", \"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__cell\", \"whitespace-inherit\", \"col-13\"], [1, \"govuk-table__cell\", \"whitespace-inherit\", \"col-10\"], [\"colspan\", \"8\", 1, \"govuk-table__cell\", \"whitespace-inherit\"], [\"class\", \"alignright\", 4, \"ngIf\"], [\"colspan\", \"10\", 1, \"unassigned\", \"noborders\"], [1, \"govuk-details__summary\", 3, \"click\"], [1, \"govuk-details__summary-text\"], [\"class\", \"govuk-details__text  govuk-!-margin-bottom-5 paddingright\", 4, \"ngIf\"], [1, \"alignright\"], [\"type\", \"button\", 3, \"disabled\", \"ngClass\", \"click\"], [1, \"govuk-details__text\", \"govuk-!-margin-bottom-5\", \"paddingright\"], [1, \"govuk-summary-list\", \"govuk-!-margin-bottom-5\"], [1, \"govuk-summary-list__row\"], [1, \"govuk-summary-list__key\"], [1, \"govuk-summary-list__value\"], [1, \"govuk-!-margin-bottom-5\"]],\n      template: function UnprocessedPaymentsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, UnprocessedPaymentsComponent_ng_container_0_Template, 5, 2, \"ng-container\", 0);\n          i0.ɵɵtemplate(1, UnprocessedPaymentsComponent_ng_container_1_Template, 19, 1, \"ng-container\", 0);\n          i0.ɵɵtemplate(2, UnprocessedPaymentsComponent_ng_container_2_Template, 1, 0, \"ng-container\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.IS_BUTTON_ENABLE);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.IS_BUTTON_ENABLE);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"main\");\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.LowerCasePipe, i3.CurrencyPipe],\n      styles: [\".unprocessed-payments[_ngcontent-%COMP%]   .unprocessed-payments--radio-button[_ngcontent-%COMP%]{bottom:10px}.disable[_ngcontent-%COMP%]{text-decoration:none;padding:.526315em .789473em .263157em;cursor:default;color:#fff;background-color:#00823b;pointer-events:none;font-size:1em;line-height:1.25;outline:1px solid transparent;outline-offset:-1px;-webkit-appearance:none;box-shadow:0 2px #003618}.button.disabled[_ngcontent-%COMP%], .button[disabled=disabled][_ngcontent-%COMP%], .button[disabled][_ngcontent-%COMP%]{zoom:1;filter:alpha(opacity=50);opacity:.5}.button.disabled[_ngcontent-%COMP%]:active, .button[disabled=disabled][_ngcontent-%COMP%]:active, .button[disabled][_ngcontent-%COMP%]:active{top:0;box-shadow:0 2px #003618}.button[disabled=disabled][_ngcontent-%COMP%]{background:#00823b}.col-13[_ngcontent-%COMP%]{width:13%!important}.col-17[_ngcontent-%COMP%]{width:17%!important}.col-12[_ngcontent-%COMP%]{width:12%!important}.col-9[_ngcontent-%COMP%]{width:9%!important}.col-15[_ngcontent-%COMP%]{width:15%!important}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}.top_row[_ngcontent-%COMP%]{display:table;width:100%}.top_row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:table-cell;width:50%;border-bottom:1px solid #eee}.unassigned[_ngcontent-%COMP%]{border-top:hidden}.col-16[_ngcontent-%COMP%]{width:16%!important}.col-10[_ngcontent-%COMP%]{width:10%!important}.col-14[_ngcontent-%COMP%]{width:14%!important}.col-19[_ngcontent-%COMP%]{width:19%!important;padding-left:0!important}.col-18[_ngcontent-%COMP%]{width:18%!important;padding-left:0!important;padding-right:0!important}.col-21[_ngcontent-%COMP%]{width:21%!important}.col-20[_ngcontent-%COMP%]{width:20%!important}.col-11[_ngcontent-%COMP%]{width:11%!important}.col-37[_ngcontent-%COMP%]{width:37%!important}.noborders[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-color:transparent;border-top-style:hidden;border-right-style:hidden;border-left-style:hidden}.govuk-button--secondary[_ngcontent-%COMP%]{margin-bottom:10px}.govuk-summary-list[_ngcontent-%COMP%]{font-size:19px}.govuk-summary-list__key[_ngcontent-%COMP%]{width:35%}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden!important}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word}.alignright[_ngcontent-%COMP%]{text-align:right}.paddingright[_ngcontent-%COMP%]{padding-right:0}\"]\n    });\n  }\n  return UnprocessedPaymentsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass IPutNotificationRequest {\n  recipient_email_address;\n  recipient_postal_address;\n  constructor(contactDetails, notificationType) {\n    if (notificationType === 'EMAIL') {\n      this.recipient_email_address = contactDetails;\n    } else if (notificationType === 'LETTER') {\n      this.recipient_postal_address = contactDetails;\n    }\n  }\n}\nclass IResubmitRefundRequest {\n  refund_reason;\n  amount;\n  contact_details;\n  refund_fees;\n  constructor(refund_reason, amount, contact_details, refund_fees) {\n    this.refund_reason = refund_reason;\n    this.amount = amount;\n    this.contact_details = contact_details;\n    this.refund_fees = refund_fees;\n  }\n}\nlet CcdHyphensPipe = /*#__PURE__*/(() => {\n  class CcdHyphensPipe {\n    constructor() {}\n    transform(value, args) {\n      const pattern = /^([0-9]{4})+([0-9]{4})+([0-9]{4})+([0-9]{4})$/;\n      if (value.match(pattern)) {\n        return value.replace(pattern, '$1-$2-$3-$4');\n      }\n      return value;\n    }\n    static ɵfac = function CcdHyphensPipe_Factory(t) {\n      return new (t || CcdHyphensPipe)();\n    };\n    static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"ccdHyphens\",\n      type: CcdHyphensPipe,\n      pure: true,\n      standalone: true\n    });\n  }\n  return CcdHyphensPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CapitalizePipe = /*#__PURE__*/(() => {\n  class CapitalizePipe {\n    constructor() {}\n    transform(s, args) {\n      return s && s[0].toUpperCase() + s.slice(1) || \"\";\n    }\n    static ɵfac = function CapitalizePipe_Factory(t) {\n      return new (t || CapitalizePipe)();\n    };\n    static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"capitalize\",\n      type: CapitalizePipe,\n      pure: true,\n      standalone: true\n    });\n  }\n  return CapitalizePipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet RefundStatusComponent = /*#__PURE__*/(() => {\n  class RefundStatusComponent {\n    formBuilder;\n    refundService;\n    notificationService;\n    paymentLibComponent;\n    OrderslistService;\n    paymentViewService;\n    LOGGEDINUSERROLES = [];\n    API_ROOT;\n    ccdCaseNumber;\n    isTurnOff;\n    orderParty;\n    refundStatusForm;\n    selectedRefundReason;\n    rejectedRefundList = [];\n    notificationList;\n    notification;\n    approvalStatus = 'Sent for approval';\n    rejectStatus = 'Update required';\n    errorMessage = null;\n    viewName;\n    refundReason;\n    refundlist;\n    bsPaymentDcnNumber;\n    isCallFromRefundList;\n    refundButtonState = '';\n    isAmountEmpty = false;\n    isReasonEmpty = false;\n    amountHasError = false;\n    isRemissionLessThanFeeError = false;\n    refundHasError = false;\n    refundReasons = [];\n    refundStatusHistories;\n    refundNotifications;\n    isResendOperationSuccess = false;\n    isEditDetailsClicked = false;\n    isEditAddressDeatilsClicked = false;\n    addressDetails;\n    refundReference;\n    refundAmount;\n    refundCode;\n    isRefundBtnDisabled = true;\n    isFromPayBubble = false;\n    oldRefundReason;\n    refundreason;\n    navigationpage;\n    isLastUpdatedByCurrentUser = true;\n    isProcessRefund = false;\n    changedAmount;\n    isRemissionsMatch;\n    payment;\n    changeRefundReason;\n    fees;\n    refundFees;\n    paymentObj;\n    templateInstructionType;\n    notificationSentViewIndex = -1;\n    notificationPreview = false;\n    notificationSentView = false;\n    allowedRolesToAccessRefund = ['payments-refund-approver', 'payments-refund', 'payments'];\n    constructor(formBuilder, refundService, notificationService, paymentLibComponent, OrderslistService, paymentViewService) {\n      this.formBuilder = formBuilder;\n      this.refundService = refundService;\n      this.notificationService = notificationService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.OrderslistService = OrderslistService;\n      this.paymentViewService = paymentViewService;\n    }\n    ngOnInit() {\n      this.resetRemissionForm([false, false, false, false], 'All');\n      this.bsPaymentDcnNumber = this.paymentLibComponent.bspaymentdcn;\n      this.isCallFromRefundList = this.paymentLibComponent.isCallFromRefundList;\n      if (this.API_ROOT == 'api/payment-history') {\n        this.isFromPayBubble = true;\n      }\n      if (this.paymentLibComponent.isRefundStatusView) {\n        this.viewName = 'refundview';\n        this.OrderslistService.getRefundView().subscribe(data => this.refundlist = data);\n        this.OrderslistService.getCCDCaseNumberforRefund.subscribe(data => this.ccdCaseNumber = data);\n      } else {\n        this.viewName = 'refundstatuslist';\n        this.refundService.getRefundStatusList(this.ccdCaseNumber).subscribe(refundList => {\n          this.rejectedRefundList = refundList['refund_list'];\n        }), error => {\n          this.errorMessage = error.replace(/\"/g, \"\");\n        };\n      }\n      this.refundStatusForm = this.formBuilder.group({\n        amount: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[0-9]+(\\.[0-9]{1,2})?$')])),\n        refundReason: new FormControl('', Validators.compose([Validators.required])),\n        reason: new FormControl()\n      });\n      if (this.refundlist !== undefined) {\n        this.getRefundsNotification();\n        this.getRefundsStatusHistoryList();\n        if (this.LOGGEDINUSERROLES.some(i => i.includes('payments-refund-approver'))) {\n          this.isProcessRefund = true;\n          this.refundButtonState = this.refundlist.refund_status.name;\n          return;\n        }\n        if (this.LOGGEDINUSERROLES.some(i => i.includes('payments-refund'))) {\n          this.isProcessRefund = false;\n          this.refundButtonState = this.refundlist.refund_status.name;\n        }\n      }\n    }\n    getRefundsStatusHistoryList() {\n      if (this.refundlist !== undefined) {\n        this.refundService.getRefundStatusHistory(this.refundlist.refund_reference).subscribe(statusHistoryList => {\n          this.refundStatusHistories = statusHistoryList.status_history_dto_list;\n          this.isLastUpdatedByCurrentUser = statusHistoryList.last_updated_by_current_user;\n        }), error => {\n          this.errorMessage = error.replace(/\"/g, \"\");\n        };\n      }\n    }\n    getRefundsNotification() {\n      this.notificationService.getRefundNotification(this.refundlist.refund_reference).subscribe(refundsNotification => {\n        this.notificationList = refundsNotification['notifications'];\n      }), error => {\n        this.errorMessage = error.replace(/\"/g, \"\");\n      };\n    }\n    goToRefundView(refundlist, navigationpage) {\n      this.OrderslistService.setRefundView(refundlist);\n      this.OrderslistService.setCCDCaseNumber(this.ccdCaseNumber);\n      this.paymentLibComponent.viewName = 'refundstatuslist';\n      this.paymentLibComponent.isRefundStatusView = true;\n      this.refundlist = refundlist;\n      this.OrderslistService.setnavigationPage(navigationpage);\n    }\n    loadCaseTransactionPage() {\n      this.OrderslistService.setnavigationPage('casetransactions');\n      this.OrderslistService.setisFromServiceRequestPage(false);\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.ISBSENABLE = true;\n      this.paymentLibComponent.isRefundStatusView = false;\n    }\n    loadRefundListPage() {\n      this.OrderslistService.getnavigationPageValue().subscribe(data => this.navigationpage = data);\n      if (this.navigationpage === 'casetransactions') {\n        this.loadCaseTransactionPage();\n      } else {\n        this.paymentLibComponent.viewName = 'refund-list';\n      }\n    }\n    gotoReviewDetailsPage(event) {\n      // event.preventDefault();\n      this.errorMessage = false;\n      this.paymentLibComponent.isRefundStatusView = true;\n      this.ngOnInit();\n    }\n    gotoReviewAndReSubmitPage() {\n      this.viewName = 'reviewandsubmitview';\n      this.getTemplateInstructionType(this.paymentObj, this.refundlist.payment_reference);\n      this.oldRefundReason = this.refundlist.reason;\n      this.changedAmount = this.refundlist.amount;\n      this.refundreason = this.refundStatusHistories.filter(data => data.status.toLowerCase() === 'update required')[0].notes;\n      this.refundService.getRefundReasons().subscribe(refundReasons => {\n        this.refundReasons = refundReasons;\n      });\n    }\n    gotoRefundReasonPage(refundReason) {\n      this.isRefundBtnDisabled = false;\n      this.paymentLibComponent.REFUNDLIST = \"true\";\n      this.paymentLibComponent.isFromRefundStatusPage = true;\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.errorMessage = false;\n      this.changeRefundReason = refundReason;\n      this.viewName = 'issuerefundpage1';\n    }\n    gotoAmountPage() {\n      this.errorMessage = false;\n      this.paymentLibComponent.REFUNDLIST = \"true\";\n      this.isRefundBtnDisabled = false;\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.paymentLibComponent.isFromRefundStatusPage = true;\n      if (this.refundlist.reason == 'Retrospective remission') {\n        this.viewName = 'processretroremissonpage';\n      } else {\n        this.viewName = 'issuerefund';\n      }\n    }\n    goToReviewAndSubmitView() {\n      const remissionctrls = this.refundStatusForm.controls;\n      if (this.refundStatusForm.dirty) {\n        if (remissionctrls['amount'].value == '') {\n          this.resetRemissionForm([true, false, false, false], 'amount');\n        } else if (remissionctrls['amount'].value != '' && remissionctrls['amount'].invalid) {\n          this.resetRemissionForm([false, true, false, false], 'amount');\n        } else if (remissionctrls['reason'].value == '') {\n          this.resetRemissionForm([false, false, false, true], 'reason');\n        } else {\n          this.refundlist.reason = remissionctrls['reason'].value;\n          this.viewName = 'reviewandsubmitview';\n        }\n      }\n    }\n    resetRemissionForm(val, field) {\n      if (field === 'All') {\n        this.isAmountEmpty = val[0];\n        this.amountHasError = val[1];\n        this.isRemissionLessThanFeeError = val[2];\n        this.isReasonEmpty = val[3];\n      } else if (field === 'amount' || field === 'All') {\n        this.isAmountEmpty = val[0];\n        this.amountHasError = val[1];\n        this.isRemissionLessThanFeeError = val[2];\n      } else if (field === 'reason' || field === 'All') {\n        this.isReasonEmpty = val[3];\n      }\n    }\n    selectRadioButton(key, value) {\n      this.refundHasError = false;\n      this.selectedRefundReason = key;\n      if (key === 'Other') {\n        this.refundHasError = false;\n        this.refundReason = key;\n      }\n    }\n    getRefundListReason(refundListReason) {\n      if (this.paymentLibComponent.isFromRefundStatusPage && !this.paymentLibComponent.iscancelClicked) {\n        if (refundListReason.reason != undefined && refundListReason.reason != null && refundListReason.reason != this.refundlist.reason) {\n          this.refundlist.reason = refundListReason.reason;\n          this.refundlist.reason_code = refundListReason.code.split('-')[0].trim();\n          this.refundlist.code = refundListReason.code;\n          this.refundCode = refundListReason.code;\n        }\n      } else {\n        this.isRefundBtnDisabled = true;\n      }\n      this.notificationPreview = false;\n      this.viewName = 'reviewandsubmitview';\n      this.paymentLibComponent.CCD_CASE_NUMBER = this.ccdCaseNumber;\n    }\n    getRefundAmount(amount) {\n      if (this.paymentLibComponent.isFromRefundStatusPage && !this.paymentLibComponent.iscancelClicked) {\n        if (amount > 0) {\n          this.changedAmount = amount;\n          // this.refundlist.amount = amount;\n        }\n      } else {\n        this.isRefundBtnDisabled = true;\n      }\n      this.notificationPreview = false;\n      this.viewName = 'reviewandsubmitview';\n      this.paymentLibComponent.CCD_CASE_NUMBER = this.ccdCaseNumber;\n    }\n    getRefundFees(fees) {\n      this.fees = fees;\n      this.refundFees = this.fees.map(obj => ({\n        fee_id: obj.id,\n        code: obj.code,\n        version: obj.version,\n        volume: obj.updated_volume ? obj.updated_volume : obj.volume,\n        refund_amount: obj.refund_amount\n      }));\n    }\n    gotoReviewRefundConfirmationPage() {\n      // if (this.oldRefundReason === this.refundlist.reason) {\n      //   this.refundCode = '';\n      // }\n      if (this.refundFees === undefined) {\n        this.refundFees = this.refundlist['refund_fees'];\n      }\n      if (this.refundlist.reason == 'Retrospective remission') {\n        this.refundFees[0].refund_amount = this.changedAmount;\n      }\n      this.refundCode = this.refundlist.code;\n      const resubmitRequest = new IResubmitRefundRequest(this.refundCode, this.changedAmount, this.refundlist.contact_details, this.refundFees);\n      this.refundService.patchResubmitRefund(resubmitRequest, this.refundlist.refund_reference).subscribe(response => {\n        if (JSON.parse(response)) {\n          this.refundReference = JSON.parse(response).refund_reference;\n          this.refundAmount = JSON.parse(response).refund_amount;\n          this.viewName = 'reviewrefundconfirmationpage';\n        }\n      }, error => {\n        this.errorMessage = error.replace(/\"/g, \"\");\n      });\n    }\n    gotoEditAddressDetails(note) {\n      this.notification = note;\n      this.isEditDetailsClicked = true;\n      this.viewName = 'refundEditView';\n    }\n    getContactDetails(obj) {\n      this.addressDetails = obj;\n      this.getTemplateInstructionType(this.paymentObj, this.refundlist.payment_reference);\n      this.notificationPreview = false;\n      this.viewName = 'revieweditdetailsconfirmationpage';\n    }\n    getContactDetailsForRefundList(obj) {\n      this.refundlist.contact_details = obj;\n      this.getTemplateInstructionType(this.paymentObj, this.refundlist.payment_reference);\n      this.notificationPreview = false;\n      this.isEditDetailsClicked = false;\n      this.isRefundBtnDisabled = false;\n      this.viewName = 'reviewandsubmitview';\n    }\n    gotoEditDetailsPage(note, view) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.isEditDetailsClicked = true;\n      this.viewName = view;\n    }\n    submitEditDetail() {\n      this.isResendOperationSuccess = false;\n      const contactDetails = this.addressDetails.notification_type === 'EMAIL' ? this.addressDetails.email : {\n        address_line: this.addressDetails.address_line,\n        city: this.addressDetails.city,\n        county: this.addressDetails.county,\n        country: this.addressDetails.country,\n        postal_code: this.addressDetails.postal_code\n      };\n      const resendRequest = new IPutNotificationRequest(contactDetails, this.addressDetails.notification_type);\n      this.refundService.putResendOrEdit(resendRequest, this.refundlist.refund_reference, this.addressDetails.notification_type).subscribe(response => {\n        this.isResendOperationSuccess = response;\n      }, error => {\n        this.isResendOperationSuccess = false;\n        this.errorMessage = error.replace(/\"/g, \"\");\n      });\n    }\n    putResend(notification) {\n      this.isResendOperationSuccess = false;\n      const contactDetails = notification.notification_type === 'EMAIL' ? notification.contact_details.email : {\n        address_line: notification.contact_details.address_line,\n        city: notification.contact_details.city,\n        county: notification.contact_details.county,\n        country: notification.contact_details.country,\n        postal_code: notification.contact_details.postal_code\n      };\n      const resendRequest = new IPutNotificationRequest(contactDetails, notification.notification_type);\n      this.refundService.putResendOrEdit(resendRequest, this.refundlist.refund_reference, notification.notification_type).subscribe(response => {\n        this.isResendOperationSuccess = response;\n      }, error => {\n        this.isResendOperationSuccess = false;\n        this.errorMessage = error.replace(/\"/g, \"\");\n      });\n    }\n    gotoRefundViewPageCancelBtnClicked(event) {\n      event.preventDefault();\n      this.isEditDetailsClicked = false;\n      this.viewName = 'refundview';\n    }\n    gotoRefundReviewAndSubmitViewPageCancelBtnClicked(event) {\n      event.preventDefault();\n      this.isEditDetailsClicked = false;\n      this.viewName = 'reviewandsubmitview';\n    }\n    goToRefundProcessComponent(refundReference, refundList) {\n      this.paymentLibComponent.refundlistsource = refundList;\n      this.paymentLibComponent.refundReference = refundReference;\n      this.paymentLibComponent.isFromPayBubble = true;\n      this.paymentLibComponent.viewName = 'process-refund';\n    }\n    getTemplateInstructionType(payment, paymentReference) {\n      if (payment == undefined || payment == null || payment.reference != paymentReference) {\n        this.paymentViewService.getPaymentDetails(paymentReference).subscribe(payment => {\n          this.paymentObj = payment;\n          this.paymentObj.reference = paymentReference;\n          this.templateInstructionType = this.notificationService.getNotificationInstructionType(this.paymentObj.channel, this.paymentObj.method);\n        }, error => {\n          this.templateInstructionType = 'Template';\n        });\n      } else {\n        this.templateInstructionType = this.notificationService.getNotificationInstructionType(payment.channel, payment.method);\n      }\n    }\n    showNotificationPreview() {\n      this.notificationPreview = true;\n    }\n    hideNotificationPreview() {\n      this.notificationPreview = false;\n    }\n    showNotificationSentView(index) {\n      this.notificationSentViewIndex = index;\n      this.notificationSentView = true;\n    }\n    hideNotificationSentView() {\n      this.notificationSentViewIndex = -1;\n      this.notificationSentView = false;\n    }\n    static ɵfac = function RefundStatusComponent_Factory(t) {\n      return new (t || RefundStatusComponent)(i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(RefundsService), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(OrderslistService), i0.ɵɵdirectiveInject(PaymentViewService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: RefundStatusComponent,\n      selectors: [[\"ccpay-refund-status\"]],\n      inputs: {\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        API_ROOT: \"API_ROOT\",\n        ccdCaseNumber: \"ccdCaseNumber\",\n        isTurnOff: \"isTurnOff\",\n        orderParty: \"orderParty\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 12,\n      vars: 12,\n      consts: [[4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-16\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-11\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-18\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-25\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"channel\", \"govuk-table__cell\", \"whitespace-inherit\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"colspan\", \"6\", 1, \"govuk-table__cell\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [1, \"govuk-breadcrumbs__list-item\"], [\"href\", \"javascript:void(0)\", 1, \"govuk-back-link\", \"govuk-label\", 3, \"click\"], [1, \"govuk-heading-l\"], [1, \"section\"], [1, \"bold\", \"tb-col-w\"], [1, \"govuk-heading-m\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-27\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"whitespace-inherit\"], [4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__cell\", \"whitespace-inherit\", \"col-40\"], [\"class\", \"govuk-table__cell whitespace-inherit\", 4, \"ngIf\"], [\"href\", \"Javascript:void(0);\", 3, \"click\"], [\"href\", \"Javascript:void(0);\", 3, \"click\", 4, \"ngIf\"], [\"colspan\", \"4\", 1, \"govuk-table__cell\"], [3, \"previewJourney\", \"notificationSent\"], [\"colspan\", \"4\", 1, \"govuk-table__cell\", \"whitespace-inherit\"], [\"class\", \"govuk-table__body\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", \"btnmargin\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [1, \"govuk-warning-text\"], [1, \"heading-large\"], [1, \"govuk-table__cell\", \"govuk-!-font-weight-bold\"], [1, \"govuk-table__cell\"], [\"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"contactDetails-width font-size-19px\", 4, \"ngIf\"], [\"class\", \"govuk-link\", \"href\", \"Javascript:void(0)\", \"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [\"href\", \"Javascript:void(0)\", \"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [3, \"paymentReference\", \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", \"refundReference\", 4, \"ngIf\"], [1, \"govuk-button-group\"], [1, \"govuk-button\", \"govuk-button--secondary\", 3, \"click\"], [\"data-module\", \"govuk-button\", 1, \"govuk-button\", \"button\", 3, \"disabled\", \"click\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [1, \"govuk-link\", \"right\", 3, \"click\"], [1, \"contactDetails-width\", \"font-size-19px\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"right\", 3, \"click\"], [3, \"paymentReference\", \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", \"refundReference\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"EDITDETAILSPAGE\"], [\"myInput\", \"\"], [1, \"govuk-heading-m\", \"govuk-font19px\"], [1, \"govuk-hint\", \"font-size-19px\"], [3, \"isEditOperationInRefundList\", \"addressObj\", \"assignContactDetailsInFefundsList\", \"redirectToIssueRefund\"], [\"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [3, \"isFromRefundListPage\", \"viewCompStatus\", \"isRefundRemission\", \"isFromRefundStatusPage\", \"changeRefundReason\", \"ccdCaseNumber\", \"refundPaymentReference\", \"refundListReason\"], [3, \"isFromRefundListPage\", \"viewCompStatus\", \"isRefundRemission\", \"ccdCaseNumber\", \"refundPaymentReference\", \"refundListAmount\"], [3, \"isFromRefundListPage\", \"viewCompStatus\", \"isRefundRemission\", \"isFromServiceRequestPage\", \"ccdCaseNumber\", \"refundPaymentReference\", \"isFromRefundStatusPage\", \"refundListAmount\", \"refundFees\"], [1, \"govuk-grid-row\", \"pagesize\"], [1, \"govuk-panel\", \"govuk-panel--confirmation\"], [1, \"govuk-panel__title\"], [1, \"govuk-panel__body\"], [1, \"govuk-body\", \"white\"], [1, \"govuk-body\"], [\"href\", \"javascript:void(0)\", 1, \"govuk-link\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"EDITDETAILSCHECKANDANSWERPAGE\"], [1, \"govuk-summary-list\"], [1, \"govuk-summary-list__row\", \"font-size-19px\"], [1, \"govuk-summary-list__key\"], [1, \"govuk-summary-list__value\"], [1, \"govuk-summary-list__actions\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", 3, \"click\"], [\"data-module\", \"govuk-button\", 1, \"govuk-button\", \"button\", 3, \"click\"]],\n      template: function RefundStatusComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, RefundStatusComponent_div_0_Template, 6, 1, \"div\", 0);\n          i0.ɵɵtemplate(1, RefundStatusComponent_ng_container_1_Template, 17, 2, \"ng-container\", 0);\n          i0.ɵɵtemplate(2, RefundStatusComponent_ng_container_2_Template, 54, 11, \"ng-container\", 0);\n          i0.ɵɵtemplate(3, RefundStatusComponent_ng_container_3_Template, 61, 19, \"ng-container\", 0);\n          i0.ɵɵtemplate(4, RefundStatusComponent_ng_container_4_Template, 14, 6, \"ng-container\", 0);\n          i0.ɵɵtemplate(5, RefundStatusComponent_ng_container_5_Template, 2, 7, \"ng-container\", 0);\n          i0.ɵɵtemplate(6, RefundStatusComponent_ng_container_6_Template, 2, 5, \"ng-container\", 0);\n          i0.ɵɵtemplate(7, RefundStatusComponent_ng_container_7_Template, 2, 7, \"ng-container\", 0);\n          i0.ɵɵtemplate(8, RefundStatusComponent_ng_container_8_Template, 18, 7, \"ng-container\", 0);\n          i0.ɵɵtemplate(9, RefundStatusComponent_ng_container_9_Template, 13, 1, \"ng-container\", 0);\n          i0.ɵɵtemplate(10, RefundStatusComponent_ng_container_10_Template, 14, 6, \"ng-container\", 0);\n          i0.ɵɵtemplate(11, RefundStatusComponent_ng_container_11_Template, 39, 7, \"ng-container\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"refundstatuslist\" && ctx.rejectedRefundList && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"refundview\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"reviewandsubmitview\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"reviewandsubmitEditview\" && ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"issuerefundpage1\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"processretroremissonpage\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"issuerefund\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"reviewrefundconfirmationpage\" && !ctx.isResendOperationSuccess && !ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isResendOperationSuccess);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"refundEditView\" && ctx.isEditDetailsClicked);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"revieweditdetailsconfirmationpage\" && !ctx.isResendOperationSuccess && ctx.isEditDetailsClicked);\n        }\n      },\n      dependencies: function () {\n        return [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.CurrencyPipe, i3.DatePipe, NotificationPreviewComponent, ContactDetailsComponent, AddRemissionComponent, CcdHyphensPipe];\n      },\n      styles: [\".right[_ngcontent-%COMP%]{float:right!important}.button[_ngcontent-%COMP%]{margin-bottom:3em;font-size:19px}.cancelbtn[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.btnmargin[_ngcontent-%COMP%]{margin-bottom:2em}.govuk-button--secondary[_ngcontent-%COMP%]{background-color:#dee0e2;box-shadow:0 2px #858688;color:#0b0c0c;margin-right:.5em}.govuk-warning-text__text[_ngcontent-%COMP%], .govuk-label--s[_ngcontent-%COMP%], .hmcts-currency-input__symbol[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0}.inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px;font-size:20px}.govuk-button[_ngcontent-%COMP%], .govuk-link[_ngcontent-%COMP%]{margin-right:1em;font-size:19px;font-weight:200}.govuk-button-group[_ngcontent-%COMP%]{padding-top:2em}.heading-medium[_ngcontent-%COMP%]{margin-top:.875em}.heading-large[_ngcontent-%COMP%]{margin-top:.25em}.govuk-panel--confirmation[_ngcontent-%COMP%]{color:#fff;background:#00703C}.govuk-heading-l[_ngcontent-%COMP%]{font-size:36px}.govuk-heading-m[_ngcontent-%COMP%]{font-size:24px}.govuk-panel__title[_ngcontent-%COMP%]{font-size:5rem}.govuk-body-m[_ngcontent-%COMP%], .govuk-body[_ngcontent-%COMP%]{font-size:2.1875rem}.govuk-input--width-10[_ngcontent-%COMP%]{max-width:36ex}.col-14[_ngcontent-%COMP%]{width:14%!important}.col-10[_ngcontent-%COMP%]{width:10%!important}.col-11[_ngcontent-%COMP%]{width:11%!important}.col-18[_ngcontent-%COMP%]{width:18%!important}.col-21[_ngcontent-%COMP%]{width:21%!important}.col-9[_ngcontent-%COMP%]{width:9%!important}.col-40[_ngcontent-%COMP%]{width:40%!important}.col-15[_ngcontent-%COMP%]{width:15%!important}.col-16[_ngcontent-%COMP%]{width:16%!important}.col-25[_ngcontent-%COMP%]{width:25%!important}.col-24[_ngcontent-%COMP%]{width:24%!important}.govuk-error-summary__title[_ngcontent-%COMP%]{font-size:24px!important}.govuk-error-summary__body[_ngcontent-%COMP%]{font-size:19px!important}.font-size-19px[_ngcontent-%COMP%]{font-size:19px}.white[_ngcontent-%COMP%]{color:#fff}.pagesize[_ngcontent-%COMP%]{margin:2em;width:97%}.govuk-link[_ngcontent-%COMP%]{cursor:pointer}.contactDetails-width[_ngcontent-%COMP%]{width:70%}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}\"]\n    });\n  }\n  return RefundStatusComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst BS_ENABLE_FLAG$4 = 'bulk-scan-enabling-fe';\nlet CaseTransactionsComponent = /*#__PURE__*/(() => {\n  class CaseTransactionsComponent {\n    router;\n    paymentViewService;\n    bulkScaningPaymentService;\n    caseTransactionsService;\n    paymentLibComponent;\n    OrderslistService;\n    LOGGEDINUSERROLES;\n    isTakePayment;\n    isFromServiceRequestPage;\n    takePayment;\n    ccdCaseNumber;\n    excReference;\n    paymentGroups = [];\n    payments = [];\n    nonPayments = [];\n    allPayments = [];\n    remissions = [];\n    fees = [];\n    errorMessage;\n    totalFees;\n    totalPayments = 0;\n    totalNonOffPayments;\n    totalRemissions = 0;\n    selectedOption;\n    dcnNumber;\n    paymentRef;\n    isTurnOff;\n    isRefundRemission = true;\n    isStrategicFixEnable;\n    isAddFeeBtnEnabled = true;\n    isExceptionRecord = false;\n    isUnprocessedRecordSelected = false;\n    exceptionRecordReference;\n    isAnyFeeGroupAvilable = true;\n    isHistoricGroupAvailable = false;\n    isBulkScanEnable;\n    isRemissionsMatch;\n    viewStatus = 'main';\n    isRemoveBtnDisabled = false;\n    feeId;\n    clAmountDue = 0;\n    overPaymentAmount = 0;\n    unprocessedRecordCount;\n    isFeeRecordsExist = false;\n    isGrpOutstandingAmtPositive = false;\n    totalRefundAmount;\n    caseType;\n    // lsCcdNumber: any = ls.get<any>('ccdNumber');\n    payment;\n    paymentGroup;\n    paymentView;\n    //Order changes\n    orderDetail = [];\n    isAddRemissionEnable = false;\n    orderRemissionDetails = [];\n    orderLevelFees = [];\n    ispaymentGroupApisuccess = false;\n    cpoDetails = null;\n    orderRef;\n    orderStatus;\n    orderParty;\n    orderCreated;\n    orderCCDEvent;\n    serviceRequestValue;\n    orderAddBtnEnable;\n    orderFeesTotal = 0.00;\n    orderRemissionTotal = 0.00;\n    orderTotalPayments = 0.00;\n    orderPendingPayments = 0.00;\n    isCPODown;\n    test;\n    isPBA = false;\n    isIssueRefunfBtnEnable = false;\n    isAddRemissionBtnEnabled = false;\n    isRefundRemissionBtnEnable = false;\n    allowedRolesToAccessRefund = ['payments-refund-approver', 'payments-refund'];\n    isEligible4PBAPayment = ['pui-finance-manager', 'pui-user-manager', 'pui-organisation-manager', 'pui-case-manager'];\n    currentDate = new Date();\n    //isFromServiceRequestPage: boolean;\n    navigationpage;\n    remissionFeeAmt;\n    constructor(router, paymentViewService, bulkScaningPaymentService, caseTransactionsService, paymentLibComponent, OrderslistService) {\n      this.router = router;\n      this.paymentViewService = paymentViewService;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n      this.caseTransactionsService = caseTransactionsService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.OrderslistService = OrderslistService;\n    }\n    ngOnInit() {\n      this.navigationpage = '';\n      if (this.OrderslistService.getpaymentPageView() !== null) {\n        this.OrderslistService.getpaymentPageView().subscribe(data => this.paymentView = data);\n      }\n      if ((this.LOGGEDINUSERROLES === undefined || this.LOGGEDINUSERROLES.length === 0) && this.OrderslistService.getUserRolesList() !== null) {\n        this.OrderslistService.getUserRolesList().subscribe(data => this.LOGGEDINUSERROLES = data);\n      }\n      if (this.OrderslistService.getnavigationPageValue() !== null) {\n        this.OrderslistService.getnavigationPageValue().subscribe(data => this.navigationpage = data);\n      }\n      if (this.paymentView !== undefined && this.paymentView !== null && this.paymentView.payment_group_reference !== undefined && this.navigationpage === 'paymentdetailspage') {\n        this.goToPayementView(this.paymentView.payment_group_reference, this.paymentView.reference, this.paymentView.method);\n      }\n      this.isGrpOutstandingAmtPositive = false;\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.caseType = this.paymentLibComponent.CASETYPE;\n      if (this.paymentLibComponent.CCD_CASE_NUMBER === '') {\n        this.ccdCaseNumber = this.paymentLibComponent.EXC_REFERENCE;\n      }\n      this.excReference = this.paymentLibComponent.EXC_REFERENCE;\n      this.takePayment = this.paymentLibComponent.TAKEPAYMENT;\n      const serviceRequest = this.paymentLibComponent.SERVICEREQUEST;\n      if (serviceRequest !== undefined && serviceRequest.toString() === 'true') {\n        this.serviceRequestValue = 'true';\n      } else {\n        this.serviceRequestValue = 'false';\n        this.paymentLibComponent.isFromServiceRequestPage = false;\n      }\n      this.isBulkScanEnable = this.paymentLibComponent.ISBSENABLE;\n      this.dcnNumber = this.paymentLibComponent.DCN_NUMBER;\n      this.selectedOption = this.paymentLibComponent.SELECTED_OPTION.toLocaleLowerCase();\n      this.isTurnOff = this.paymentLibComponent.ISTURNOFF;\n      this.isStrategicFixEnable = this.paymentLibComponent.ISSFENABLE;\n      if (!this.isTurnOff) {\n        // if (this.lsCcdNumber !== this.ccdCaseNumber) {\n        //   this.router.navigateByUrl(`/ccd-search?takePayment=true`);\n        // }\n        this.caseTransactionsService.getPaymentGroups(this.ccdCaseNumber).subscribe(paymentGroups => {\n          this.isAnyFeeGroupAvilable = true;\n          this.paymentGroups = paymentGroups['payment_groups'];\n          this.calculateAmounts();\n          this.calculateOrderFeesAmounts();\n          this.calculateRefundAmount();\n          if (this.isFromServiceRequestPage) {\n            this.OrderslistService.getSelectedOrderRefId().subscribe(data => this.orderRef = data);\n            this.goToOrderViewDetailSection(this.orderRef);\n          } else {\n            this.paymentViewService.getPartyDetails(this.ccdCaseNumber).subscribe(response => {\n              this.cpoDetails = JSON.parse(response).content[0];\n            }, error => {\n              this.errorMessage = error ? error.replace(/\"/g, \"\") : \"\";\n              this.isCPODown = true;\n            });\n          }\n        }, error => {\n          this.errorMessage = error ? error.replace(/\"/g, \"\") : \"\";\n          this.isAnyFeeGroupAvilable = false;\n          this.setDefaults();\n        });\n      } else {\n        this.caseTransactionsService.getPaymentGroups(this.ccdCaseNumber).subscribe(paymentGroups => {\n          this.isAnyFeeGroupAvilable = true;\n          this.paymentGroups = paymentGroups['payment_groups'];\n          this.calculateAmounts();\n          this.calculateOrderFeesAmounts();\n          this.totalRefundAmount = this.calculateRefundAmount();\n          this.paymentViewService.getPartyDetails(this.ccdCaseNumber).subscribe(response => {\n            this.cpoDetails = JSON.parse(response).content[0];\n          }, error => {\n            this.errorMessage = error ? error.replace(/\"/g, \"\") : \"\";\n            this.setDefaults();\n            this.isCPODown = true;\n          });\n        }, error => {\n          this.errorMessage = error ? error.replace(/\"/g, \"\") : \"\";\n          this.isAnyFeeGroupAvilable = false;\n          this.setDefaults();\n        });\n      }\n      if (this.paymentGroups !== undefined) {\n        this.checkForExceptionRecord();\n      }\n      if (this.OrderslistService.getisFromServiceRequestPages() !== null) {\n        this.OrderslistService.getisFromServiceRequestPages().subscribe(data => this.isFromServiceRequestPage = data);\n      }\n    }\n    setDefaults() {\n      this.totalPayments = 0.00;\n      this.totalRemissions = 0.00;\n      this.totalNonOffPayments = 0.00;\n      this.totalFees = 0.00;\n    }\n    getAllocationStatus(payments) {\n      let paymentAllocation = payments.payment_allocation,\n        isAllocationStatusExist = paymentAllocation.length > 0;\n      return isAllocationStatusExist ? paymentAllocation[0].allocation_status : '-';\n      //return \"-\";\n    }\n\n    checkForExceptionRecord() {\n      if (this.paymentGroups.length === 0 && (this.selectedOption.toLocaleLowerCase() === 'ccdorexception' || this.selectedOption.toLocaleLowerCase() === 'rc')) {\n        this.bulkScaningPaymentService.getBSPaymentsByCCD(this.ccdCaseNumber).subscribe(recordData => {\n          if (recordData['data'] && recordData['data'].exception_record_reference && recordData['data'].exception_record_reference.length > 0 && recordData['data'].ccd_reference > 0) {\n            this.isExceptionRecord = false;\n            this.isAddFeeBtnEnabled = true;\n          }\n          if (recordData['data'] && recordData['data'].exception_record_reference && recordData['data'].exception_record_reference.length > 0 && recordData['data'].ccd_reference === undefined) {\n            this.isExceptionRecord = true;\n            this.isAddFeeBtnEnabled = false;\n          }\n          if (recordData['data'] && recordData['data'].exception_record_reference && recordData['data'].exception_record_reference.length === undefined && recordData['data'].ccd_reference > 0) {\n            this.isExceptionRecord = false;\n            this.isAddFeeBtnEnabled = true;\n          }\n        });\n      }\n      if (this.paymentGroups.length === 0 && this.selectedOption.toLocaleLowerCase() === 'dcn') {\n        if (this.paymentLibComponent.CCD_CASE_NUMBER.length > 0 && this.paymentLibComponent.EXC_REFERENCE.length > 0) {\n          this.isExceptionRecord = false;\n          this.isAddFeeBtnEnabled = true;\n        } else if (this.paymentLibComponent.CCD_CASE_NUMBER.length === 0 && this.paymentLibComponent.EXC_REFERENCE.length > 0) {\n          this.isExceptionRecord = true;\n          this.isAddFeeBtnEnabled = false;\n        } else {\n          this.isExceptionRecord = false;\n          this.isAddFeeBtnEnabled = true;\n        }\n      }\n      if (this.paymentGroups.length > 0) this.paymentGroups.forEach(paymentGroup => {\n        if (paymentGroup.payments) {\n          paymentGroup.payments.forEach(payment => {\n            if (payment.case_reference !== undefined && payment.ccd_case_number === undefined) {\n              this.isExceptionRecord = true;\n              this.isAddFeeBtnEnabled = false;\n            } else {\n              this.isExceptionRecord = false;\n              this.isAddFeeBtnEnabled = true;\n            }\n          });\n        }\n      });\n    }\n    calculateOrderFeesAmounts() {\n      let feesTotal = 0.00;\n      this.paymentGroups.forEach(paymentGroup => {\n        this.resetOrderVariables();\n        if (paymentGroup.fees) {\n          paymentGroup.fees.forEach(fee => {\n            this.orderFeesTotal = this.orderFeesTotal + fee.calculated_amount;\n            this.overPaymentAmount = this.overPaymentAmount + fee.over_payment;\n          });\n        }\n        if (paymentGroup.remissions) {\n          paymentGroup.remissions.forEach(remission => {\n            this.orderRemissionTotal = this.orderRemissionTotal + remission.hwf_amount;\n          });\n        }\n        if (paymentGroup.payments) {\n          const isFeeOverPaymentExist = this.overPaymentAmount === 0;\n          paymentGroup.payments.forEach(payment => {\n            if (isFeeOverPaymentExist) {\n              this.overPaymentAmount = this.overPaymentAmount + payment.over_payment;\n            }\n            if (payment.status.toUpperCase() === 'SUCCESS') {\n              this.orderTotalPayments = this.orderTotalPayments + payment.amount;\n            }\n          });\n        }\n        // this.orderPendingPayments = (this.orderFeesTotal - this.orderRemissionTotal) - this.orderTotalPayments;\n        if (paymentGroup.service_request_status === 'Paid') {\n          this.orderStatus = paymentGroup.service_request_status;\n          this.orderAddBtnEnable = false;\n        } else if (paymentGroup.service_request_status === 'Partially paid' || paymentGroup.service_request_status === 'Not paid') {\n          this.orderStatus = paymentGroup.service_request_status;\n          this.orderAddBtnEnable = true;\n        } else if (paymentGroup.service_request_status === 'Disputed') {\n          this.orderStatus = paymentGroup.service_request_status;\n          this.orderAddBtnEnable = true;\n        }\n        //this.orderLevelFees.push({orderRefId:paymentGroup['payment_group_reference'],orderTotalFees: this.orderFeesTotal,orderStatus: this.orderStatus,orderParty:'Santosh', orderCCDEvent:'Case Creation',orderCreated: new Date(), orderAddBtnEnable: this.orderAddBtnEnable}); this.cpoDetails['createdTimestamp']\n        if (this.cpoDetails !== null) {\n          this.orderLevelFees.push({\n            orderRefId: paymentGroup['payment_group_reference'],\n            orderTotalFees: this.orderFeesTotal,\n            orderStatus: this.orderStatus,\n            orderParty: this.cpoDetails['responsibleParty'],\n            orderCCDEvent: this.cpoDetails['action'],\n            orderCreated: paymentGroup['date_created'],\n            orderAddBtnEnable: this.orderAddBtnEnable\n          });\n        } else {\n          this.orderLevelFees.push({\n            orderRefId: paymentGroup['payment_group_reference'],\n            orderTotalFees: this.orderFeesTotal,\n            orderStatus: this.orderStatus,\n            orderParty: '',\n            orderCCDEvent: '',\n            orderCreated: paymentGroup['date_created'],\n            orderAddBtnEnable: this.orderAddBtnEnable\n          });\n        }\n        if (this.orderStatus !== 'Paid') {\n          this.OrderslistService.setOrdersList(this.orderLevelFees);\n        }\n      });\n    }\n    resetOrderVariables() {\n      this.orderFeesTotal = 0.00;\n      this.orderTotalPayments = 0.00;\n      this.orderRemissionTotal = 0.00;\n      this.orderPendingPayments = 0.00;\n      this.isAddFeeBtnEnabled = true;\n    }\n    goToOrderViewDetailSection(orderReferenceObj) {\n      if (this.isFromServiceRequestPage) {\n        this.OrderslistService.setOrderRefId(orderReferenceObj);\n        this.orderRef = orderReferenceObj;\n      } else {\n        this.OrderslistService.setOrderRefId(orderReferenceObj.orderRefId);\n        this.orderRef = orderReferenceObj.orderRefId;\n      }\n      this.orderFeesTotal = 0.00;\n      this.orderRemissionTotal = 0.00;\n      this.orderTotalPayments = 0.00;\n      this.orderPendingPayments = 0.00;\n      this.orderDetail = this.paymentGroups.filter(x => x.payment_group_reference === this.orderRef);\n      this.orderDetail.forEach(orderDetail => {\n        if (orderDetail.fees) {\n          orderDetail.fees.forEach(fee => {\n            this.orderFeesTotal = this.orderFeesTotal + fee.calculated_amount;\n          });\n        }\n        if (orderDetail.remissions) {\n          orderDetail.remissions.forEach(remission => {\n            this.orderRemissionTotal = this.orderRemissionTotal + remission.hwf_amount;\n          });\n          if (orderDetail.payments) {\n            this.payment = orderDetail.payments[0];\n            orderDetail.payments.forEach(payment => {\n              if (payment.status.toUpperCase() === 'SUCCESS') {\n                this.orderTotalPayments = this.orderTotalPayments + payment.amount;\n              }\n            });\n          }\n        }\n        this.orderStatus = orderDetail.service_request_status;\n      });\n      //this.orderPendingPayments = (this.orderFeesTotal - this.orderRemissionTotal) - this.orderTotalPayments;\n      // this.orderRef = orderReferenceObj.orderRefId;\n      // if (this.orderPendingPayments <= 0.00) {\n      //   this.orderStatus = 'Paid';\n      // } else if (this.orderFeesTotal > 0 && (this.orderTotalPayments > 0 || this.orderRemissionTotal > 0) && (this.orderTotalPayments < this.orderPendingPayments)) {\n      //   this.orderStatus = 'Partially paid'\n      // } else {\n      //   this.orderStatus = 'Not paid'\n      // }\n      if (this.cpoDetails !== null) {\n        this.orderParty = this.cpoDetails['responsibleParty'];\n        this.orderCreated = this.cpoDetails['createdTimestamp'];\n        this.orderCCDEvent = this.cpoDetails['action'];\n      } else {\n        this.orderParty = '';\n        this.orderCCDEvent = '';\n        this.orderCreated = orderReferenceObj.orderCreated;\n      }\n      this.viewStatus = 'order-full-view';\n    }\n    redirectToOrderFeeSearchPage(event, orderef) {\n      if (orderef.orderAddBtnEnable) {\n        event.preventDefault();\n        this.paymentLibComponent.bspaymentdcn = null;\n        this.paymentLibComponent.paymentGroupReference = orderef.orderRefId;\n        this.paymentLibComponent.isTurnOff = this.isTurnOff;\n        this.paymentLibComponent.viewName = 'fee-summary';\n      }\n    }\n    calculateAmounts() {\n      let feesTotal = 0.00,\n        paymentsTotal = 0.00,\n        remissionsTotal = 0.00,\n        nonOffLinePayment = 0.00;\n      this.paymentGroups.forEach(paymentGroup => {\n        if (paymentGroup.fees) {\n          paymentGroup.fees.forEach(fee => {\n            // new feature Apportionment toggle changes\n            if (!this.isTurnOff) {\n              if (fee.date_created) {\n                let a = fee.amount_due === undefined;\n                let b = fee.amount_due <= 0;\n                this.clAmountDue = a ? this.clAmountDue + fee.net_amount : b ? this.clAmountDue + 0 : this.clAmountDue + fee.amount_due;\n              }\n              fee['payment_group_reference'] = paymentGroup['payment_group_reference'];\n              this.fees.push(fee);\n            } else {\n              feesTotal = feesTotal + fee.calculated_amount;\n              this.fees.push(fee);\n            }\n          });\n        }\n        if (this.isTurnOff) {\n          this.totalFees = feesTotal;\n        }\n        if (paymentGroup.payments) {\n          paymentGroup.payments.forEach(payment => {\n            // new feature Apportionment toggle changes\n            if (!this.isTurnOff) {\n              let allocationLen = payment.payment_allocation;\n              if (payment.status.toUpperCase() === 'SUCCESS') {\n                paymentsTotal = paymentsTotal + payment.amount;\n                if (allocationLen.length === 0 || allocationLen.length > 0 && allocationLen[0].allocation_status === 'Allocated') {\n                  nonOffLinePayment = nonOffLinePayment + payment.amount;\n                }\n                if (allocationLen.length > 0) {\n                  this.nonPayments.push(payment);\n                }\n              }\n              if (allocationLen.length === 0) {\n                this.payments.push(payment);\n              }\n              payment.paymentGroupReference = paymentGroup.payment_group_reference;\n              this.allPayments.push(payment);\n            } else {\n              if (payment.status.toUpperCase() === 'SUCCESS') {\n                paymentsTotal = paymentsTotal + payment.amount;\n                this.payments.push(payment);\n              }\n              payment.paymentGroupReference = paymentGroup.payment_group_reference;\n              this.allPayments.push(payment);\n            }\n          });\n        }\n        this.totalPayments = paymentsTotal;\n        // new feature Apportionment toggle changes\n        if (!this.isTurnOff) {\n          this.totalNonOffPayments = nonOffLinePayment;\n        }\n        if (paymentGroup.remissions) {\n          paymentGroup.remissions.forEach(remisison => {\n            remissionsTotal = remissionsTotal + remisison.hwf_amount;\n            this.remissions.push(remisison);\n          });\n        }\n        this.totalRemissions = remissionsTotal;\n      });\n    }\n    calculateRefundAmount() {\n      if (!this.isTurnOff) {\n        let isNewPaymentGroup = false;\n        this.paymentGroups.forEach((paymentGroup, index) => {\n          let grpOutstandingAmount = 0.00,\n            feesTotal = 0.00,\n            paymentsTotal = 0.00,\n            remissionsTotal = 0.00,\n            fees = [];\n          if (paymentGroup.fees) {\n            // this.isFeeRecordsExist = true;\n            paymentGroup.fees.forEach(fee => {\n              feesTotal = feesTotal + fee.calculated_amount;\n              this.isRemissionsMatch = false;\n              if (paymentGroup.remissions) {\n                paymentGroup.remissions.forEach(rem => {\n                  if (rem.fee_code === fee.code) {\n                    this.isRemissionsMatch = true;\n                    fee['remissions'] = rem;\n                    // if(!fees.find(k => k.code=fee.code))\n                    // {\n                    fees.push(fee);\n                    //}\n                  }\n                });\n              }\n\n              if (!this.isRemissionsMatch) {\n                fees.push(fee);\n              }\n              if (fee.date_created) {\n                isNewPaymentGroup = true;\n              } else {\n                this.isHistoricGroupAvailable = true;\n                this.paymentGroups[index]['old'] = true;\n              }\n            });\n            this.paymentGroups[index].fees = fees;\n          }\n          if (paymentGroup.payments) {\n            paymentGroup.payments.forEach(payment => {\n              if (payment.status.toUpperCase() === 'SUCCESS') {\n                paymentsTotal = paymentsTotal + payment.amount;\n              }\n            });\n          }\n          if (paymentGroup.remissions) {\n            paymentGroup.remissions.forEach(remission => {\n              remissionsTotal = remissionsTotal + remission.hwf_amount;\n            });\n          }\n          grpOutstandingAmount = feesTotal - remissionsTotal - paymentsTotal;\n          if (grpOutstandingAmount > 0 && isNewPaymentGroup) {\n            this.isAnyFeeGroupAvilable = true;\n            this.isFeeRecordsExist = true;\n            this.paymentRef = paymentGroup.payment_group_reference;\n          }\n          if (paymentGroup.fees && paymentGroup.fees.length > 0 && grpOutstandingAmount <= 0 && isNewPaymentGroup) {\n            this.isAnyFeeGroupAvilable = false;\n          }\n        });\n        if (!isNewPaymentGroup && this.isHistoricGroupAvailable || !isNewPaymentGroup && !this.isHistoricGroupAvailable) {\n          this.isAnyFeeGroupAvilable = false;\n        }\n      } else {\n        let totalRefundAmount = 0,\n          isFeeAmountZero = false;\n        this.paymentGroups.forEach(paymentGroup => {\n          let grpOutstandingAmount = 0.00,\n            feesTotal = 0.00,\n            paymentsTotal = 0.00,\n            remissionsTotal = 0.00;\n          if (paymentGroup.fees) {\n            this.isFeeRecordsExist = true;\n            paymentGroup.fees.forEach(fee => {\n              feesTotal = feesTotal + fee.calculated_amount;\n              if (fee.calculated_amount === 0) {\n                isFeeAmountZero = true;\n              }\n            });\n          }\n          if (paymentGroup.payments) {\n            paymentGroup.payments.forEach(payment => {\n              if (payment.status.toUpperCase() === 'SUCCESS') {\n                paymentsTotal = paymentsTotal + payment.amount;\n              }\n            });\n          }\n          if (paymentGroup.remissions) {\n            paymentGroup.remissions.forEach(remission => {\n              remissionsTotal = remissionsTotal + remission.hwf_amount;\n            });\n          }\n          grpOutstandingAmount = feesTotal - remissionsTotal - paymentsTotal;\n          if (grpOutstandingAmount < 0) {\n            if (totalRefundAmount === 0) {\n              totalRefundAmount = grpOutstandingAmount;\n            } else {\n              totalRefundAmount = totalRefundAmount + grpOutstandingAmount;\n            }\n          } else if (grpOutstandingAmount > 0 || grpOutstandingAmount === 0 && isFeeAmountZero) {\n            this.isGrpOutstandingAmtPositive = true;\n          }\n        });\n        return totalRefundAmount * -1;\n      }\n    }\n    getGroupOutstandingAmount(paymentGroup) {\n      return this.bulkScaningPaymentService.calculateOutStandingAmount(paymentGroup);\n    }\n    redirectToFeeSearchPage(event) {\n      event.preventDefault();\n      let url = this.isBulkScanEnable ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n      url += this.isTurnOff ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n      url += this.isStrategicFixEnable ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n      url += `&caseType=${this.caseType}`;\n      this.router.navigateByUrl(`/fee-search?selectedOption=${this.selectedOption}&ccdCaseNumber=${this.ccdCaseNumber}${url}`);\n    }\n    addRemission(fee) {\n      if (this.chkForAddRemission(fee.code)) {\n        this.feeId = fee;\n        this.viewStatus = 'addremission';\n        this.paymentViewService.getApportionPaymentDetails(this.payment.reference).subscribe(paymentGroup => {\n          this.paymentGroup = paymentGroup;\n          this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(this.paymentLibComponent.paymentReference));\n          this.payment = this.paymentGroup.payments[0];\n          // const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n          // this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n        }, error => this.errorMessage = error ? error.replace(/\"/g, \"\") : \"\");\n      }\n    }\n    addRefundForRemission(payment, remission, fees) {\n      this.paymentViewService.getApportionPaymentDetails(payment.reference).subscribe(paymentGroup => {\n        this.paymentGroup = paymentGroup;\n        this.paymentGroup.payments = paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj.reference === payment.reference);\n        this.payment = this.paymentGroup.payments[0];\n        this.remissions = remission;\n        this.remissionFeeAmt = fees.filter(data => data.code === this.remissions['fee_code'])[0].net_amount;\n        this.viewStatus = 'addrefundforremission';\n        // const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n        // this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n      }, error => this.errorMessage = error);\n    }\n    redirectToremissionPage(event) {\n      event.preventDefault();\n      this.paymentLibComponent.viewName = 'remission';\n    }\n    goToServiceRequestPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.TAKEPAYMENT = false;\n      this.paymentLibComponent.SERVICEREQUEST = 'true';\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n      window.location.reload();\n    }\n    redirectToReportsPage(event) {\n      event.preventDefault();\n      this.router.navigateByUrl(`/reports?selectedOption=${this.selectedOption}&ccdCaseNumber=${this.ccdCaseNumber}`);\n    }\n    loadFeeSummaryPage(paymentGroup) {\n      this.paymentLibComponent.bspaymentdcn = null;\n      this.paymentLibComponent.paymentGroupReference = paymentGroup.payment_group_reference;\n      this.paymentLibComponent.isTurnOff = this.isTurnOff;\n      this.paymentLibComponent.viewName = 'fee-summary';\n    }\n    goToPaymentViewComponent(paymentGroup) {\n      this.paymentLibComponent.paymentMethod = paymentGroup.paymentMethod;\n      this.paymentLibComponent.paymentGroupReference = paymentGroup.paymentGroupReference;\n      this.paymentLibComponent.paymentReference = paymentGroup.paymentReference;\n      this.paymentLibComponent.viewName = 'payment-view';\n    }\n    goToPayementView(paymentGroupReference, paymentReference, paymentMethod) {\n      this.goToPaymentViewComponent({\n        paymentGroupReference,\n        paymentReference,\n        paymentMethod\n      });\n    }\n    selectedUnprocessedFeeEvent(unprocessedRecordId) {\n      if (unprocessedRecordId) {\n        if (this.isTurnOff) {\n          this.isAddFeeBtnEnabled = false;\n        }\n        this.isUnprocessedRecordSelected = true;\n      } else {\n        if (this.isTurnOff) {\n          this.isAddFeeBtnEnabled = true;\n        }\n        this.isUnprocessedRecordSelected = false;\n      }\n    }\n    getUnprocessedFeeCount(unProcessedRecordCount) {\n      this.unprocessedRecordCount = unProcessedRecordCount;\n    }\n    calculateAmountDue(fee) {\n      if (fee.date_created) {\n        return fee.amount_due !== undefined ? fee.amount_due : fee.net_amount;\n      } else {\n        return \"0.00\";\n      }\n    }\n    confirmRemoveFee(fee) {\n      this.isRemoveBtnDisabled = false;\n      this.feeId = fee;\n      this.viewStatus = 'feeRemovalConfirmation';\n    }\n    cancelRemoval() {\n      this.viewStatus = 'main';\n    }\n    removeFee(fee) {\n      this.isRemoveBtnDisabled = true;\n      this.paymentViewService.deleteFeeFromPaymentGroup(fee).subscribe(success => {\n        window.location.reload();\n      }, error => {\n        this.errorMessage = error;\n        this.isRemoveBtnDisabled = false;\n      });\n    }\n    isCheckAmountdueExist(amountDue) {\n      return typeof amountDue === 'undefined';\n    }\n    issueRefund(payment) {\n      if (payment !== null && payment !== undefined) {\n        if (this.chkIssueRefundBtnEnable(payment)) {\n          this.viewStatus = 'issuerefund';\n          this.payment = payment;\n          this.paymentLibComponent.isFromServiceRequestPage = true;\n          this.isRefundRemission = true;\n        }\n      }\n    }\n    chkForAddRemission(feeCode) {\n      if (this.chkForPBAPayment() && this.check4AllowedRoles2AccessRefund()) {\n        if (this.orderDetail[0]['remissions'].length > 0) {\n          for (const remission of this.orderDetail[0]['remissions']) {\n            if (remission.fee_code === feeCode) {\n              return false;\n            }\n          }\n        }\n        return true;\n      } else {\n        return false;\n      }\n    }\n    chkForPBAPayment() {\n      if (this.orderDetail !== null && this.orderDetail !== undefined) {\n        this.orderDetail.forEach(orderDetail => {\n          if (orderDetail.payments) {\n            orderDetail.payments.forEach(payment => {\n              if (payment.method.toLocaleLowerCase() === 'payment by account' && this.allowFurtherAccessAfter4Days(payment)) {\n                this.isPBA = true;\n              }\n            });\n          }\n        });\n        if (this.isPBA) {\n          return true;\n        } else {\n          return false;\n        }\n        ;\n      }\n    }\n    chkIssueRefundBtnEnable(payment) {\n      if (payment !== null && payment !== undefined) {\n        return payment.issue_refund && payment.refund_enable;\n      } else {\n        return false;\n      }\n      // if (this.check4AllowedRoles2AccessRefund() && this.allowFurtherAccessAfter4Days(payment) &&\n      //   payment.method === 'payment by account' && payment.status.toLocaleLowerCase() === 'success') {\n      //   this.isIssueRefunfBtnEnable = true;\n      // }\n      // if (this.isIssueRefunfBtnEnable) {\n      //   return true;\n      // } else {\n      //   return false;\n      // };\n    }\n\n    chkIsRefundRemissionBtnEnable() {\n      if (this.orderDetail !== null && this.orderDetail !== undefined) {\n        this.paymentLibComponent.isFromServiceRequestPage = true;\n        this.orderDetail.forEach(orderDetail => {\n          if (orderDetail.payments) {\n            orderDetail.payments.forEach(payment => {\n              if (payment.method.toLocaleLowerCase() === 'payment by account' && payment.status.toLocaleLowerCase() === 'success' && this.allowFurtherAccessAfter4Days(payment)) {\n                this.isRefundRemissionBtnEnable = true;\n              }\n            });\n          }\n        });\n        if (this.isRefundRemissionBtnEnable) {\n          return true;\n        } else {\n          return false;\n        }\n        ;\n      }\n    }\n    check4AllowedRoles2AccessRefund = () => {\n      return this.allowedRolesToAccessRefund.some(role => this.LOGGEDINUSERROLES.indexOf(role) !== -1);\n    };\n    check4AllowedRoles2AccessPBApayment = () => {\n      return this.isEligible4PBAPayment.some(role => this.LOGGEDINUSERROLES.indexOf(role) !== -1);\n    };\n    allowFurtherAccessAfter4Days = payment => {\n      if (payment !== null && payment !== undefined) {\n        let tmp4DayAgo = new Date();\n        tmp4DayAgo.setDate(tmp4DayAgo.getDate() - 4);\n        return tmp4DayAgo >= new Date(payment.date_created);\n      }\n    };\n    loadPBAAccountPage(orderRef) {\n      this.paymentLibComponent.pbaPayOrderRef = orderRef;\n      this.paymentLibComponent.viewName = 'pba-payment';\n    }\n    static ɵfac = function CaseTransactionsComponent_Factory(t) {\n      return new (t || CaseTransactionsComponent)(i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(BulkScaningPaymentService), i0.ɵɵdirectiveInject(CaseTransactionsService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: CaseTransactionsComponent,\n      selectors: [[\"ccpay-case-transactions\"]],\n      inputs: {\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        isTakePayment: \"isTakePayment\",\n        isFromServiceRequestPage: \"isFromServiceRequestPage\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 12,\n      vars: 8,\n      consts: [[4, \"ngIf\"], [\"type\", \"hidden\", \"value\", \"FEEREMOVALCONFIRMATION_2\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"fee\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"isFromServiceRequestPage\", \"payment\", \"ccdCaseNumber\", 4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"isFromServiceRequestPage\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"ccdCaseNumber\", 4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"feeamount\", \"remission\", \"isFromServiceRequestPage\", \"ccdCaseNumber\", 4, \"ngIf\"], [\"class\", \"govuk-grid-row govuk-grid__surplus-payments\", 4, \"ngIf\"], [\"class\", \"govuk-grid-row\", 4, \"ngIf\"], [1, \"govuk-grid-row\"], [\"class\", \" govuk-!-margin-top-9\", 4, \"ngIf\"], [1, \"govuk-grid-column-two-thirds\"], [1, \"govuk-heading-xl\"], [\"class\", \"govuk-grid-column-two-thirds govuk-!-padding-bottom-6 govuk-!-padding-top-6\", 4, \"ngIf\"], [1, \"govuk-grid-column-full\", \"govuk-!-padding-bottom-3\"], [1, \"govuk-section-break\", \"govuk-section-break--visible\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [\"class\", \"govuk-table__header govuk-table__header--custom\", \"scope\", \"col\", 4, \"ngIf\"], [1, \"govuk-table__body\"], [1, \"totalpayments\", \"govuk-table__row\"], [1, \"govuk-table__cell\", \"summary-table-font\"], [\"class\", \"govuk-table__cell case-transaction__color summary-table-font\", 4, \"ngIf\"], [\"class\", \"govuk-grid-column-two-thirds\", 4, \"ngIf\"], [1, \"govuk-grid-column-two-thirds\", \"govuk-!-padding-bottom-6\", \"govuk-!-padding-top-6\"], [1, \"heading-medium\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"govuk-table__header--custom\"], [1, \"govuk-table__cell\", \"case-transaction__color\", \"summary-table-font\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\"], [1, \"govuk-!-margin-top-9\"], [1, \"govuk-grid-column-full\"], [\"class\", \"govuk-table__body\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [\"class\", \"hmcts-banner\", 4, \"ngIf\"], [\"class\", \"panel panel-no--style\", 4, \"ngIf\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__cell\"], [\"class\", \"govuk-table__cell govuk-!-font-weight-bold\", 4, \"ngIf\"], [\"class\", \"govuk-table__cell\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-!-font-weight-bold\"], [3, \"ngClass\", \"click\"], [\"colspan\", \"7\", 1, \"govuk-table__cell\"], [1, \"hmcts-banner\"], [\"fill\", \"currentColor\", \"role\", \"presentation\", \"focusable\", \"false\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 25 25\", \"height\", \"25\", \"width\", \"25\", 1, \"hmcts-banner__icon\"], [\"d\", \"M13.7,18.5h-2.4v-2.4h2.4V18.5z M12.5,13.7c-0.7,0-1.2-0.5-1.2-1.2V7.7c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v4.8\\n                C13.7,13.2,13.2,13.7,12.5,13.7z M12.5,0.5c-6.6,0-12,5.4-12,12s5.4,12,12,12s12-5.4,12-12S19.1,0.5,12.5,0.5z\"], [1, \"hmcts-banner__message\"], [1, \"hmcts-banner__assistive\"], [1, \"panel\", \"panel-no--style\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-28\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-15\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [1, \"channel\", \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"capitalize\", \"whitespace-inherit\"], [\"colspan\", \"5\", 1, \"govuk-table__cell\"], [\"align\", \"right\", 1, \"govuk-grid-column-one-third\"], [1, \"button\", 3, \"ngClass\", \"click\"], [1, \"govuk-grid-column-two-thirds\", \"govuk-!-padding-bottom-6\"], [4, \"ngFor\", \"ngForOf\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\", 4, \"ngIf\"], [1, \"heading-small\"], [\"colspan\", \"6\", 1, \"govuk-table__cell\"], [1, \"govuk-grid-column-full\", \"govuk-grid-column-full--gr\"], [1, \"feeclass\"], [\"scope\", \"col\", 1, \"groupamount\", \"govuk-table__header\"], [\"class\", \"govuk-inset-text govuk-inset-text__no-border\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col1\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col2\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col3\", \"align-center\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col4\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col5\"], [\"class\", \"govuk-table__cell govuk-table__cell--col6 govuk-table__custom--col6\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col6\", \"govuk-table__custom--col6\"], [1, \"govuk-inset-text\", \"govuk-inset-text__no-border\"], [1, \"govuk-hidetext\"], [1, \"summary\"], [1, \"panel\", \"panel-border-narrow\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\"], [1, \"govuk-grid-row\", \"govuk-grid__surplus-payments\"], [1, \"govuk-grid-column-full\", \"govuk-grid__surplus-payments-col1\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\", 4, \"ngIf\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-13\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-10\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-14\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-20\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-9\"], [\"class\", \"govuk-table\", 3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"col-13\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"col-10\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"col-17\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"col-24\", \"whitespace-inherit\"], [1, \"govuk-table\", 3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\"], [1, \"govuk-grid-column-two-thirds\", \"govuk-heading-l\", \"govuk-!-margin-top-0\"], [\"class\", \" govuk-!-margin-bottom-6 alignself\", 4, \"ngIf\"], [\"class\", \"govuk-!-margin-bottom-3 col-55 alignself\", 4, \"ngIf\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-25\"], [\"class\", \"govuk-table__header govuk-table__header--custom col-25\", \"scope\", \"col\", 4, \"ngIf\"], [\"type\", \"hidden\", \"value\", \"ORDERIDDETAILS\", 1, \"iFrameDrivenImageValue\"], [1, \"paymentrequest\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-18\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-21\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col\"], [\"class\", \"govuk-table__body alignleft\", 4, \"ngIf\"], [3, \"click\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"PAYMENTSLENGTH\", \"ISTURNOFF\", \"ISSFENABLE\", \"PAYMENTREF\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\", 4, \"ngIf\"], [1, \"govuk-!-margin-bottom-6\", \"alignself\"], [1, \"govuk-!-margin-bottom-3\", \"col-55\", \"alignself\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"govuk-table__header--custom\", \"col-25\"], [\"class\", \"govuk-table__cell whitespace-inherit\", 4, \"ngIf\"], [1, \"alignright\"], [1, \"govuk-table__body\", \"alignleft\"], [\"colspan\", \"6\"], [3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"PAYMENTSLENGTH\", \"ISTURNOFF\", \"ISSFENABLE\", \"PAYMENTREF\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\"], [1, \"govuk-table__cell\", \"col-14\", \"whitespace-inherit\"], [3, \"ccdCaseNumber\", \"isTurnOff\", \"orderParty\", \"LOGGEDINUSERROLES\"], [1, \"govuk-grid-column-full\", 3, \"ngClass\"], [\"class\", \"govuk-grid-column-full\", 4, \"ngIf\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\"], [\"class\", \"govuk-table__cell  whitespace-inherit\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"of-visible\"], [\"href\", \"javascript:void(0)\", 3, \"click\", 4, \"ngIf\"], [\"colspan\", \"7\", 1, \"alignleft\"], [1, \"govuk-heading-l\", \"govuk-heading-lw\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-17\"], [\"class\", \"govuk-table\", 3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\", 4, \"ngIf\"], [1, \"govuk-table\", 3, \"IS_BUTTON_ENABLE\", \"LEVEL\", \"ISTURNOFF\", \"ISSFENABLE\", \"PAYMENTSLENGTH\", \"PAYMENTREF\", \"FEE_RECORDS_EXISTS\", \"IS_OS_AMT_AVAILABLE\", \"getUnprocessedFeeCount\", \"selectedUnprocessedFeeEvent\"], [3, \"ccdCaseNumber\", \"orderParty\"], [3, \"viewStatus\", \"orderRef\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"paymentGroupList\", \"LOGGEDINUSERROLES\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"isServiceRequest\", \"goToServiceRquestComponent\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"fee\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"isFromServiceRequestPage\", \"payment\", \"ccdCaseNumber\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"isFromServiceRequestPage\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"ccdCaseNumber\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"feeamount\", \"remission\", \"isFromServiceRequestPage\", \"ccdCaseNumber\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"govuk-button-grb\"], [\"novalidate\", \"\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\", \"ngClass\", \"click\"]],\n      template: function CaseTransactionsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\")(1, \"main\");\n          i0.ɵɵtemplate(2, CaseTransactionsComponent_ng_container_2_Template, 5, 4, \"ng-container\", 0);\n          i0.ɵɵtemplate(3, CaseTransactionsComponent_ng_container_3_Template, 72, 36, \"ng-container\", 0);\n          i0.ɵɵtemplate(4, CaseTransactionsComponent_ng_container_4_Template, 7, 5, \"ng-container\", 0);\n          i0.ɵɵelement(5, \"input\", 1, 2);\n          i0.ɵɵtemplate(7, CaseTransactionsComponent_ng_container_7_Template, 2, 14, \"ng-container\", 0);\n          i0.ɵɵtemplate(8, CaseTransactionsComponent_ccpay_add_remission_8_Template, 1, 12, \"ccpay-add-remission\", 3);\n          i0.ɵɵtemplate(9, CaseTransactionsComponent_ccpay_add_remission_9_Template, 1, 11, \"ccpay-add-remission\", 4);\n          i0.ɵɵtemplate(10, CaseTransactionsComponent_ccpay_add_remission_10_Template, 1, 12, \"ccpay-add-remission\", 5);\n          i0.ɵɵtemplate(11, CaseTransactionsComponent_ng_container_11_Template, 14, 2, \"ng-container\", 0);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"main1\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"main\" && !ctx.isTurnOff && ctx.takePayment);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.takePayment && ctx.viewStatus === \"main\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"order-full-view\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addremission\" && ctx.feeId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"issuerefund\" && ctx.payment);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addrefundforremission\" && ctx.payment);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"feeRemovalConfirmation\");\n        }\n      },\n      dependencies: function () {\n        return [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.LowerCasePipe, i3.CurrencyPipe, i3.DatePipe, ServiceRequestComponent, UnprocessedPaymentsComponent, AddRemissionComponent, RefundStatusComponent, CcdHyphensPipe, FormsModule, i1$1.ɵNgNoValidate, i1$1.NgControlStatusGroup, i1$1.NgForm];\n      },\n      styles: [\".govuk-grid-column-full--gr[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.disable[_ngcontent-%COMP%]{text-decoration:none;cursor:default;color:#fff;background-color:gray;pointer-events:none}.govuk-grid__surplus-payments[_ngcontent-%COMP%]{margin:20px 0}.govuk-grid__surplus-payments[_ngcontent-%COMP%] > .govuk-grid-column-full[_ngcontent-%COMP%]{padding:0}.govuk-grid__surplus-payments-col1[_ngcontent-%COMP%]{margin-bottom:10px}.govuk-inset-text__no-border[_ngcontent-%COMP%]{border-left:0px}.govuk-hidetext[_ngcontent-%COMP%]{font-size:22px;padding-bottom:10px}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.channel[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.govuk-heading-xl[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1px}.govuk-section-break--visible[_ngcontent-%COMP%]{border-bottom:2px solid black}.totalpayments.govuk-table__row[_ngcontent-%COMP%]{border-bottom:2px solid black!important}.govuk-inset-text[_ngcontent-%COMP%]{margin-left:1em}.govuk-button[_ngcontent-%COMP%]{font-size:19px;margin-bottom:0!important}.groupamount.govuk-table__header[_ngcontent-%COMP%], .govuk-table__cell.govuk-table__cell--col6.govuk-table__custom--col6[_ngcontent-%COMP%]{text-align:right}.feeclass[_ngcontent-%COMP%]{padding-left:.7em}.align-center[_ngcontent-%COMP%]{text-align:center}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:list-item}.case-transaction__color[_ngcontent-%COMP%]{color:#a71414;font-weight:700;text-align:center}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.govuk-inset-text__no-left-margin[_ngcontent-%COMP%]{margin-left:0;padding-left:0}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}.govuk-section-records-break[_ngcontent-%COMP%]{margin:10px;border-bottom:2px solid black!important}.exisitng-fees[_ngcontent-%COMP%]{margin-left:12px}.add-telephony-payment[_ngcontent-%COMP%]{margin-top:-2em;margin-left:-2em}.govuk-table__header--custom[_ngcontent-%COMP%]{text-align:center}.disable-link[_ngcontent-%COMP%]{cursor:default;pointer-events:none;color:#8e8c8c}.panel-no--style[_ngcontent-%COMP%]{border-left-style:none}.col-28[_ngcontent-%COMP%]{width:28%!important}.col-8[_ngcontent-%COMP%]{width:8%!important}.col-60[_ngcontent-%COMP%]{width:60%!important}.col-32[_ngcontent-%COMP%]{width:32%!important}.col-34[_ngcontent-%COMP%]{width:34%!important}.col-15[_ngcontent-%COMP%]{width:15%!important;padding-right:0!important;padding-left:0!important}.col-16[_ngcontent-%COMP%]{width:16%!important}.col-14[_ngcontent-%COMP%]{width:14%!important}.col-17[_ngcontent-%COMP%]{width:17%!important}.col-12[_ngcontent-%COMP%]{width:12%!important}.col-9[_ngcontent-%COMP%]{width:9%!important}.col-10[_ngcontent-%COMP%]{width:10%!important}.col-11[_ngcontent-%COMP%]{width:11%!important}.col-13[_ngcontent-%COMP%]{width:13%!important}.col-21[_ngcontent-%COMP%]{width:21%!important}.col-20[_ngcontent-%COMP%]{width:20%!important}.col-24[_ngcontent-%COMP%]{width:24%!important}.govuk-table__cell[_ngcontent-%COMP%], .govuk-table__header[_ngcontent-%COMP%]{padding:10px 10px 10px 0}.col-27[_ngcontent-%COMP%]{width:27%!important}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden!important}.col-19[_ngcontent-%COMP%]{width:19%!important;padding-left:0!important}.col-18[_ngcontent-%COMP%]{width:18%!important;padding-left:0!important;padding-right:0!important}.col-37[_ngcontent-%COMP%]{width:37%!important}.col-55[_ngcontent-%COMP%]{width:55%!important}.govuk-table[_ngcontent-%COMP%]{margin-bottom:1px}.hmcts-banner[_ngcontent-%COMP%] > .hmcts-banner__message[_ngcontent-%COMP%]{font-size:19px;line-height:1.25}.summary-table-font[_ngcontent-%COMP%]{font-size:36px}.order-class[_ngcontent-%COMP%]{padding-top:3em}.govuk-table__header[_ngcontent-%COMP%]:last-child{text-align:right}.govuk-table__cell[_ngcontent-%COMP%]:last-child{text-align:right}.govuk-grid-column-two-thirds[_ngcontent-%COMP%]{width:64%!important;padding:0!important}.govuk-heading-l[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.govuk-heading-lw[_ngcontent-%COMP%]{width:70%}.paymentrequest[_ngcontent-%COMP%]{margin-top:1em}.mar-17[_ngcontent-%COMP%]{margin-left:17px}.col-61[_ngcontent-%COMP%]{width:61px!important;padding:0!important}.error[_ngcontent-%COMP%]{width:960px;margin:auto}.summarypage[_ngcontent-%COMP%]{padding-left:36em;margin-top:2em}.summarypagealign[_ngcontent-%COMP%]{width:100%;text-align:right;margin-top:2em}.govuk-inset-text[_ngcontent-%COMP%]{font-size:2.1875rem}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word}.totalPay[_ngcontent-%COMP%]{padding-right:14px;float:right;margin-top:2em}.govuk-back-link[_ngcontent-%COMP%]{font-size:1.5rem!important}.totalfees[_ngcontent-%COMP%]{float:right;margin-top:2em}.refundBtn[_ngcontent-%COMP%]{text-align:right;width:18%}.col-25[_ngcontent-%COMP%]{width:25%!important}.of-visible[_ngcontent-%COMP%]{overflow:visible!important}.col-51[_ngcontent-%COMP%]{width:51%!important}.alignright[_ngcontent-%COMP%]{text-align:right}.alignleft[_ngcontent-%COMP%]{text-align:left}.alignself[_ngcontent-%COMP%]{align-self:flex-end}.maxwidth[_ngcontent-%COMP%]{width:100%}.govuk-padding-btm[_ngcontent-%COMP%]{padding-bottom:50px}.govuk-margin-btm-20px[_ngcontent-%COMP%]{margin-bottom:20px}\"]\n    });\n  }\n  return CaseTransactionsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\nlet ServiceRequestComponent = /*#__PURE__*/(() => {\n  class ServiceRequestComponent {\n    paymentLibComponent;\n    paymentViewService;\n    OrderslistService;\n    notificationService;\n    cd;\n    router;\n    LOGGEDINUSERROLES;\n    viewStatus;\n    orderDetail;\n    orderRef;\n    orderStatus;\n    orderParty;\n    orderCreated;\n    orderCCDEvent;\n    orderFeesTotal;\n    orderTotalPayments;\n    orderRemissionTotal;\n    paymentGroupList;\n    takePayment;\n    ccdCaseNumber;\n    isServiceRequest;\n    goToServiceRquestComponent = new EventEmitter();\n    viewCompStatus;\n    servicerequest;\n    paymentType;\n    excReference;\n    paymentGroups = [];\n    payments = [];\n    nonPayments = [];\n    allPayments = [];\n    remissions = [];\n    paymentFees;\n    fees;\n    errorMessage;\n    totalFees;\n    totalPayments;\n    totalNonOffPayments;\n    totalRemissions;\n    selectedOption;\n    dcnNumber;\n    paymentRef;\n    isTurnOff;\n    isRefundRemission = true;\n    isStrategicFixEnable;\n    isAddFeeBtnEnabled = true;\n    isExceptionRecord = false;\n    isUnprocessedRecordSelected = false;\n    exceptionRecordReference;\n    isAnyFeeGroupAvilable = true;\n    isHistoricGroupAvailable = false;\n    isBulkScanEnable;\n    isRemissionsMatch;\n    isRemoveBtnDisabled = false;\n    feeId;\n    clAmountDue = 0;\n    unprocessedRecordCount;\n    isFeeRecordsExist = false;\n    isGrpOutstandingAmtPositive = false;\n    totalRefundAmount;\n    caseType;\n    isConfirmationBtnDisabled;\n    refundReference;\n    refundAmount;\n    payment;\n    paymentGroup;\n    paymentView;\n    isAddRemissionEnable = false;\n    orderRemissionDetails = [];\n    orderLevelFees = [];\n    cpoDetails = null;\n    serviceRequestValue;\n    orderAddBtnEnable;\n    isFromPaymentDetailPage;\n    contactDetailsObj;\n    notification;\n    isCPODown;\n    test;\n    isPBA = false;\n    isIssueRefunfBtnEnable = false;\n    isAddRemissionBtnEnabled = false;\n    isRefundRemissionBtnEnable = false;\n    allowedRolesToAccessRefund = ['payments-refund-approver', 'payments-refund'];\n    isFromServiceRequestPage;\n    navigationpage;\n    remissionFeeAmt;\n    isContinueBtnDisabled = true;\n    isFullyRefund;\n    templateInstructionType;\n    notificationPreview;\n    constructor(paymentLibComponent, paymentViewService, OrderslistService, notificationService, cd, router) {\n      this.paymentLibComponent = paymentLibComponent;\n      this.paymentViewService = paymentViewService;\n      this.OrderslistService = OrderslistService;\n      this.notificationService = notificationService;\n      this.cd = cd;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.isTurnOff = this.paymentLibComponent.ISTURNOFF;\n      this.isServiceRequest = 'false';\n      if (this.viewStatus === undefined) {\n        this.viewStatus = this.paymentLibComponent.viewName;\n      }\n      if (this.paymentLibComponent.isFromServiceRequestPage && this.paymentLibComponent.isFromPaymentDetailPage) {\n        this.OrderslistService.getorderRefs().subscribe(data => this.orderRef = data);\n        this.OrderslistService.getorderCCDEvents().subscribe(data => this.orderCCDEvent = data);\n        this.OrderslistService.getorderCreateds().subscribe(data => this.orderCreated = data);\n        this.OrderslistService.getorderDetail().subscribe(data => this.orderDetail = data);\n        this.OrderslistService.getorderPartys().subscribe(data => this.orderParty = data);\n        this.OrderslistService.getorderRemissionTotals().subscribe(data => this.orderRemissionTotal = data);\n        this.OrderslistService.getorderFeesTotals().subscribe(data => this.orderFeesTotal = data);\n        this.OrderslistService.getoorderTotalPaymentss().subscribe(data => this.orderTotalPayments = data);\n      }\n      if (this.paymentLibComponent.isFromServiceRequestPage && this.paymentLibComponent.TAKEPAYMENT) {\n        this.isServiceRequest = 'false';\n      }\n    }\n    goToServiceRequestPage() {\n      this.goToServiceRquestComponent.emit();\n    }\n    goToCaseTransationPage(event) {\n      event.preventDefault();\n      this.OrderslistService.setnavigationPage('servicerequestpage');\n      this.OrderslistService.setisFromServiceRequestPage(false);\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.ISBSENABLE = true;\n      this.paymentLibComponent.isTakePayment = this.paymentLibComponent.TAKEPAYMENT;\n      if (this.takePayment) {\n        this.paymentLibComponent.isTakePayment = this.takePayment;\n      }\n      //this.paymentLibComponent.SERVICEREQUEST = \"true\";\n      this.paymentLibComponent.isFromServiceRequestPage = false;\n      if (this.isServiceRequest !== 'false') {\n        this.paymentLibComponent.isFromServiceRequestPage = true;\n      }\n      this.paymentLibComponent.isFromRefundStatusPage = false;\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.resetOrderData();\n      // Check we on XUI\n      if (this.router.url.startsWith('/cases/case-details/')) {\n        // Use ccpay-case-transactions component\n        this.viewStatus = 'case-transactions';\n      } else {\n        // Reload Paybubble case-transactions page.\n        let partUrl = this.paymentLibComponent.ISBSENABLE ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n        partUrl += this.paymentLibComponent.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n        if (this.isServiceRequest === 'false') {\n          partUrl += this.paymentLibComponent.TAKEPAYMENT ? '&takePayment=true' : '&takePayment=false';\n        }\n        partUrl += this.isStrategicFixEnable ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n        partUrl += this.isServiceRequest !== 'false' ? '&servicerequest=true' : '&servicerequest=false';\n        partUrl += `&caseType=${this.paymentLibComponent.CASETYPE}`;\n        const url = `/payment-history/${this.paymentLibComponent.CCD_CASE_NUMBER}?view=case-transactions&selectedOption=${this.paymentLibComponent.SELECTED_OPTION}${partUrl}`;\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        this.router.onSameUrlNavigation = 'reload';\n        this.router.navigateByUrl(url);\n      }\n    }\n    addRemission(fee) {\n      if (this.chkIsAddRemissionBtnEnable(fee)) {\n        this.feeId = fee;\n        this.viewStatus = 'addremission';\n        this.payment = this.orderDetail[0].payments[0];\n        this.paymentViewService.getApportionPaymentDetails(this.orderDetail[0].payments[0].reference).subscribe(paymentGroup => {\n          this.paymentGroup = paymentGroup;\n          this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(this.paymentLibComponent.paymentReference));\n          this.payment = this.paymentGroup.payments[0];\n          //  const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n          //  this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n        }, error => this.errorMessage = error.replace(/\"/g, \"\"));\n      }\n    }\n    addRefundForRemission(payment, remission, fees) {\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n      this.paymentViewService.getApportionPaymentDetails(payment.reference).subscribe(paymentGroup => {\n        this.paymentGroup = paymentGroup;\n        this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj.reference === payment.reference);\n        this.payment = this.paymentGroup.payments[0];\n        this.remissions = remission;\n        this.remissionFeeAmt = fees.filter(data => data.code === this.remissions['fee_code'])[0].net_amount;\n        this.viewStatus = 'addrefundforremission';\n        // const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n        // this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n      }, error => this.errorMessage = error);\n    }\n    cancelRemoval() {\n      this.viewStatus = 'main';\n    }\n    removeFee(fee) {\n      this.isRemoveBtnDisabled = true;\n      this.paymentViewService.deleteFeeFromPaymentGroup(fee).subscribe(success => {\n        window.location.reload();\n      }, error => {\n        this.errorMessage = error;\n        this.isRemoveBtnDisabled = false;\n      });\n    }\n    issueRefund(payment) {\n      if (payment !== null && payment !== undefined) {\n        if (this.chkIsIssueRefundBtnEnable(payment)) {\n          this.paymentViewService.getApportionPaymentDetails(payment.reference).subscribe(paymentGroup => {\n            paymentGroup.payments = paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(payment.reference));\n            if (payment.over_payment > 0) {\n              this.viewStatus = '';\n              this.payment = payment;\n              this.paymentGroupList = paymentGroup;\n              this.viewCompStatus = 'overpayment';\n            } else {\n              this.viewStatus = 'issuerefund';\n              this.viewCompStatus = '';\n              this.paymentFees = paymentGroup.fees;\n              this.payment = payment;\n              this.paymentLibComponent.isFromServiceRequestPage = true;\n              this.isRefundRemission = true;\n            }\n          }, error => this.errorMessage = error);\n        }\n      }\n    }\n    goToPayementView(paymentGroupReference, paymentReference, paymentMethod) {\n      this.goToPaymentViewComponent({\n        paymentGroupReference,\n        paymentReference,\n        paymentMethod\n      });\n    }\n    goToPaymentViewComponent(paymentGroup) {\n      this.paymentLibComponent.paymentMethod = paymentGroup.paymentMethod;\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n      this.paymentLibComponent.paymentGroupReference = paymentGroup.paymentGroupReference;\n      this.paymentLibComponent.paymentReference = paymentGroup.paymentReference;\n      this.OrderslistService.setOrderRef(this.orderRef);\n      this.OrderslistService.setorderCCDEvent(this.orderCCDEvent);\n      this.OrderslistService.setorderCreated(this.orderCreated);\n      this.OrderslistService.setorderDetail(this.orderDetail);\n      this.OrderslistService.setorderParty(this.orderParty);\n      this.OrderslistService.setorderTotalPayments(this.orderTotalPayments);\n      this.OrderslistService.setorderRemissionTotal(this.orderRemissionTotal);\n      this.OrderslistService.setorderFeesTotal(this.orderFeesTotal);\n      this.viewStatus = 'payment-view';\n    }\n    chkIsIssueRefundBtnEnable(payment) {\n      if (payment !== null && payment !== undefined) {\n        return payment.issue_refund && payment.refund_enable;\n      } else {\n        return false;\n      }\n    }\n    chkIsAddRefundBtnEnable(remission) {\n      if (remission !== null && remission !== undefined) {\n        return remission.add_refund;\n      } else {\n        return false;\n      }\n    }\n    chkIsAddRemissionBtnEnable(fee) {\n      if (fee !== null && fee !== undefined) {\n        return fee.add_remission && fee.remission_enable;\n      } else {\n        return false;\n      }\n    }\n    resetOrderData() {\n      this.OrderslistService.setOrderRef(null);\n      this.OrderslistService.setorderCCDEvent(null);\n      this.OrderslistService.setorderCreated(null);\n      this.OrderslistService.setorderDetail(null);\n      this.OrderslistService.setorderParty(null);\n      this.OrderslistService.setorderTotalPayments(null);\n      this.OrderslistService.setorderRemissionTotal(null);\n      this.OrderslistService.setorderFeesTotal(null);\n    }\n    selectPymentOption(paymentType) {\n      this.paymentType = paymentType;\n      this.isContinueBtnDisabled = false;\n    }\n    goToPaymentViewComp() {\n      this.viewCompStatus = '';\n      this.viewStatus = 'paymentview';\n    }\n    continuePayment(paymentgrp) {\n      if (this.paymentType === 'op') {\n        this.isFullyRefund = false;\n        this.viewStatus = '';\n        this.viewCompStatus = 'overPaymentAddressCapture';\n      } else if (this.paymentType === 'fp') {\n        this.isFullyRefund = true;\n        this.paymentGroupList = paymentgrp;\n        this.viewStatus = 'issuerefund';\n        this.viewCompStatus = \"\";\n        this.isRefundRemission = true;\n        this.paymentLibComponent.isFromPaymentDetailPage = true;\n        this.isFromPaymentDetailPage = true;\n        this.isFromServiceRequestPage = this.paymentLibComponent.isFromServiceRequestPage;\n      }\n    }\n    getContactDetails(obj) {\n      this.contactDetailsObj = obj;\n      this.viewStatus = '';\n      this.viewCompStatus = 'overpaymentcheckandanswer';\n      this.getTemplateInstructionType(this.paymentGroupList.payments[0]);\n      this.notificationPreview = false;\n    }\n    gotoPaymentSelectPage(event) {\n      event.preventDefault();\n      this.viewStatus = '';\n      this.viewCompStatus = 'overpayment';\n    }\n    gotoAddressPage(note) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.errorMessage = '';\n      this.viewStatus = '';\n      this.viewCompStatus = 'overPaymentAddressCapture';\n    }\n    processRefund() {\n      this.isConfirmationBtnDisabled = true;\n      this.errorMessage = '';\n      const obj = this.paymentGroupList.fees[0];\n      this.fees = [{\n        id: obj.id,\n        code: obj.code,\n        version: obj.version,\n        apportion_amount: obj.apportion_amount,\n        calculated_amount: obj.calculated_amount,\n        updated_volume: obj.updated_volume ? obj.updated_volume : obj.volume,\n        volume: obj.volume,\n        refund_amount: this.getOverPaymentValue()\n      }];\n      const requestBody = new PostRefundRetroRemission(this.contactDetailsObj, this.fees, this.paymentGroupList.payments[0].reference, 'RR037', this.getOverPaymentValue(), 'op');\n      this.paymentViewService.postRefundsReason(requestBody).subscribe(response => {\n        if (JSON.parse(response)) {\n          this.viewCompStatus = '';\n          this.viewStatus = 'refundconfirmationpage';\n          this.refundReference = JSON.parse(response).refund_reference;\n          this.refundAmount = JSON.parse(response).refund_amount;\n        }\n      }, error => {\n        this.errorMessage = error;\n        this.isConfirmationBtnDisabled = false;\n        this.cd.detectChanges();\n      });\n    }\n    getOverPaymentValue() {\n      let feesOverPayment = 0;\n      this.paymentGroupList.fees.forEach(fee => {\n        feesOverPayment += fee.over_payment;\n      });\n      return feesOverPayment > 0 ? feesOverPayment : this.paymentGroupList.payments[0].over_payment;\n    }\n    getTemplateInstructionType(payment) {\n      if (payment == undefined || payment == null) {\n        this.templateInstructionType = 'Template';\n      } else {\n        this.templateInstructionType = this.notificationService.getNotificationInstructionType(payment.channel, payment.method);\n      }\n    }\n    showNotificationPreview() {\n      this.notificationPreview = true;\n    }\n    hideNotificationPreview() {\n      this.notificationPreview = false;\n    }\n    static ɵfac = function ServiceRequestComponent_Factory(t) {\n      return new (t || ServiceRequestComponent)(i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(OrderslistService), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1$2.Router));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ServiceRequestComponent,\n      selectors: [[\"ccpay-service-request\"]],\n      inputs: {\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        viewStatus: \"viewStatus\",\n        orderDetail: \"orderDetail\",\n        orderRef: \"orderRef\",\n        orderStatus: \"orderStatus\",\n        orderParty: \"orderParty\",\n        orderCreated: \"orderCreated\",\n        orderCCDEvent: \"orderCCDEvent\",\n        orderFeesTotal: \"orderFeesTotal\",\n        orderTotalPayments: \"orderTotalPayments\",\n        orderRemissionTotal: \"orderRemissionTotal\",\n        paymentGroupList: \"paymentGroupList\",\n        takePayment: \"takePayment\",\n        ccdCaseNumber: \"ccdCaseNumber\",\n        isServiceRequest: \"isServiceRequest\"\n      },\n      outputs: {\n        goToServiceRquestComponent: \"goToServiceRquestComponent\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([{\n        provide: 'SERVICE_REQUEST',\n        useExisting: forwardRef(() => ServiceRequestComponent)\n      }]), i0.ɵɵStandaloneFeature],\n      decls: 12,\n      vars: 11,\n      consts: [[4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"fee\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"isServiceRequest\", \"paymentGroupRef\", \"isFromServiceRequestPage\", \"payment\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", 4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"isFromServiceRequestPage\", \"isFromPaymentDetailPage\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"isFullyRefund\", \"fees\", \"LOGGEDINUSERROLES\", \"isFromRefundListPage\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", 4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"feeamount\", \"remission\", \"isFromServiceRequestPage\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", 4, \"ngIf\"], [3, \"LOGGEDINUSERROLES\", \"isTurnOff\", \"isTakePayment\", \"caseType\", \"orderRef\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"isServiceRequest\", 4, \"ngIf\"], [1, \"over-payment\"], [3, \"isFromServiceRequestPage\", \"LOGGEDINUSERROLES\", \"isTakePayment\", 4, \"ngIf\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [\"class\", \"govuk-breadcrumbs__list-item\", 4, \"ngIf\"], [1, \"govuk-grid-column-full\"], [1, \"column\"], [1, \"heading-large\", \"govuk-!-margin-top-0\"], [1, \"section\"], [1, \"bold\", \"tb-col-w\"], [1, \"govuk-grid-column-full\", \"order-class\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"class\", \"govuk-table__header col-51\", \"scope\", \"col\", 4, \"ngIf\"], [\"class\", \"govuk-table__header col-51\", \"scope\", \"col\", \"colspan\", \"2\", 4, \"ngIf\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [\"class\", \"govuk-table__header\", \"scope\", \"col\", 4, \"ngIf\"], [\"class\", \"govuk-table__body\", 4, \"ngFor\", \"ngForOf\"], [1, \"maxwidth\"], [1, \"totalfees\"], [4, \"ngFor\", \"ngForOf\"], [1, \"govuk-breadcrumbs__list-item\"], [\"href\", \"javascript:void(0)\", 1, \"govuk-back-link\", 3, \"click\"], [\"href\", \"javascript:void(0)\", \"id\", \"bckLnksize\", 1, \"govuk-back-link\", 3, \"click\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-51\"], [\"scope\", \"col\", \"colspan\", \"2\", 1, \"govuk-table__header\", \"col-51\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"govuk-table__cell col-60 whitespace-inherit\", 4, \"ngIf\"], [\"class\", \"govuk-table__cell col-60 whitespace-inherit\", \"colspan\", \"2\", 4, \"ngIf\"], [1, \"govuk-table__cell\"], [\"class\", \"govuk-table__cell alignright\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"col-60\", \"whitespace-inherit\"], [\"colspan\", \"2\", 1, \"govuk-table__cell\", \"col-60\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"alignright\"], [1, \"govuk-button\", \"govuk-button--secondary\", 3, \"disabled\", \"click\"], [\"class\", \"govuk-table__row\", 4, \"ngIf\"], [\"colspan\", \"7\", 1, \"govuk-table__cell\", \"alignleft\"], [\"class\", \"govuk-grid-column-full order-class\", 4, \"ngIf\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-27\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"whitespace-inherit\", \"refundBtn\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [1, \"summarypagealign\"], [1, \"summarypage\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"refundBtn\", \"whitespace-inherit\"], [\"class\", \"govuk-grid-column-full\", 4, \"ngIf\"], [1, \"heading-medium\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-25\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [1, \"mar-17\"], [1, \"totalPay\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"fee\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"isServiceRequest\", \"paymentGroupRef\", \"isFromServiceRequestPage\", \"payment\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"isFromServiceRequestPage\", \"isFromPaymentDetailPage\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"isFullyRefund\", \"fees\", \"LOGGEDINUSERROLES\", \"isFromRefundListPage\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"feeamount\", \"remission\", \"isFromServiceRequestPage\", \"ccdCaseNumber\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takepayment\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\"], [3, \"LOGGEDINUSERROLES\", \"isTurnOff\", \"isTakePayment\", \"caseType\", \"orderRef\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"isServiceRequest\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"govuk-button-grb\"], [\"novalidate\", \"\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"OVERPAYMENTPAGE\"], [\"myInput\", \"\"], [1, \"heading-large\"], [\"id\", \"how-contacted-conditional-hint govuk-font19px\", 1, \"form-hint\"], [1, \"govuk-form-group\"], [1, \"govuk-fieldset\"], [1, \"govuk-fieldset__legend\", \"govuk-fieldset__legend--l\"], [\"data-module\", \"govuk-radios\", 1, \"govuk-radios\"], [1, \"govuk-radios__item\"], [\"id\", \"over-payment\", \"name\", \"over-payment\", \"type\", \"radio\", \"value\", \"op\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"where-do-you-live\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [\"id\", \"full-payment\", \"name\", \"over-payment\", \"type\", \"radio\", \"value\", \"fp\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"where-do-you-live-2\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [1, \"govuk-button\", \"govuk-button--secondary\", \"over-payment-alignment\", \"govuk-font19px\", 3, \"click\"], [1, \"govuk-button\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"OVERPAYMENTADDRESSCAPTUREPAGE\"], [1, \"govuk-heading-l\"], [1, \"govuk-heading-m\", \"govuk-font19px\"], [\"id\", \"how-contacted-conditional-hint\", 1, \"govuk-hint\", \"govuk-font19px\"], [3, \"addressObj\", \"assignContactDetails\", \"redirectToIssueRefund\"], [\"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDREFUNDFORREMISSION\"], [1, \"govuk-table\", \"govuk-table-mb\"], [1, \"govuk-table__cell\", \"govuk-!-font-weight-bold\"], [\"class\", \"contactDetails-width\", 4, \"ngIf\"], [1, \"govuk-link\", \"right\", 3, \"click\"], [\"href\", \"Javascript:void(0)\", \"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", \"over-payment-alignment\", \"govuk-font19px\", 3, \"click\"], [\"type\", \"submit\", 3, \"ngClass\", \"click\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", \"govuk-font19px\", 3, \"click\"], [1, \"contactDetails-width\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"right\", 3, \"click\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"RETROREMISSIONREFUNDCONFIRMATIONPAGE\"], [1, \"govuk-grid-row\", \"pagesize\"], [1, \"govuk-panel\", \"govuk-panel--confirmation\"], [1, \"govuk-panel__title\"], [1, \"govuk-panel__body\"], [1, \"govuk-body\", \"white\"], [1, \"govuk-body\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", \"pointer\", 3, \"click\"], [3, \"isFromServiceRequestPage\", \"LOGGEDINUSERROLES\", \"isTakePayment\"]],\n      template: function ServiceRequestComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ServiceRequestComponent_ng_container_0_Template, 58, 24, \"ng-container\", 0);\n          i0.ɵɵtemplate(1, ServiceRequestComponent_ccpay_add_remission_1_Template, 1, 24, \"ccpay-add-remission\", 1);\n          i0.ɵɵtemplate(2, ServiceRequestComponent_ccpay_add_remission_2_Template, 1, 26, \"ccpay-add-remission\", 2);\n          i0.ɵɵtemplate(3, ServiceRequestComponent_ccpay_add_remission_3_Template, 1, 23, \"ccpay-add-remission\", 3);\n          i0.ɵɵtemplate(4, ServiceRequestComponent_ccpay_payment_view_4_Template, 1, 14, \"ccpay-payment-view\", 4);\n          i0.ɵɵtemplate(5, ServiceRequestComponent_ng_container_5_Template, 14, 2, \"ng-container\", 0);\n          i0.ɵɵelementStart(6, \"div\", 5);\n          i0.ɵɵtemplate(7, ServiceRequestComponent_ng_container_7_Template, 30, 14, \"ng-container\", 0);\n          i0.ɵɵtemplate(8, ServiceRequestComponent_ng_container_8_Template, 14, 5, \"ng-container\", 0);\n          i0.ɵɵtemplate(9, ServiceRequestComponent_ng_container_9_Template, 63, 27, \"ng-container\", 0);\n          i0.ɵɵtemplate(10, ServiceRequestComponent_ng_container_10_Template, 20, 7, \"ng-container\", 0);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, ServiceRequestComponent_ccpay_case_transactions_11_Template, 1, 3, \"ccpay-case-transactions\", 6);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"order-full-view\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addremission\" && ctx.feeId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"issuerefund\" && ctx.payment);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addrefundforremission\" && ctx.payment);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"payment-view\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"feeRemovalConfirmation\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overpayment\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overPaymentAddressCapture\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"refundconfirmationpage\" && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"case-transactions\");\n        }\n      },\n      dependencies: function () {\n        return [AddRemissionComponent, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.CurrencyPipe, i3.DatePipe, PaymentViewComponent, ContactDetailsComponent, NotificationPreviewComponent, CaseTransactionsComponent, CcdHyphensPipe];\n      },\n      styles: [\".govuk-grid-column-full--gr[_ngcontent-%COMP%]{position:relative;margin-bottom:10px}.disable[_ngcontent-%COMP%]{text-decoration:none;cursor:default;color:#fff;background-color:gray;pointer-events:none}.pagesize[_ngcontent-%COMP%]{margin:2em;width:97%}.govuk-grid__surplus-payments[_ngcontent-%COMP%]{margin:20px 0}.govuk-grid__surplus-payments[_ngcontent-%COMP%] > .govuk-grid-column-full[_ngcontent-%COMP%]{padding:0}.govuk-grid__surplus-payments-col1[_ngcontent-%COMP%]{margin-bottom:10px}.govuk-inset-text__no-border[_ngcontent-%COMP%]{border-left:0px}.govuk-hidetext[_ngcontent-%COMP%]{font-size:22px;padding-bottom:10px}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.channel[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.govuk-heading-xl[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1px}.govuk-section-break--visible[_ngcontent-%COMP%]{border-bottom:2px solid black}.totalpayments.govuk-table__row[_ngcontent-%COMP%]{border-bottom:2px solid black!important}.govuk-inset-text[_ngcontent-%COMP%]{margin-left:1em}.govuk-button[_ngcontent-%COMP%]{font-size:19px;margin-bottom:0!important}.groupamount.govuk-table__header[_ngcontent-%COMP%], .govuk-table__cell.govuk-table__cell--col6.govuk-table__custom--col6[_ngcontent-%COMP%]{text-align:right}.feeclass[_ngcontent-%COMP%]{padding-left:.7em}.align-center[_ngcontent-%COMP%]{text-align:center}details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{display:list-item}.case-transaction__color[_ngcontent-%COMP%]{color:#a71414;font-weight:700;text-align:center}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.govuk-inset-text__no-left-margin[_ngcontent-%COMP%]{margin-left:0;padding-left:0}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}.govuk-section-records-break[_ngcontent-%COMP%]{margin:10px;border-bottom:2px solid black!important}.exisitng-fees[_ngcontent-%COMP%]{margin-left:12px}.add-telephony-payment[_ngcontent-%COMP%]{margin-top:-2em;margin-left:-2em}.govuk-table__header--custom[_ngcontent-%COMP%]{text-align:center}.disable-link[_ngcontent-%COMP%]{cursor:default;pointer-events:none;color:#8e8c8c}.panel-no--style[_ngcontent-%COMP%]{border-left-style:none}.col-28[_ngcontent-%COMP%]{width:28%!important}.col-8[_ngcontent-%COMP%]{width:8%!important}.col-60[_ngcontent-%COMP%]{width:60%!important}.col-32[_ngcontent-%COMP%]{width:32%!important}.col-34[_ngcontent-%COMP%]{width:34%!important}#bckLnksize[_ngcontent-%COMP%]{font-size:16px!important}.col-15[_ngcontent-%COMP%]{width:15%!important;padding-right:0!important;padding-left:0!important}.col-16[_ngcontent-%COMP%]{width:16%!important}.col-14[_ngcontent-%COMP%]{width:14%!important}.col-17[_ngcontent-%COMP%]{width:17%!important}.col-12[_ngcontent-%COMP%]{width:12%!important}.col-9[_ngcontent-%COMP%]{width:9%!important}.col-10[_ngcontent-%COMP%]{width:10%!important}.col-11[_ngcontent-%COMP%]{width:11%!important}.col-13[_ngcontent-%COMP%]{width:13%!important}.col-21[_ngcontent-%COMP%]{width:21%!important}.col-20[_ngcontent-%COMP%]{width:20%!important}.col-24[_ngcontent-%COMP%]{width:24%!important}.govuk-table__cell[_ngcontent-%COMP%], .govuk-table__header[_ngcontent-%COMP%]{padding:10px 10px 10px 0}.col-27[_ngcontent-%COMP%]{width:27%!important}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden!important}.col-19[_ngcontent-%COMP%]{width:19%!important;padding-left:0!important}.col-18[_ngcontent-%COMP%]{width:18%!important;padding-left:0!important;padding-right:0!important}.col-37[_ngcontent-%COMP%]{width:37%!important}.col-55[_ngcontent-%COMP%]{width:55%!important}.govuk-table[_ngcontent-%COMP%]{margin-bottom:1px}.hmcts-banner[_ngcontent-%COMP%] > .hmcts-banner__message[_ngcontent-%COMP%]{font-size:19px;line-height:1.25}.summary-table-font[_ngcontent-%COMP%]{font-size:36px}.order-class[_ngcontent-%COMP%]{padding-top:3em}.govuk-table__header[_ngcontent-%COMP%]:last-child{text-align:right}.govuk-table__cell[_ngcontent-%COMP%]:last-child{text-align:right}.govuk-grid-column-two-thirds[_ngcontent-%COMP%]{width:64%!important;padding:0!important}.govuk-heading-l[_ngcontent-%COMP%]{font-size:36px;margin-bottom:10px}.paymentrequest[_ngcontent-%COMP%]{margin-top:1em}.mar-17[_ngcontent-%COMP%]{margin-left:17px}.col-61[_ngcontent-%COMP%]{width:61px!important;padding:0!important}.error[_ngcontent-%COMP%]{width:960px;margin:auto}.summarypage[_ngcontent-%COMP%]{padding-left:36em;margin-top:2em}.summarypagealign[_ngcontent-%COMP%]{width:100%;text-align:right;margin-top:2em}.govuk-inset-text[_ngcontent-%COMP%]{font-size:2.1875rem}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-wrap:break-word}.totalPay[_ngcontent-%COMP%]{padding-right:14px;float:right;margin-top:2em}.govuk-back-link[_ngcontent-%COMP%]{font-size:1.5rem!important}.totalfees[_ngcontent-%COMP%]{float:right;margin-top:2em}.refundBtn[_ngcontent-%COMP%]{text-align:right;width:18%}.col-25[_ngcontent-%COMP%]{width:25%!important}.col-51[_ngcontent-%COMP%]{width:51%!important}.alignright[_ngcontent-%COMP%]{text-align:right}.alignleft[_ngcontent-%COMP%]{text-align:left}.alignself[_ngcontent-%COMP%]{align-self:flex-end}.maxwidth[_ngcontent-%COMP%]{width:100%}.over-payment[_ngcontent-%COMP%]   .govuk-table-mb[_ngcontent-%COMP%]{margin-bottom:20px}.over-payment[_ngcontent-%COMP%]   .contactDetails-width[_ngcontent-%COMP%]{width:70%}.over-payment[_ngcontent-%COMP%]   .margin-top10px[_ngcontent-%COMP%]{margin-top:20px}.over-payment[_ngcontent-%COMP%]   .govuk-font19px[_ngcontent-%COMP%]{font-size:19px!important}.over-payment[_ngcontent-%COMP%]   .margin-top--size[_ngcontent-%COMP%]{margin-top:-30px}.over-payment[_ngcontent-%COMP%]   .over-payment-alignment[_ngcontent-%COMP%]{margin-right:10px}.over-payment[_ngcontent-%COMP%]   .govuk-button[_ngcontent-%COMP%]{font-size:19px;float:left;margin-top:2em}.over-payment[_ngcontent-%COMP%]   td.govuk-table__cell[_ngcontent-%COMP%]{width:50%;text-align:left}.over-payment[_ngcontent-%COMP%]   .govuk-warning-text__text[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .govuk-label--s[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .hmcts-currency-input__symbol[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.over-payment[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0;border-color:#a71414}.over-payment[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;border-color:#a71414;font-weight:700;margin-top:10px;font-size:20px}.over-payment[_ngcontent-%COMP%]   .govuk-button-group[_ngcontent-%COMP%]{padding-top:2em}.over-payment[_ngcontent-%COMP%]   .heading-medium[_ngcontent-%COMP%]{margin-top:.875em}.over-payment[_ngcontent-%COMP%]   .heading-large[_ngcontent-%COMP%]{margin-top:.25em}.over-payment[_ngcontent-%COMP%]   .govuk-panel--confirmation[_ngcontent-%COMP%]{color:#fff;background:#00703C}.over-payment[_ngcontent-%COMP%]   .govuk-panel__title[_ngcontent-%COMP%]{font-size:5rem}.over-payment[_ngcontent-%COMP%]   .govuk-body-m[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .govuk-body[_ngcontent-%COMP%]{font-size:2.1875rem}.over-payment[_ngcontent-%COMP%]   .govuk-link[_ngcontent-%COMP%]{cursor:pointer}.over-payment[_ngcontent-%COMP%]   .govuk-radios__conditional[_ngcontent-%COMP%]{padding-top:12px!important}.over-payment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right;cursor:pointer}.over-payment[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{float:right}.over-payment[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{color:#fff}\"]\n    });\n  }\n  return ServiceRequestComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst BS_ENABLE_FLAG$3 = 'bulk-scan-enabling-fe';\nconst resolvedPromise = Promise.resolve(null);\nlet AddRemissionComponent = /*#__PURE__*/(() => {\n  class AddRemissionComponent {\n    formBuilder;\n    router;\n    paymentViewService;\n    notificationService;\n    paymentLibComponent;\n    refundService;\n    cd;\n    OrderslistService;\n    fee;\n    fees;\n    payment;\n    remission;\n    ccdCaseNumber;\n    caseType;\n    viewCompStatus;\n    paymentGroupRef;\n    isTurnOff;\n    isRefundRemission;\n    isStrategicFixEnable;\n    paidAmount;\n    isFromRefundListPage;\n    isFromPaymentDetailPage;\n    isFromServiceRequestPage;\n    isFullyRefund;\n    feeamount;\n    refundPaymentReference;\n    isFromRefundStatusPage;\n    changeRefundReason;\n    isServiceRequest;\n    LOGGEDINUSERROLES;\n    orderDetail;\n    orderRef;\n    orderStatus;\n    orderParty;\n    orderCreated;\n    orderCCDEvent;\n    takePayment;\n    orderFeesTotal;\n    orderTotalPayments;\n    orderRemissionTotal;\n    cancelRemission = new EventEmitter();\n    //@Output() refundListReason: EventEmitter<any> = new EventEmitter({reason:string, code:string});\n    refundListReason = new EventEmitter();\n    refundListAmount = new EventEmitter();\n    refundFees = new EventEmitter();\n    refund = {\n      reason: {\n        duplicate: 'Duplicate payment',\n        humanerror: 'Human error',\n        caseWithdrawn: 'Case withdrawn',\n        other: 'Other'\n      }\n    };\n    contactDetailsObj;\n    notification;\n    remissionForm;\n    hasErrors = false;\n    viewStatus = 'main';\n    errorMessage = null;\n    option = null;\n    isConfirmationBtnDisabled = false;\n    bsPaymentDcnNumber;\n    selectedValue = 'yes';\n    amount;\n    retroRemission = false;\n    remissionReference = '';\n    refundReference;\n    refundAmount;\n    paymentExplanationHasError = false;\n    refundReason;\n    selectedRefundReason;\n    selectedRefundReasonCode;\n    displayRefundReason;\n    refundCode;\n    remessionPayment;\n    isRemissionCodeEmpty = false;\n    remissionCodeHasError = false;\n    isAmountEmpty = false;\n    isReasonEmpty = false;\n    amountHasError = false;\n    isRemissionLessThanFeeError = false;\n    refundHasError = false;\n    isPaymentSuccess = false;\n    isRemissionApplied = false;\n    remissionamt;\n    elementId;\n    // refundReasons: any[] = [];\n    commonRefundReasons = [];\n    showReasonText;\n    isRefundReasonsSelected;\n    default;\n    reasonLength;\n    refundReasons;\n    pattern1;\n    pattern2;\n    sendOrderDetail;\n    sendOrderRef;\n    paymentReference;\n    class = '';\n    errorMsg = new Array();\n    totalRefundAmount;\n    quantityUpdated;\n    fullRefund;\n    allowedRefundAmount;\n    isRemissionsMatch;\n    paymentFees;\n    paymentGroup;\n    isStatusAllocated;\n    isFromCheckAnsPage;\n    refundAmtForFeeVolumes;\n    paymentObj;\n    templateInstructionType;\n    notificationPreview;\n    component;\n    constructor(formBuilder, router, paymentViewService, notificationService, paymentLibComponent, refundService, cd, OrderslistService) {\n      this.formBuilder = formBuilder;\n      this.router = router;\n      this.paymentViewService = paymentViewService;\n      this.notificationService = notificationService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.refundService = refundService;\n      this.cd = cd;\n      this.OrderslistService = OrderslistService;\n    }\n    ngOnInit() {\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.default = 'Select a different reason';\n      this.pattern1 = '^([a-zA-Z0-9]{3})-([a-zA-Z0-9]{3})-([a-zA-Z0-9]{3})$';\n      this.pattern2 = '^([A-Za-z]{2}[0-9]{2})-([0-9]{6})$';\n      if (this.viewCompStatus !== '' && this.viewCompStatus !== undefined) {\n        this.viewStatus = '';\n      }\n      if (this.remission) {}\n      if (this.fee) {\n        this.amount = this.fee.volume * this.fee.calculated_amount;\n      }\n      if (this.payment) {\n        this.paymentReference = this.payment.reference;\n        this.remessionPayment = this.payment;\n        if (this.payment.status === 'Success') {\n          this.isPaymentSuccess = true;\n        }\n      }\n      this.option = this.paymentLibComponent.SELECTED_OPTION;\n      this.bsPaymentDcnNumber = this.paymentLibComponent.bspaymentdcn;\n      this.remissionForm = this.formBuilder.group({\n        remissionCode: new FormControl('', Validators.compose([Validators.required, Validators.pattern(`(${this.pattern1})|(${this.pattern2})`)])),\n        amount: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[0-9]+(\\.[0-9]{1,2})?$')])),\n        refundReason: new FormControl('', Validators.compose([Validators.required])),\n        refundDDReason: new FormControl('', Validators.compose([Validators.required])),\n        reason: new FormControl(),\n        feeAmount: new FormControl(),\n        feesList: this.formBuilder.array([])\n      });\n      const remissionctrls = this.remissionForm.controls;\n      remissionctrls['refundDDReason'].setValue('Select a different reason', {\n        onlySelf: true\n      });\n      if (this.refundPaymentReference !== undefined && this.refundPaymentReference.length > 0) {\n        this.paymentReference = this.refundPaymentReference;\n      } else {\n        this.paymentReference = this.payment !== undefined ? this.payment.reference : '';\n      }\n      if (this.isFromServiceRequestPage) {\n        this.paymentViewService.getApportionPaymentDetails(this.paymentReference).subscribe(paymentGroup => {\n          let fees = [];\n          paymentGroup.fees.forEach(fee => {\n            this.isRemissionsMatch = false;\n            paymentGroup.remissions.forEach(rem => {\n              if (rem.fee_code === fee.code) {\n                this.isRemissionsMatch = true;\n                fee['remissions'] = rem;\n                fees.push(fee);\n              }\n            });\n            if (!this.isRemissionsMatch) {\n              fees.push(fee);\n            }\n          });\n          paymentGroup.fees = fees;\n          this.paymentFees = fees;\n          this.fees = fees;\n          this.paymentGroup = paymentGroup;\n          this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(this.paymentLibComponent.paymentReference));\n          // const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n          // this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n          this.refundFeesList();\n        }, error => this.errorMessage = error);\n      }\n      if (this.fees && this.viewCompStatus === 'issuerefund') {\n        this.refundFeesList();\n      }\n      if (this.viewCompStatus === '') {\n        this.viewStatus = 'main';\n      }\n      if (this.viewCompStatus === 'issuerefundpage1') {\n        this.refundService.getRefundReasons().subscribe(refundReasons => {\n          this.refundReasons = refundReasons.filter(data => data.recently_used === false);\n          this.refundReasons = this.refundReasons.filter(data => data.name !== 'Retrospective remission' && data.name !== 'Overpayment');\n          this.cd.detectChanges();\n          this.commonRefundReasons = refundReasons.filter(data => data.recently_used === true);\n          this.commonRefundReasons.sort((a, b) => a.toString().localeCompare(b));\n          this.cd.detectChanges();\n        });\n        this.refundReason = this.changeRefundReason;\n      }\n      if (this.viewCompStatus === 'processretroremissonpage' && this.isFromRefundListPage) {\n        this.viewStatus = 'processretroremissonpage';\n      }\n      if (this.orderDetail !== undefined) {\n        this.paymentViewService.getApportionPaymentDetails(this.orderDetail[0].payments[0].reference).subscribe(paymentGroup => {\n          this.fees = paymentGroup.fees;\n          this.paymentReference = paymentGroup.payments[0].reference;\n        }, error => this.errorMessage = error);\n      }\n    }\n    goToPaymentViewComponent() {\n      this.paymentLibComponent.paymentMethod = this.payment.method;\n      this.paymentLibComponent.paymentGroupReference = this.paymentGroupRef;\n      this.paymentLibComponent.paymentReference = this.paymentReference;\n      //this.PaymentViewComponent.viewCompStatus = 'overpayment';\n      this.paymentLibComponent.viewName = 'payment-view';\n    }\n    refundFeesList() {\n      const creds = this.remissionForm.controls.feesList;\n      // if(creds.controls.length > 0) {\n      for (var i = 0; i < this.fees.length; i++) {\n        creds.push(this.formBuilder.group({\n          id: this.fees[i].id,\n          code: this.fees[i].code,\n          volume: this.fees[i].volume,\n          calculated_amount: this.fees[i].calculated_amount,\n          apportion_amount: this.fees[i].apportion_amount,\n          ccd_case_number: this.fees[i].ccd_case_number,\n          description: this.fees[i].description,\n          net_amount: this.fees[i].net_amount,\n          version: this.fees[i].version,\n          refund_amount: [''],\n          selected: [''],\n          updated_volume: this.fees[i].volume\n        }));\n      }\n      this.cd.detectChanges();\n      //}\n    }\n\n    get feesList() {\n      const dd = this.remissionForm.get('feesList');\n      return this.remissionForm.get('feesList');\n    }\n    noneSelected() {\n      if (this.isFullyRefund) {\n        return false;\n      } else {\n        if (!this.feesList.controls.some(item => item.get('selected').value === true)) {\n          this.errorMsg = [];\n          [].forEach.call(document.querySelectorAll('input'), function (el) {\n            el.classList.remove('inline-error-class');\n          });\n        }\n        return !this.feesList.controls.some(item => item.get('selected').value === true);\n      }\n    }\n    check_en(i, v1, AppAmt, Volume) {\n      const ele = document.getElementById(v1);\n      const formArray = this.remissionForm.controls.feesList;\n      if (ele.checked) {\n        formArray.at(i).get('refund_amount').setValue(AppAmt);\n        formArray.at(i).get('volume').setValue(Volume);\n        formArray.at(i).get('selected').setValue(true);\n        formArray.at(i).get('updated_volume').setValue(Volume);\n        document.getElementById('feeAmount_' + v1).value = AppAmt;\n        document.getElementById('feeAmount_' + v1).removeAttribute(\"disabled\");\n        if (Volume === 1) {\n          document.getElementById('VolumeUpdated_' + v1).value = Volume;\n        } else {\n          document.getElementById('feeVolumeUpdated_' + v1).value = Volume;\n        }\n        if (document.getElementById('feeVolumeUpdated_' + v1) !== null) {\n          document.getElementById('feeAmount_' + v1).removeAttribute(\"disabled\");\n          document.getElementById('feeVolumeUpdated_' + v1).removeAttribute(\"disabled\");\n        }\n        this.cd.detectChanges();\n      } else {\n        this.errorMsg = [];\n        document.getElementById('feeAmount_' + v1).setAttribute(\"disabled\", \"true\");\n        this.remissionForm.value.feesList[i][\"refund_amount\"] = '';\n        this.remissionForm.value.feesList[i][\"volume\"] = '';\n        this.remissionForm.value.feesList[i][\"selected\"] = false;\n        document.getElementById('feeAmount_' + v1).value = '';\n        if (Volume > 1) {\n          this.remissionForm.value.feesList[i][\"volume\"] = '';\n          document.getElementById('feeVolumeUpdated_' + v1).value = '';\n        }\n        if (document.getElementById('feeVolumeUpdated_' + v1) !== null) {\n          document.getElementById('feeVolumeUpdated_' + v1).removeAttribute(\"disabled\");\n        }\n        this.cd.detectChanges();\n      }\n    }\n    addRemission() {\n      this.resetRemissionForm([false, false, false, false, false, false], 'All');\n      const remissionctrls = this.remissionForm.controls,\n        isRemissionLessThanFee = this.fee.calculated_amount > remissionctrls.amount.value;\n      this.remissionForm.controls['refundReason'].setErrors(null);\n      this.remissionForm.controls['refundDDReason'].setErrors(null);\n      if (this.remissionForm.dirty && this.remissionForm.valid && isRemissionLessThanFee) {\n        this.viewStatus = 'confirmation';\n      } else {\n        if (remissionctrls['remissionCode'].value == '') {\n          this.resetRemissionForm([true, false, false, false, false, false], 'remissionCode');\n        }\n        if (remissionctrls['remissionCode'].value != '' && remissionctrls['remissionCode'].invalid) {\n          this.resetRemissionForm([false, true, false, false, false, false], 'remissionCode');\n        }\n        if (remissionctrls['amount'].value == '') {\n          this.resetRemissionForm([false, false, true, false, false, false], 'amount');\n        }\n        if (remissionctrls['amount'].value != '' && remissionctrls['amount'].invalid) {\n          this.resetRemissionForm([false, true, false, true, false, false], 'amount');\n        }\n        if (remissionctrls.amount.valid && !isRemissionLessThanFee) {\n          this.resetRemissionForm([false, false, false, false, true, false], 'amount');\n        }\n      }\n    }\n    confirmRemission() {\n      this.isConfirmationBtnDisabled = true;\n      const newNetAmount = this.remissionForm.controls.amount.value,\n        remissionAmount = this.fee.net_amount - newNetAmount,\n        requestBody = new AddRemissionRequest(this.ccdCaseNumber, this.fee, remissionAmount, this.remissionForm.controls.remissionCode.value, this.caseType);\n      this.paymentViewService.postPaymentGroupWithRemissions(decodeURIComponent(this.paymentGroupRef).trim(), this.fee.id, requestBody).subscribe(response => {\n        if (JSON.parse(response).success) {\n          let LDUrl = this.isTurnOff ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n          LDUrl += `&caseType=${this.caseType}`;\n          if (this.paymentLibComponent.bspaymentdcn) {\n            this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n            this.router.onSameUrlNavigation = 'reload';\n            this.router.navigateByUrl(`/payment-history/${this.ccdCaseNumber}?view=fee-summary&selectedOption=${this.option}&paymentGroupRef=${this.paymentGroupRef}&dcn=${this.paymentLibComponent.bspaymentdcn}${LDUrl}`);\n          } else {\n            this.gotoCasetransationPage();\n          }\n        }\n      }, error => {\n        this.errorMessage = error;\n        this.isConfirmationBtnDisabled = false;\n      });\n    }\n    resetRemissionForm(val, field) {\n      if (field === 'All') {\n        this.isRemissionCodeEmpty = val[0];\n        this.remissionCodeHasError = val[1];\n        this.isAmountEmpty = val[2];\n        this.amountHasError = val[3];\n        this.isRemissionLessThanFeeError = val[4];\n        this.isReasonEmpty = val[5];\n      } else if (field === 'remissionCode' || field === 'All') {\n        this.isRemissionCodeEmpty = val[0];\n        this.remissionCodeHasError = val[1];\n      } else if (field === 'amount' || field === 'All') {\n        this.isAmountEmpty = val[2];\n        this.amountHasError = val[3];\n        this.isRemissionLessThanFeeError = val[4];\n      } else if (field === 'reason' || field === 'All') {\n        this.isReasonEmpty = val[5];\n      }\n    }\n    // Add retro remission changes\n    addRemissionCode() {\n      this.errorMessage = false;\n      // this.isFromCheckAnsPage = true;\n      this.errorMsg = [];\n      this.viewStatus = '';\n      this.isRefundRemission = false;\n      this.resetRemissionForm([false, false, false, false, false, false], 'All');\n      const remissionctrls = this.remissionForm.controls;\n      // isRemissionLessThanFee = this.fee.calculated_amount >= remissionctrls.amount.value;\n      this.remissionForm.controls['refundReason'].setErrors(null);\n      this.remissionForm.controls['refundDDReason'].setErrors(null);\n      this.remissionForm.controls['amount'].setErrors(null);\n      if (this.remissionForm.dirty && this.remissionForm.valid) {\n        if (!this.isFromCheckAnsPage) {\n          this.viewCompStatus = '';\n          this.viewStatus = \"processretroremissonpage\";\n        } else {\n          this.viewCompStatus = '';\n          this.viewStatus = 'checkretroremissionpage';\n        }\n      } else {\n        if (remissionctrls['remissionCode'].value == '') {\n          this.resetRemissionForm([true, false, false, false, false], 'remissionCode');\n        }\n        if (remissionctrls['remissionCode'].value != '' && remissionctrls['remissionCode'].invalid) {\n          this.resetRemissionForm([false, true, false, false, false], 'remissionCode');\n        }\n        if (remissionctrls['amount'].value == '') {\n          this.resetRemissionForm([false, false, true, false, false], 'amount');\n        }\n        if (remissionctrls['amount'].value != '' && remissionctrls['amount'].invalid) {\n          this.resetRemissionForm([false, true, false, true, false], 'amount');\n        }\n        if (remissionctrls['reason'].value == '') {\n          this.resetRemissionForm([false, false, false, true, false, true], 'reason');\n        }\n        if (remissionctrls.amount.valid) {\n          this.resetRemissionForm([false, false, false, false, true], 'amount');\n        }\n      }\n    }\n    gotoAddRetroRemissionCodePage() {\n      this.errorMessage = false;\n      this.isFromCheckAnsPage = false;\n      this.errorMsg = [];\n      if (this.isRefundRemission) {\n        this.refundListAmount.emit();\n        this.paymentLibComponent.isFromRefundStatusPage = true;\n        return;\n      }\n      if (this.isFromRefundListPage) {\n        this.paymentLibComponent.iscancelClicked = true;\n        this.refundListReason.emit({\n          reason: this.selectedRefundReason,\n          code: this.refundReason\n        });\n        this.paymentLibComponent.isFromRefundStatusPage = true;\n        return;\n      }\n      this.viewStatus = '';\n      this.selectedValue = 'yes';\n      this.viewCompStatus = \"addremission\";\n      this.isRefundRemission = true;\n      this.errorMessage = '';\n      this.errorMsg = [];\n      if (this.isFromPaymentDetailPage) {\n        this.paymentLibComponent.viewName = 'payment-view';\n      }\n    }\n    gotoCheckRetroRemissionPage(payment) {\n      this.paymentLibComponent.iscancelClicked = false;\n      this.errorMessage = '';\n      this.resetRemissionForm([false, false, false, false, false], 'All');\n      if (!this.isRefundRemission) {\n        var remissionctrls = this.remissionForm.controls,\n          isRemissionLessThanFee = this.fee.calculated_amount >= remissionctrls.amount.value;\n        if (this.remissionForm.dirty) {\n          if (remissionctrls['amount'].value == '' || remissionctrls['amount'].value < 0) {\n            this.resetRemissionForm([false, false, true, false, false], 'amount');\n          } else if (remissionctrls['amount'].value != '' && remissionctrls['amount'].invalid) {\n            this.resetRemissionForm([false, false, false, true, false], 'amount');\n          } else if (remissionctrls.amount.valid && !isRemissionLessThanFee) {\n            this.resetRemissionForm([false, false, false, false, true], 'amount');\n          } else {\n            this.viewCompStatus = '';\n            this.viewStatus = \"checkretroremissionpage\";\n          }\n        }\n      } else {\n        var remissionctrls = this.remissionForm.controls;\n        //if (this.remissionForm.dirty ) {\n        if (remissionctrls['amount'].value == '' || remissionctrls['amount'].value < 0) {\n          this.resetRemissionForm([false, false, true, false, false], 'amount');\n        } else {\n          this.viewCompStatus = '';\n          this.viewStatus = \"checkretroremissionpage\";\n          this.refundListAmount.emit(remissionctrls['amount'].value);\n        }\n        //}\n      }\n    }\n\n    gotoAmountRetroRemission() {\n      this.isFromCheckAnsPage = false;\n      this.viewStatus = 'processretroremissonpage';\n      this.viewCompStatus = '';\n      // this.isRefundRemission = true;\n      this.errorMessage = '';\n    }\n    gotoProcessRetroRemissionPage() {\n      this.isFromCheckAnsPage = true;\n      this.viewStatus = '';\n      this.viewCompStatus = 'addremission';\n      this.isRefundRemission = true;\n      this.errorMessage = '';\n      this.errorMsg = [];\n    }\n    gotoProcessRetroRemission(note) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.isFromCheckAnsPage = true;\n      this.viewStatus = 'remissionAddressPage';\n      this.viewCompStatus = '';\n      this.isRefundRemission = true;\n      this.errorMessage = '';\n    }\n    confirmRetroRemission() {\n      if (!this.isConfirmationBtnDisabled) {\n        this.retroRemission = true;\n        this.remissionamt = this.remissionForm.controls.amount.value;\n        const requestBody = new AddRetroRemissionRequest(this.remissionamt, this.remissionForm.controls.remissionCode.value);\n        this.paymentViewService.postPaymentGroupWithRetroRemissions(decodeURIComponent(this.paymentGroupRef).trim(), this.fee.id, requestBody).subscribe(response => {\n          if (JSON.parse(response)) {\n            this.isRemissionApplied = true;\n            this.viewCompStatus = '';\n            this.viewStatus = 'retroremissionconfirmationpage';\n            this.remissionReference = JSON.parse(response).remission_reference;\n          }\n        }, error => {\n          this.errorMessage = error;\n          this.isConfirmationBtnDisabled = false;\n          this.cd.detectChanges();\n        });\n      }\n    }\n    processRefund() {\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.isConfirmationBtnDisabled = true;\n      if (this.isRefundRemission) {\n        this.retroRemission = true;\n      }\n      if (this.remissionReference === undefined || this.remissionReference === '') {\n        this.remissionReference = this.remission.remission_reference;\n      }\n      const requestBody = new PostIssueRefundRetroRemission(this.remissionReference, this.contactDetailsObj);\n      this.paymentViewService.postRefundRetroRemission(requestBody).subscribe(response => {\n        if (JSON.parse(response)) {\n          this.viewCompStatus = '';\n          this.viewStatus = 'refundconfirmationpage';\n          this.refundReference = JSON.parse(response).refund_reference;\n          this.refundAmount = JSON.parse(response).refund_amount;\n        }\n      }, error => {\n        this.errorMessage = error;\n        this.isConfirmationBtnDisabled = false;\n      });\n    }\n    // Issue Refund changes\n    gotoIssueRefundConfirmation(payment) {\n      this.paymentLibComponent.iscancelClicked = false;\n      if (this.paymentLibComponent.REFUNDLIST === \"true\") {\n        this.isFromRefundListPage = true;\n      }\n      this.totalRefundAmount = this.remissionForm.value.feesList.reduce((a, c) => a + c.refund_amount * c.selected, 0);\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.refundReason = this.remissionForm.controls['refundReason'].value === null ? this.remissionForm.controls['refundDDReason'].value : this.remissionForm.controls['refundReason'].value;\n      if (!this.refundReason || this.refundReason === 'Select a different reason') {\n        this.refundHasError = true;\n      } else if (this.selectedRefundReason.includes('Other') && (this.remissionForm.controls['reason'].value == '' || this.remissionForm.controls['reason'].value == null)) {\n        this.resetRemissionForm([false, false, false, true, false, true], 'reason');\n      } else if (this.selectedRefundReason.includes('Other') && this.remissionForm.controls['reason'].value !== '') {\n        this.refundHasError = false;\n        this.refundReason += '-' + this.remissionForm.controls['reason'].value;\n        this.displayRefundReason = this.selectedRefundReason + '-' + this.remissionForm.controls['reason'].value;\n        if (this.isFromRefundListPage) {\n          this.refundListReason.emit({\n            reason: this.displayRefundReason,\n            code: this.refundReason\n          });\n        } else {\n          if (this.isFromCheckAnsPage) {\n            this.totalRefundAmount = this.remissionForm.value.feesList.reduce((a, c) => a + c.refund_amount * c.selected, 0);\n            this.isFromCheckAnsPage = false;\n            this.viewStatus = 'checkissuerefundpage';\n            this.viewCompStatus = '';\n            this.notificationPreview = false;\n            return;\n          }\n          this.viewCompStatus = '';\n          this.viewStatus = 'contactDetailsPage';\n        }\n      } else {\n        this.displayRefundReason = this.selectedRefundReason;\n        if (this.isFromCheckAnsPage) {\n          this.totalRefundAmount = this.remissionForm.value.feesList.reduce((a, c) => a + c.refund_amount * c.selected, 0);\n          this.isFromCheckAnsPage = false;\n          this.viewStatus = 'checkissuerefundpage';\n          this.viewCompStatus = '';\n          this.notificationPreview = false;\n          return;\n        }\n        if (this.isFromRefundListPage) {\n          this.paymentLibComponent.isFromRefundStatusPage = true;\n          this.refundListReason.emit({\n            reason: this.selectedRefundReason,\n            code: this.refundReason\n          });\n        } else {\n          this.viewCompStatus = '';\n          this.viewStatus = 'contactDetailsPage';\n        }\n      }\n    }\n    gotoIssueRefundPage() {\n      this.errorMessage = '';\n      this.viewCompStatus = 'issuerefund';\n      this.viewStatus = '';\n      this.isRefundRemission = true;\n      this.errorMessage = false;\n      this.errorMsg = [];\n      this.refundHasError = false;\n      this.isReasonEmpty = false;\n    }\n    gotoIssuePage(isFullyRefund) {\n      if (isFullyRefund) {\n        this.viewCompStatus = 'issuerefundpage1';\n        this.getRefundReasons();\n      } else {\n        [].forEach.call(document.querySelectorAll('input'), function (el) {\n          el.classList.remove('inline-error-class');\n        });\n        var checkboxs = document.getElementsByTagName('input');\n        this.errorMessage = '';\n        this.totalRefundAmount = 0;\n        this.errorMsg = [];\n        for (var j = 0; j < checkboxs.length; j++) {\n          if (checkboxs[j].checked) {\n            this.fullRefund = false;\n            let quantity = +document.getElementById('feeVolume_' + checkboxs[j].value).value;\n            let amountToRefund = +document.getElementById('feeAmount_' + checkboxs[j].value).value;\n            let apportionAmount = +document.getElementById('feeApportionAmount_' + checkboxs[j].value).value;\n            let calculatedAmount = +document.getElementById('calculatedAmount_' + checkboxs[j].value).value;\n            if (amountToRefund === apportionAmount) {\n              this.fullRefund = true;\n            }\n            if (amountToRefund === 0) {\n              this.elementId = 'feeAmount_' + checkboxs[j].value;\n              this.errorMsg.push('You need to enter a refund amount');\n              this.getErrorClass(this.elementId);\n            }\n            if (quantity === 1) {\n              if (amountToRefund > 0 && amountToRefund > apportionAmount) {\n                this.elementId = 'feeAmount_' + checkboxs[j].value;\n                this.errorMsg.push('The amount you want to refund is more than the amount paid');\n                this.getErrorClass(this.elementId);\n              }\n            }\n            if (quantity > 1) {\n              this.quantityUpdated = +document.getElementById('feeVolumeUpdated_' + checkboxs[j].value).value;\n              if (this.quantityUpdated === 0) {\n                this.elementId = 'feeVolumeUpdated_' + checkboxs[j].value;\n                this.errorMsg.push('You need to enter quantity');\n                this.getErrorClass(this.elementId);\n              }\n              if (this.fullRefund && quantity !== this.quantityUpdated) {\n                this.elementId = 'feeVolumeUpdated_' + checkboxs[j].value;\n                this.errorMsg.push('The quantity you want to refund should be maximun available quantity');\n                this.getErrorClass(this.elementId);\n              }\n              if (!this.fullRefund && this.quantityUpdated > 0 && amountToRefund > 0) {\n                this.refundAmtForFeeVolumes = +document.getElementById('feeVOl_' + checkboxs[j].value).innerText;\n                this.allowedRefundAmount = this.quantityUpdated * this.refundAmtForFeeVolumes;\n                if (this.allowedRefundAmount !== amountToRefund) {\n                  this.elementId = 'feeAmount_' + checkboxs[j].value;\n                  this.errorMsg.push('The Amount to Refund should be equal to the product of Fee Amount and quantity');\n                  this.getErrorClass(this.elementId);\n                }\n              }\n              if (!this.fullRefund && amountToRefund > apportionAmount) {\n                this.elementId = 'feeAmount_' + checkboxs[j].value;\n                this.errorMsg.push('The amount you want to refund is more than the amount paid');\n                this.getErrorClass(this.elementId);\n              }\n              if (!this.fullRefund && this.quantityUpdated > 0 && this.quantityUpdated > quantity) {\n                this.elementId = 'feeVolumeUpdated_' + checkboxs[j].value;\n                this.errorMsg.push('The quantity you want to refund is more than the available quantity');\n                this.getErrorClass(this.elementId);\n              }\n            }\n            //this.remissionForm.value.feesList.find(id=>id=checkboxs[j].value)['refund_amount'] = apportionAmount;\n          }\n        }\n\n        if (this.errorMsg.length === 0) {\n          if (this.isFromCheckAnsPage) {\n            this.isFromCheckAnsPage = false;\n            this.totalRefundAmount = this.remissionForm.value.feesList.reduce((a, c) => a + c.refund_amount * c.selected, 0);\n            this.fees = this.remissionForm.value.feesList.filter(value => value.selected === true);\n            this.viewStatus = 'checkissuerefundpage';\n            this.viewCompStatus = '';\n            this.notificationPreview = false;\n            return;\n          } else if (this.isFromRefundStatusPage) {\n            var remissionctrls = this.remissionForm.controls;\n            this.totalRefundAmount = this.remissionForm.value.feesList.reduce((a, c) => a + c.refund_amount * c.selected, 0);\n            this.refundListAmount.emit(this.totalRefundAmount.toString());\n            this.fees = this.remissionForm.value.feesList.filter(value => value.selected === true);\n            this.refundFees.emit(this.fees);\n            return;\n          }\n          this.viewCompStatus = 'issuerefundpage1';\n          this.getRefundReasons();\n        }\n      }\n    }\n    calAmtToRefund(value, amount, volume, i) {\n      const volumeFee = amount / volume;\n      const amtToRefund = value * volumeFee;\n      const formArray = this.remissionForm.controls.feesList;\n      formArray.at(i).get('refund_amount').setValue(amtToRefund);\n      // formArray.at(i).get('volume').setValue(value);\n      //  (<HTMLInputElement>document.getElementById('feeAmount_'+i)).value = +amtToRefund;\n      //  const formControl = this.remissionForm.controls.feesList['volume'].at(i);\n      //  formControl.setValue(value);\n    }\n\n    gotoContactDetailsPage(note) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.errorMessage = '';\n      this.viewCompStatus = '';\n      this.viewStatus = 'contactDetailsPage';\n      this.isRefundRemission = true;\n      this.errorMessage = false;\n    }\n    getRefundReasons() {\n      if (this.viewCompStatus === 'issuerefundpage1') {\n        this.refundService.getRefundReasons().subscribe(refundReasons => {\n          this.refundReasons = refundReasons.filter(data => data.recently_used === false);\n          this.refundReasons = this.refundReasons.filter(data => data.name !== 'Retrospective remission');\n          this.cd.detectChanges();\n          this.commonRefundReasons = refundReasons.filter(data => data.recently_used === true);\n          this.commonRefundReasons.sort((a, b) => a.toString().localeCompare(b));\n          this.cd.detectChanges();\n        });\n      }\n    }\n    getErrorClass(elementId) {\n      if (this.errorMsg.length > 0) {\n        const ele = document.getElementById(elementId);\n        ele.classList.add('inline-error-class');\n      }\n    }\n    changeIssueRefundReason() {\n      this.isFromCheckAnsPage = true;\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.refundHasError = false;\n      this.isReasonEmpty = false;\n      this.viewCompStatus = 'issuerefundpage1';\n      this.viewStatus = '';\n      this.isRefundRemission = true;\n    }\n    confirmIssueRefund(isFullyRefund) {\n      this.isConfirmationBtnDisabled = true;\n      this.errorMessage = '';\n      this.errorMsg = [];\n      if (this.isRefundRemission) {\n        this.retroRemission = true;\n      }\n      if (isFullyRefund) {\n        this.totalRefundAmount = this.payment.amount;\n      }\n      if (!isFullyRefund) {\n        this.fees = this.remissionForm.value.feesList.filter(value => value.selected === true);\n      }\n      this.fees = this.fees.map(obj => ({\n        id: obj.id,\n        code: obj.code,\n        version: obj.version,\n        apportion_amount: obj.apportion_amount,\n        calculated_amount: obj.calculated_amount,\n        updated_volume: obj.updated_volume ? obj.updated_volume : obj.volume,\n        refund_amount: obj.refund_amount ? obj.refund_amount : this.totalRefundAmount\n      }));\n      const requestBody = new PostRefundRetroRemission(this.contactDetailsObj, this.fees, this.payment.reference, this.refundReason, this.totalRefundAmount, 'op');\n      this.paymentViewService.postRefundsReason(requestBody).subscribe(response => {\n        if (JSON.parse(response)) {\n          this.viewCompStatus = '';\n          this.viewStatus = 'refundconfirmationpage';\n          this.refundReference = JSON.parse(response).refund_reference;\n          if (JSON.parse(response).refund_amount) {\n            this.refundAmount = JSON.parse(response).refund_amount;\n          }\n        }\n      }, error => {\n        this.errorMessage = error;\n        this.isConfirmationBtnDisabled = false;\n        this.cd.detectChanges();\n      });\n    }\n    gotoRefundReasonPage() {\n      this.viewStatus = '';\n      this.viewCompStatus = 'issuerefundpage1';\n    }\n    // Retro Refund\n    // confirmRetroRefund() {\n    //   this.isConfirmationBtnDisabled = true;\n    //   this.errorMessage = '';\n    //   this.errorMsg = [];\n    //   if( this.isRefundRemission) {\n    //     this.retroRemission = true;\n    //   }\n    //   const requestBody = new PostRefundRetroRemission(this.payment.reference,'RR004-Retrospective remission', this.contactDetailsObj);\n    //   this.paymentViewService.postRefundsReason(requestBody).subscribe(\n    //     response => {\n    //         if (JSON.parse(response)) {\n    //           this.viewCompStatus  = '';\n    //           this.viewStatus = 'retrorefundconfirmationpage';\n    //           this.refundReference =JSON.parse(response).refund_reference;\n    //           if(JSON.parse(response).refund_amount) {\n    //             this.refundAmount = JSON.parse(response).refund_amount;\n    //             }\n    //         }\n    //     },\n    //     (error: any) => {\n    //       this.errorMessage = error;\n    //       this.isConfirmationBtnDisabled = false;\n    //     });\n    // }\n    selectRadioButton(key, value) {\n      localStorage.setItem(\"myradio\", value);\n      const remissionctrls = this.remissionForm.controls;\n      remissionctrls['refundDDReason'].setValue('Select a different reason', {\n        onlySelf: true\n      });\n      remissionctrls['reason'].reset();\n      this.isRefundReasonsSelected = true;\n      this.errorMessage = false;\n      this.errorMsg = [];\n      this.isReasonEmpty = false;\n      this.showReasonText = false;\n      this.refundHasError = false;\n      this.selectedRefundReason = value;\n      this.selectedRefundReasonCode = key;\n      if (this.selectedRefundReason.includes('Other')) {\n        this.showReasonText = true;\n        this.refundHasError = false;\n        this.refundReason = value;\n      }\n    }\n    selectchange(args) {\n      const remissionctrls = this.remissionForm.controls;\n      remissionctrls['refundReason'].reset();\n      remissionctrls['reason'].reset();\n      this.isRefundReasonsSelected = false;\n      this.showReasonText = false;\n      this.refundHasError = false;\n      this.selectedRefundReason = args.target.options[args.target.options.selectedIndex].id;\n      this.selectedRefundReasonCode = args.target.options[args.target.options.selectedIndex].value;\n      this.reasonLength = 29 - this.selectedRefundReason.split('- ')[1].length;\n      if (this.selectedRefundReason.includes('Other')) {\n        this.showReasonText = true;\n        this.refundHasError = false;\n        this.refundReason = args.target.options[args.target.options.selectedIndex].id;\n      }\n    }\n    getContactDetails(obj, type) {\n      this.contactDetailsObj = obj;\n      this.viewCompStatus = '';\n      this.notificationPreview = false;\n      if (type == 'checkaddRefundpage') {\n        this.getTemplateInstructionType(this.remessionPayment.reference, this.remessionPayment);\n      } else if (type == 'checkissuerefundpage') {\n        this.getTemplateInstructionType(this.payment.reference, this.payment);\n      } else if (type == 'addrefundcheckandanswer') {\n        this.getTemplateInstructionType(this.paymentReference, this.paymentObj);\n      }\n      this.viewStatus = type;\n    }\n    gotoPartialFeeRefundScreen() {\n      if (this.isFromRefundStatusPage) {\n        var remissionctrls = this.remissionForm.controls;\n        this.refundListReason.emit({\n          reason: this.displayRefundReason,\n          code: this.refundReason\n        });\n        return;\n      }\n      this.refundHasError = false;\n      this.viewCompStatus = 'issuerefund';\n      this.viewStatus = '';\n    }\n    gotoServiceRequestPage(event) {\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.isFromCheckAnsPage = false;\n      event.preventDefault();\n      if (this.isFromRefundStatusPage) {\n        var remissionctrls = this.remissionForm.controls;\n        this.totalRefundAmount = 0;\n        this.refundListAmount.emit(this.totalRefundAmount.toString());\n        return;\n      }\n      if (this.isFromServiceRequestPage && !this.isFromPaymentDetailPage) {\n        this.viewStatus = 'order-full-view';\n        this.viewCompStatus = '';\n      } else if (this.isFromRefundListPage) {\n        this.paymentLibComponent.iscancelClicked = true;\n        this.refundListReason.emit({\n          reason: this.selectedRefundReason,\n          code: this.refundReason\n        });\n        this.paymentLibComponent.isFromRefundStatusPage = true;\n      } else {\n        this.paymentLibComponent.paymentMethod = this.payment.method;\n        this.paymentLibComponent.paymentGroupReference = this.paymentLibComponent.paymentGroupReference;\n        this.paymentLibComponent.paymentReference = this.payment.reference;\n        this.paymentLibComponent.viewName = 'payment-view';\n        this.OrderslistService.setOrderRef(this.orderRef);\n        this.OrderslistService.setorderCCDEvent(this.orderCCDEvent);\n        this.OrderslistService.setorderCreated(this.orderCreated);\n        this.OrderslistService.setorderDetail(this.orderDetail);\n        this.OrderslistService.setorderParty(this.orderParty);\n        this.OrderslistService.setorderTotalPayments(this.orderTotalPayments);\n        this.OrderslistService.setorderRemissionTotal(this.orderRemissionTotal);\n        this.OrderslistService.setorderFeesTotal(this.orderFeesTotal);\n        this.viewStatus = 'payment-view';\n        this.sendOrderDetail = this.orderDetail;\n        this.sendOrderRef = this.orderRef;\n        if (this.LOGGEDINUSERROLES === undefined) {\n          this.OrderslistService.getUserRolesList().subscribe(data => this.LOGGEDINUSERROLES = data);\n        }\n        this.viewCompStatus = '';\n      }\n    }\n    gotoAddressPage(note) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.errorMessage = '';\n      this.viewCompStatus = 'addrefundforremission';\n      this.viewStatus = '';\n      this.isRefundRemission = true;\n      this.errorMessage = false;\n    }\n    gotoRemissionSuccess(event) {\n      event.preventDefault();\n      this.errorMessage = '';\n      this.viewCompStatus = '';\n      this.viewStatus = 'retroremissionconfirmationpage';\n      this.isRefundRemission = true;\n      this.errorMessage = false;\n    }\n    gotoCasetransationPage() {\n      this.OrderslistService.setnavigationPage('casetransactions');\n      this.errorMessage = '';\n      this.errorMsg = [];\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.VIEW = 'case-transactions';\n      this.paymentLibComponent.ISTURNOFF = this.isTurnOff;\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n      this.resetOrderData();\n      let partUrl = this.bsPaymentDcnNumber ? `&dcn=${this.bsPaymentDcnNumber}` : '';\n      partUrl += this.paymentLibComponent.ISBSENABLE ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n      partUrl += this.paymentLibComponent.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n      partUrl += this.isStrategicFixEnable ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n      partUrl += `&caseType=${this.caseType}`;\n      const url = `/payment-history/${this.ccdCaseNumber}?view=case-transactions&takePayment=${this.paymentLibComponent.TAKEPAYMENT}&selectedOption=${this.option}${partUrl}`;\n      this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n      this.router.onSameUrlNavigation = 'reload';\n      this.router.navigateByUrl(url);\n    }\n    gotoCasetransationPageCancelBtnClicked(event) {\n      event.preventDefault();\n      this.errorMsg = [];\n      if (this.paymentLibComponent.isFromServiceRequestPage !== undefined && !this.paymentLibComponent.isFromServiceRequestPage) {\n        this.OrderslistService.setnavigationPage('casetransactions');\n        this.OrderslistService.setisFromServiceRequestPage(false);\n        this.paymentLibComponent.VIEW = 'case-transactions';\n        this.paymentLibComponent.viewName = 'case-transactions';\n        this.paymentLibComponent.ISBSENABLE = true;\n        this.paymentLibComponent.isRefundStatusView = false;\n      } else {\n        if (this.paymentLibComponent.REFUNDLIST) {\n          this.paymentLibComponent.viewName = 'refund-list';\n          return;\n        }\n        if (this.paymentLibComponent.TAKEPAYMENT === undefined && this.paymentLibComponent.SERVICEREQUEST === undefined) {\n          this.paymentLibComponent.SERVICEREQUEST = 'false';\n        }\n        this.OrderslistService.setisFromServiceRequestPage(false);\n        this.OrderslistService.setpaymentPageView({\n          method: '',\n          payment_group_reference: '',\n          reference: ''\n        });\n        this.OrderslistService.setnavigationPage('casetransactions');\n        this.errorMessage = '';\n        this.paymentLibComponent.viewName = 'case-transactions';\n        this.paymentLibComponent.ISTURNOFF = this.isTurnOff;\n        this.paymentLibComponent.isFromServiceRequestPage = true;\n        this.paymentLibComponent.ISBSENABLE = true;\n        let partUrl = this.bsPaymentDcnNumber ? `&dcn=${this.bsPaymentDcnNumber}` : '';\n        partUrl += this.paymentLibComponent.ISBSENABLE ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n        partUrl += this.paymentLibComponent.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n        partUrl += this.isStrategicFixEnable ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n        partUrl += `&caseType=${this.caseType}`;\n        if (this.isFromPaymentDetailPage) {\n          partUrl += this.paymentLibComponent.isFromPaymentDetailPage;\n        }\n        if (!this.paymentLibComponent.SERVICEREQUEST) {\n          const url = `/payment-history/${this.ccdCaseNumber}?view=case-transactions&takePayment=${this.paymentLibComponent.TAKEPAYMENT}&selectedOption=${this.option}${partUrl}`;\n          this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n          this.router.onSameUrlNavigation = 'reload';\n          this.router.navigateByUrl(url);\n        } else {\n          const url = `/payment-history/${this.ccdCaseNumber}?selectedOption=${this.option}${partUrl}`;\n          this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n          this.router.onSameUrlNavigation = 'reload';\n          this.router.navigateByUrl(url);\n        }\n      }\n    }\n    resetOrderData() {\n      this.OrderslistService.setOrderRef(null);\n      this.OrderslistService.setorderCCDEvent(null);\n      this.OrderslistService.setorderCreated(null);\n      this.OrderslistService.setorderDetail(null);\n      this.OrderslistService.setorderParty(null);\n      this.OrderslistService.setorderTotalPayments(null);\n      this.OrderslistService.setorderRemissionTotal(null);\n      this.OrderslistService.setorderFeesTotal(null);\n    }\n    changeRefundAmount() {\n      this.isFromCheckAnsPage = true;\n      this.viewCompStatus = 'issuerefund';\n      this.viewStatus = '';\n    }\n    getFormattedCurrency(currency) {\n      if (currency.toString().includes(\".\")) {\n        return currency;\n      }\n      return currency.toString().concat(\".00\");\n    }\n    showNotificationPreview() {\n      this.notificationPreview = true;\n    }\n    hideNotificationPreview() {\n      this.notificationPreview = false;\n    }\n    getTemplateInstructionType(paymentReference, payment) {\n      if (payment == undefined || payment == null || payment.reference != paymentReference) {\n        this.paymentViewService.getPaymentDetails(paymentReference).subscribe(payment => {\n          this.paymentObj = payment;\n          this.paymentObj.reference = paymentReference;\n          this.templateInstructionType = this.notificationService.getNotificationInstructionType(this.paymentObj.channel, this.paymentObj.method);\n        }, error => {\n          this.templateInstructionType = 'Template';\n        });\n      } else {\n        this.templateInstructionType = this.notificationService.getNotificationInstructionType(payment.channel, payment.method);\n      }\n    }\n    static ɵfac = function AddRemissionComponent_Factory(t) {\n      return new (t || AddRemissionComponent)(i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(RefundsService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: AddRemissionComponent,\n      selectors: [[\"ccpay-add-remission\"]],\n      inputs: {\n        fee: \"fee\",\n        fees: \"fees\",\n        payment: \"payment\",\n        remission: \"remission\",\n        ccdCaseNumber: \"ccdCaseNumber\",\n        caseType: \"caseType\",\n        viewCompStatus: \"viewCompStatus\",\n        paymentGroupRef: \"paymentGroupRef\",\n        isTurnOff: \"isTurnOff\",\n        isRefundRemission: \"isRefundRemission\",\n        isStrategicFixEnable: \"isStrategicFixEnable\",\n        paidAmount: \"paidAmount\",\n        isFromRefundListPage: \"isFromRefundListPage\",\n        isFromPaymentDetailPage: \"isFromPaymentDetailPage\",\n        isFromServiceRequestPage: \"isFromServiceRequestPage\",\n        isFullyRefund: \"isFullyRefund\",\n        feeamount: \"feeamount\",\n        refundPaymentReference: \"refundPaymentReference\",\n        isFromRefundStatusPage: \"isFromRefundStatusPage\",\n        changeRefundReason: \"changeRefundReason\",\n        isServiceRequest: \"isServiceRequest\",\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        orderDetail: \"orderDetail\",\n        orderRef: \"orderRef\",\n        orderStatus: \"orderStatus\",\n        orderParty: \"orderParty\",\n        orderCreated: \"orderCreated\",\n        orderCCDEvent: \"orderCCDEvent\",\n        takePayment: [\"takepayment\", \"takePayment\"],\n        orderFeesTotal: \"orderFeesTotal\",\n        orderTotalPayments: \"orderTotalPayments\",\n        orderRemissionTotal: \"orderRemissionTotal\"\n      },\n      outputs: {\n        cancelRemission: \"cancelRemission\",\n        refundListReason: \"refundListReason\",\n        refundListAmount: \"refundListAmount\",\n        refundFees: \"refundFees\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([{\n        provide: 'ADD_REMISSION',\n        useExisting: AddRemissionComponent\n      }]), i0.ɵɵStandaloneFeature],\n      decls: 21,\n      vars: 20,\n      consts: [[1, \"add-remission\", \"pagesize\"], [4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [\"class\", \"govuk-error-summary__body\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDREMISSION\"], [\"myInput\", \"\"], [1, \"heading-large\"], [\"novalidate\", \"\"], [1, \"govuk-form-group\"], [\"novalidate\", \"\", 3, \"formGroup\"], [\"for\", \"remission-code\", 1, \"govuk-label\", \"govuk-label--s\"], [1, \"form-hint\"], [\"id\", \"remissionCode\", \"aria-label\", \"remissionCode\", \"name\", \"remissionCode\", \"type\", \"text\", \"formControlName\", \"remissionCode\", 1, \"govuk-input\", \"govuk-input--width-20\", \"govuk-!-margin-right-1\", 3, \"ngClass\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [\"for\", \"amount\", 1, \"govuk-label\", \"govuk-label--s\"], [\"id\", \"amount-currency\", 1, \"govuk-visually-hidden\"], [1, \"hmcts-currency-input\"], [\"aria-hidden\", \"true\", 1, \"hmcts-currency-input__symbol\"], [\"id\", \"amount\", \"aria-label\", \"amount\", \"name\", \"amount\", \"type\", \"text\", \"aria-describedby\", \"amount-currency\", \"formControlName\", \"amount\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"ngClass\"], [\"type\", \"submit\", 1, \"button\", 3, \"click\"], [1, \"inline-error-message\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDREMISSIONCONFIRMATION\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"govuk-table\"], [1, \"govuk-table__row\"], [1, \"govuk-table__cell\", \"govuk-!-font-weight-bold\"], [1, \"govuk-table__cell\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"PROCESSADDRETROREMISSIONPAGE\"], [1, \"heading-medium\"], [1, \"govuk-button-group\"], [1, \"govuk-button\", \"govuk-button--secondary\", 3, \"click\"], [1, \"govuk-button\", 3, \"click\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", \"pointer\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"PROCESSRETROREMISSIONPAGE\"], [1, \"govuk-fieldset\"], [1, \"govuk-fieldset__legend\", \"govuk-fieldset__legend--m\"], [\"class\", \"heading-medium\", 4, \"ngIf\"], [\"id\", \"amount\", \"aria-label\", \"amount\", \"name\", \"amount\", \"type\", \"number\", \"aria-describedby\", \"amount-currency\", \"formControlName\", \"amount\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"ngClass\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"CHECKRETROREMISSIONCONFIRMATION\"], [1, \"govuk-link\", \"right\", 3, \"click\"], [\"class\", \"govuk-table__cell govuk-!-font-weight-bold\", 4, \"ngIf\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"RETROREMISSIONCONFIRMATIONPAGE\"], [1, \"govuk-grid-row\"], [1, \"govuk-panel\", \"govuk-panel-border--confirmation\"], [1, \"govuk-panel__title\"], [\"class\", \"govuk-panel__body\", 4, \"ngIf\"], [1, \"govuk-body\"], [1, \"govuk-panel__body\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDRESSDETAILSRETROREMISSIONPAGE\"], [1, \"govuk-heading-l\"], [1, \"govuk-heading-m\", \"govuk-font19px\"], [3, \"addressObj\", \"assignContactDetails\", \"redirectToIssueRefund\"], [\"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [\"class\", \"contactDetails-width\", 4, \"ngIf\"], [\"href\", \"Javascript:void(0)\", \"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", 4, \"ngIf\"], [1, \"contactDetails-width\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"right\", 3, \"click\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"RETROREMISSIONREFUNDCONFIRMATIONPAGE\"], [1, \"govuk-panel\", \"govuk-panel--confirmation\"], [1, \"govuk-body\", \"white\"], [\"id\", \"how-contacted-conditional-hint\", 1, \"form-hint\", \"govuk-font19px\"], [1, \"heading-small\"], [1, \"govuk-table__head\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-1\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-18\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-6\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-8\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [\"draggable\", \"false\", \"class\", \"govuk-button govuk-button--secondary\", \"data-module\", \"govuk-button\", 3, \"click\", 4, \"ngIf\"], [1, \"govuk-button\", 3, \"disabled\", \"click\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", \"formArrayName\", \"feesList\", 4, \"ngFor\", \"ngForOf\"], [\"formArrayName\", \"feesList\", 1, \"govuk-table__row\"], [\"data-module\", \"govuk-checkboxes\", 1, \"govuk-checkboxes\", \"govuk-checkboxes--large\", 3, \"formGroupName\"], [1, \"govuk-checkboxes__item\"], [\"name\", \"organisation\", \"type\", \"checkbox\", \"formControlName\", \"selected\", 1, \"govuk-checkboxes__input\", 3, \"id\", \"value\", \"click\"], [1, \"govuk-label\", \"govuk-checkboxes__label\", 3, \"for\"], [2, \"display\", \"none\"], [1, \"govuk-table__cell\", \"whitespace-inherit\", \"left\"], [\"type\", \"hidden\", 2, \"display\", \"none\", \"background-color\", \"white\", 3, \"id\"], [\"class\", \"govuk-table__cell  whitespace-inherit left\", 4, \"ngIf\"], [\"scope\", \"row\", 1, \"govuk-table__cell\", \"whitespace-inherit\", \"center\"], [1, \"hmcts-currency-input\", 3, \"formGroupName\"], [\"disabled\", \"disabled\", \"type\", \"text\", \"aria-describedby\", \"amount-currency \", \"pattern\", \"[0-9]*\", \"formControlName\", \"refund_amount\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"id\", \"name\"], [\"type\", \"hidden\", \"formControlName\", \"volume\", 3, \"id\", \"name\", \"value\"], [\"type\", \"hidden\", \"formControlName\", \"apportion_amount\", 3, \"id\", \"name\", \"value\"], [\"type\", \"hidden\", \"formControlName\", \"calculated_amount\", 3, \"id\", \"name\", \"value\"], [3, \"formGroupName\"], [\"disabled\", \"disabled\", \"formControlName\", \"updated_volume\", \"type\", \"text\", 1, \"govuk-input\", \"govuk-input--width-4\", \"center\", 3, \"id\", \"value\", \"name\", \"keyup\"], [\"disabled\", \"disabled\", \"type\", \"text\", 1, \"govuk-input\", \"govuk-input--width-4\", \"center\", 3, \"id\", \"name\", \"value\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [\"data-module\", \"govuk-checkboxes\", 1, \"govuk-checkboxes\", \"govuk-checkboxes--large\"], [\"name\", \"organisation\", \"type\", \"checkbox\", \"disabled\", \"disabled\", 1, \"govuk-checkboxes__input\", 3, \"id\", \"value\", \"checked\"], [\"disabled\", \"disabled\", \"type\", \"text\", 1, \"govuk-input\", \"govuk-input--width-4\", \"center\", 3, \"id\", \"value\", \"name\"], [\"disabled\", \"disabled\", \"type\", \"text\", \"aria-describedby\", \"amount-currency \", \"pattern\", \"[0-9]*\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"id\", \"name\", \"value\"], [\"colspan\", \"6\", 1, \"govuk-table__cell\"], [\"draggable\", \"false\", \"data-module\", \"govuk-button\", 1, \"govuk-button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ISSUEREFUNDPAGE\"], [\"id\", \"how-contacted-conditional-hint govuk-font19px\", \"class\", \"form-hint\", 4, \"ngIf\"], [\"aria-describedby\", \"how-contacted-conditional-hint\", 1, \"govuk-fieldset\"], [\"data-module\", \"govuk-radios\", 3, \"ngClass\"], [1, \"container-fluid\"], [1, \"row\"], [\"class\", \"govuk-radios__item col-md-4\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"refundDDReason\", \"id\", \"sort\", 1, \"govuk-select\", 3, \"change\"], [\"selected\", \"selected\", 3, \"defaultSelected\", \"value\"], [3, \"id\", \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"govuk-radios__conditional\", 4, \"ngIf\"], [\"id\", \"how-contacted-conditional-hint govuk-font19px\", 1, \"form-hint\"], [1, \"govuk-radios__item\", \"col-md-4\"], [\"name\", \"refundReason\", \"type\", \"radio\", \"formControlName\", \"refundReason\", 1, \"govuk-radios__input\", 3, \"id\", \"value\", \"change\"], [\"for\", \"how-contacted-conditional\", 1, \"govuk-label--s\", \"govuk-radios__label\", \"govuk-font__custom\"], [1, \"govuk-radios__conditional\"], [1, \"govuk-label\", \"govuk-label--m\", 3, \"for\"], [3, \"ngClass\"], [\"id\", \"reason\", \"aria-label\", \"reason\", \"name\", \"reason\", \"type\", \"text\", \"aria-describedby\", \"reason\", \"maxlength\", \"30\", \"formControlName\", \"reason\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"ngClass\"], [3, \"id\", \"value\"], [\"for\", \"amount\", 1, \"govuk-label\", \"govuk-label--m\"], [\"id\", \"reason\", \"aria-label\", \"reason\", \"name\", \"reason\", \"type\", \"text\", \"aria-describedby\", \"reason\", \"formControlName\", \"reason\", 1, \"govuk-input\", \"govuk-input--width-10\", 3, \"ngClass\", \"maxlength\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"CAPTUREADDRESSDETAILSPAGE\"], [\"id\", \"how-contacted-conditional-hint\", 1, \"govuk-hint\", \"govuk-font19px\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"CHECKISSUEREFUNDPAGE\"], [\"class\", \"govuk-table__row\", 4, \"ngIf\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDREFUNDFORREMISSION\"], [3, \"contactDetails\", \"paymentReference\", \"payment\", \"refundReason\", \"refundAmount\", 4, \"ngIf\"], [3, \"contactDetails\", \"paymentReference\", \"payment\", \"refundReason\", \"refundAmount\"], [3, \"viewStatus\", \"orderRef\", \"isServiceRequest\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takePayment\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\"], [3, \"LOGGEDINUSERROLES\", \"isTurnOff\", \"isTakePayment\", \"caseType\", \"isServiceRequest\", \"orderRef\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\"]],\n      template: function AddRemissionComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, AddRemissionComponent_div_1_Template, 6, 1, \"div\", 1);\n          i0.ɵɵtemplate(2, AddRemissionComponent_div_2_Template, 5, 1, \"div\", 1);\n          i0.ɵɵtemplate(3, AddRemissionComponent_ng_container_3_Template, 27, 11, \"ng-container\", 1);\n          i0.ɵɵtemplate(4, AddRemissionComponent_ng_container_4_Template, 36, 11, \"ng-container\", 1);\n          i0.ɵɵtemplate(5, AddRemissionComponent_ng_container_5_Template, 27, 8, \"ng-container\", 1);\n          i0.ɵɵtemplate(6, AddRemissionComponent_ng_container_6_Template, 32, 11, \"ng-container\", 1);\n          i0.ɵɵtemplate(7, AddRemissionComponent_ng_container_7_Template, 56, 27, \"ng-container\", 1);\n          i0.ɵɵtemplate(8, AddRemissionComponent_ng_container_8_Template, 13, 2, \"ng-container\", 1);\n          i0.ɵɵtemplate(9, AddRemissionComponent_ng_container_9_Template, 12, 4, \"ng-container\", 1);\n          i0.ɵɵtemplate(10, AddRemissionComponent_ng_container_10_Template, 68, 34, \"ng-container\", 1);\n          i0.ɵɵtemplate(11, AddRemissionComponent_ng_container_11_Template, 16, 2, \"ng-container\", 1);\n          i0.ɵɵtemplate(12, AddRemissionComponent_ng_container_12_Template, 40, 11, \"ng-container\", 1);\n          i0.ɵɵtemplate(13, AddRemissionComponent_ng_container_13_Template, 38, 14, \"ng-container\", 1);\n          i0.ɵɵtemplate(14, AddRemissionComponent_ng_container_14_Template, 14, 5, \"ng-container\", 1);\n          i0.ɵɵtemplate(15, AddRemissionComponent_ng_container_15_Template, 56, 19, \"ng-container\", 1);\n          i0.ɵɵtemplate(16, AddRemissionComponent_ng_container_16_Template, 14, 5, \"ng-container\", 1);\n          i0.ɵɵtemplate(17, AddRemissionComponent_ng_container_17_Template, 63, 23, \"ng-container\", 1);\n          i0.ɵɵtemplate(18, AddRemissionComponent_ng_container_18_Template, 14, 2, \"ng-container\", 1);\n          i0.ɵɵtemplate(19, AddRemissionComponent_ng_container_19_Template, 2, 14, \"ng-container\", 1);\n          i0.ɵɵtemplate(20, AddRemissionComponent_ng_container_20_Template, 2, 14, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMsg.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"main\" && !ctx.isRefundRemission);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"confirmation\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"addremission\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"processretroremissonpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"checkretroremissionpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"retroremissionconfirmationpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"remissionAddressPage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"checkaddRefundpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"refundconfirmationpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"issuerefund\" && ctx.isRefundRemission);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"issuerefundpage1\" && ctx.isRefundRemission);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"contactDetailsPage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"checkissuerefundpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"addrefundforremission\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addrefundcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"retrorefundconfirmationpage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"order-full-view\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"payment-view\");\n        }\n      },\n      dependencies: function () {\n        return [PaymentViewComponent, CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.CurrencyPipe, ServiceRequestComponent, NotificationPreviewComponent, ContactDetailsComponent, CcdHyphensPipe, FormsModule, i1$1.ɵNgNoValidate, i1$1.NgSelectOption, i1$1.ɵNgSelectMultipleOption, i1$1.DefaultValueAccessor, i1$1.NumberValueAccessor, i1$1.CheckboxControlValueAccessor, i1$1.SelectControlValueAccessor, i1$1.RadioControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.MaxLengthValidator, i1$1.PatternValidator, i1$1.NgForm, ReactiveFormsModule, i1$1.FormGroupDirective, i1$1.FormControlName, i1$1.FormGroupName, i1$1.FormArrayName];\n      },\n      styles: [\".add-remission[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:20px 2px;padding:.5em;font-size:19px;font-weight:200}.add-remission[_ngcontent-%COMP%]   td.govuk-table__cell[_ngcontent-%COMP%]{width:50%}.add-remission[_ngcontent-%COMP%]   .govuk-button--secondary[_ngcontent-%COMP%]{background-color:#dee0e2;box-shadow:0 2px #858688;color:#0b0c0c;margin-right:.5em}.add-remission[_ngcontent-%COMP%]   .govuk-warning-text__text[_ngcontent-%COMP%], .add-remission[_ngcontent-%COMP%]   .govuk-label--s[_ngcontent-%COMP%], .add-remission[_ngcontent-%COMP%]   .hmcts-currency-input__symbol[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.add-remission[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0;border-color:#a71414}.add-remission[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;border-color:#a71414;font-weight:700;margin-top:10px;font-size:20px}.add-remission[_ngcontent-%COMP%]   .govuk-button[_ngcontent-%COMP%], .add-remission[_ngcontent-%COMP%]   .govuk-link[_ngcontent-%COMP%]{margin-right:1em;font-size:19px;font-weight:200}.add-remission[_ngcontent-%COMP%]   .govuk-button-group[_ngcontent-%COMP%]{padding-top:2em}.add-remission[_ngcontent-%COMP%]   .heading-medium[_ngcontent-%COMP%]{margin-top:.875em}.add-remission[_ngcontent-%COMP%]   .heading-large[_ngcontent-%COMP%]{margin-top:.25em}.add-remission[_ngcontent-%COMP%]   .govuk-panel--confirmation[_ngcontent-%COMP%]{color:#fff;background:#00703C}.add-remission[_ngcontent-%COMP%]   .govuk-panel__title[_ngcontent-%COMP%]{font-size:5rem}.add-remission[_ngcontent-%COMP%]   .govuk-body-m[_ngcontent-%COMP%], .add-remission[_ngcontent-%COMP%]   .govuk-body[_ngcontent-%COMP%]{font-size:2.1875rem}.add-remission[_ngcontent-%COMP%]   .govuk-radios__item[_ngcontent-%COMP%]{clear:initial!important;display:inline-block;width:45%!important}.add-remission[_ngcontent-%COMP%]   .govuk-radios__conditional[_ngcontent-%COMP%]{padding-top:12px!important}.add-remission[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right;cursor:pointer}.add-remission[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{float:right}.govuk-input[_ngcontent-%COMP%], .govuk-font19px[_ngcontent-%COMP%]{font-size:19px}.govuk-select[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.govuk-input--width-10[_ngcontent-%COMP%]{max-width:50ex}.govuk-label--m[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.govuk-error-summary__body[_ngcontent-%COMP%]{font-size:19px!important}.govuk-error-summary__title[_ngcontent-%COMP%]{font-size:24px!important}.white[_ngcontent-%COMP%]{color:#fff}.pagesize[_ngcontent-%COMP%]{margin:2em;width:97%}.pointer[_ngcontent-%COMP%]{cursor:pointer}.col-18[_ngcontent-%COMP%]{min-width:18em}.col-6[_ngcontent-%COMP%]{min-width:6em}.col-8[_ngcontent-%COMP%]{min-width:8em}.col-1[_ngcontent-%COMP%]{min-width:1em}.col-25[_ngcontent-%COMP%]{width:25%!important}.col-24[_ngcontent-%COMP%]{width:24%!important}.left[_ngcontent-%COMP%]{text-align:left}.center[_ngcontent-%COMP%]{text-align:center}.col-60[_ngcontent-%COMP%]{width:60%;text-align:left}.margin-top--size[_ngcontent-%COMP%]{margin-top:-30px}.contactDetails-width[_ngcontent-%COMP%]{width:70%}.right[_ngcontent-%COMP%]{cursor:pointer}.form-hint[_ngcontent-%COMP%]{font-size:19px!important}.govuk-panel-border--confirmation[_ngcontent-%COMP%]{color:#0b0c0c;border:5px solid #00703C}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}.govuk-link[_ngcontent-%COMP%]{cursor:pointer}\"]\n    });\n  }\n  return AddRemissionComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StatusHistoryService = /*#__PURE__*/(() => {\n  class StatusHistoryService {\n    http;\n    logger;\n    errorHandlerService;\n    paymentLibService;\n    constructor(http, logger, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.logger = logger;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getPaymentStatusesByReference(paymentReference, paymentMethod) {\n      this.logger.info('Status-history-service getPaymentStatusesByReference for: ', paymentReference);\n      return this.http.get(paymentMethod === 'card' || paymentMethod === 'cash' || paymentMethod === 'cheque' || paymentMethod === 'postal order' ? `${this.paymentLibService.API_ROOT}/card-payments/${paymentReference}/statuses` : `${this.paymentLibService.API_ROOT}/credit-account-payments/${paymentReference}/statuses`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function StatusHistoryService_Factory(t) {\n      return new (t || StatusHistoryService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(LoggerService), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: StatusHistoryService,\n      factory: StatusHistoryService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return StatusHistoryService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StatusHistoryComponent = /*#__PURE__*/(() => {\n  class StatusHistoryComponent {\n    statusHistoryService;\n    paymentLibComponent;\n    isTakePayment;\n    pageTitle = 'Payment status history';\n    statuses;\n    errorMessage;\n    constructor(statusHistoryService, paymentLibComponent) {\n      this.statusHistoryService = statusHistoryService;\n      this.paymentLibComponent = paymentLibComponent;\n    }\n    ngOnInit() {\n      this.statusHistoryService.getPaymentStatusesByReference(this.paymentLibComponent.paymentReference, this.paymentLibComponent.paymentMethod).subscribe(statuses => this.statuses = statuses, error => this.errorMessage = error.replace(/\"/g, \"\"));\n    }\n    static ɵfac = function StatusHistoryComponent_Factory(t) {\n      return new (t || StatusHistoryComponent)(i0.ɵɵdirectiveInject(StatusHistoryService), i0.ɵɵdirectiveInject('PAYMENT_LIB'));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: StatusHistoryComponent,\n      selectors: [[\"ccpay-payment-statuses\"]],\n      inputs: {\n        isTakePayment: \"isTakePayment\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 5,\n      vars: 3,\n      consts: [[1, \"column\"], [1, \"heading-medium\"], [\"class\", \"error-summary\", \"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 4, \"ngIf\"], [4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function StatusHistoryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(3, StatusHistoryComponent_div_3_Template, 5, 1, \"div\", 2);\n          i0.ɵɵtemplate(4, StatusHistoryComponent_div_4_Template, 11, 2, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.pageTitle);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.errorMessage && ctx.statuses);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.DatePipe]\n    });\n  }\n  return StatusHistoryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst BS_ENABLE_FLAG$2 = 'bulk-scan-enabling-fe';\nlet PaymentViewComponent = /*#__PURE__*/(() => {\n  class PaymentViewComponent {\n    paymentViewService;\n    notificationService;\n    paymentLibComponent;\n    cd;\n    OrderslistService;\n    isTurnOff;\n    isTakePayment;\n    caseType;\n    orderRef;\n    orderStatus;\n    orderTotalPayments;\n    payment;\n    LOGGEDINUSERROLES;\n    ISPAYMENTSTATUSENABLED;\n    orderParty;\n    orderCreated;\n    orderCCDEvent;\n    orderFeesTotal;\n    orderRemissionTotal;\n    orderDetail;\n    fees;\n    isFullyRefund;\n    isServiceRequest;\n    errorMsg;\n    paymentGroup;\n    errorMessage;\n    ccdCaseNumber;\n    selectedOption;\n    dcnNumber;\n    isStatusAllocated;\n    isRemissionsMatch;\n    feeId;\n    viewStatus;\n    isRefundRemission = false;\n    isStrategicFixEnable;\n    isAddFeeBtnEnabled = false;\n    isIssueRefunfBtnEnable = false;\n    allowedRolesToAccessRefund = ['payments-refund-approver', 'payments-refund'];\n    remissions = [];\n    allPaymentsFailure = [];\n    selectedPaymentsStatus;\n    remissionFeeAmt;\n    isRefundRemissionBtnEnable;\n    serviceReference;\n    isFromServiceRequestPage;\n    isFromPaymentDetailPage;\n    paymentFees;\n    paymentType;\n    isContinueBtnDisabled = true;\n    viewCompStatus;\n    contactDetailsObj;\n    notification;\n    isConfirmationBtnDisabled;\n    refundReference;\n    refundAmount;\n    templateInstructionType;\n    notificationPreview;\n    constructor(paymentViewService, notificationService, paymentLibComponent, cd, OrderslistService) {\n      this.paymentViewService = paymentViewService;\n      this.notificationService = notificationService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.cd = cd;\n      this.OrderslistService = OrderslistService;\n    }\n    ngAfterContentChecked() {\n      this.cd.detectChanges();\n    }\n    ngOnInit() {\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.selectedOption = this.paymentLibComponent.SELECTED_OPTION;\n      this.dcnNumber = this.paymentLibComponent.DCN_NUMBER;\n      this.isTurnOff = this.paymentLibComponent.ISTURNOFF;\n      this.serviceReference = this.paymentLibComponent.paymentGroupReference;\n      this.viewStatus = 'paymentview';\n      this.paymentViewService.getApportionPaymentDetails(this.paymentLibComponent.paymentReference).subscribe(paymentGroup => {\n        let fees = [];\n        paymentGroup.fees.forEach(fee => {\n          this.isRemissionsMatch = false;\n          paymentGroup.remissions.forEach(rem => {\n            if (rem.fee_code === fee.code) {\n              this.isRemissionsMatch = true;\n              fee['remissions'] = rem;\n              fees.push(fee);\n            }\n          });\n          if (!this.isRemissionsMatch) {\n            fees.push(fee);\n          }\n        });\n        paymentGroup.fees = fees;\n        this.paymentFees = fees;\n        this.paymentGroup = paymentGroup;\n        this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(this.paymentLibComponent.paymentReference));\n        const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n        this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n      }, error => this.errorMessage = error);\n      this.paymentViewService.getPaymentFailure(this.paymentLibComponent.paymentReference).subscribe({\n        next: res => {\n          JSON.parse(res).payment_failure_list.reverse().forEach(payments => {\n            this.allPaymentsFailure.push(payments.payment_failure_initiated);\n            if (payments.payment_failure_closed) {\n              this.allPaymentsFailure.push(payments.payment_failure_closed);\n            }\n          });\n          this.allPaymentsFailure = this.allPaymentsFailure.reverse();\n        },\n        error: e => {\n          this.allPaymentsFailure = [];\n          this.errorMsg = \"Server error\";\n        }\n      });\n    }\n    get isCardPayment() {\n      return this.paymentGroup.payments[0].method === 'card';\n    }\n    get isTelephonyPayment() {\n      return this.paymentGroup.payments[0].channel === 'telephony';\n    }\n    goToPaymentList() {\n      this.paymentLibComponent.viewName = 'payment-list';\n    }\n    getOverPaymentValue() {\n      let feesOverPayment = 0;\n      this.paymentGroup.fees.forEach(fee => {\n        feesOverPayment += fee.over_payment;\n      });\n      return feesOverPayment > 0 ? feesOverPayment : this.paymentGroup.payments[0].over_payment;\n    }\n    goToServiceRequestPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.TAKEPAYMENT = false;\n      this.paymentLibComponent.SERVICEREQUEST = 'true';\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n      window.location.reload();\n    }\n    goToCaseTransationPage(event) {\n      event.preventDefault();\n      if (!this.paymentLibComponent.isFromServiceRequestPage) {\n        this.OrderslistService.setnavigationPage('casetransactions');\n        this.OrderslistService.setisFromServiceRequestPage(false);\n        this.paymentLibComponent.viewName = 'case-transactions';\n        this.paymentLibComponent.ISBSENABLE = true;\n        this.resetOrderData();\n      } else {\n        this.OrderslistService.getorderRefs().subscribe(data => this.orderRef = data);\n        this.OrderslistService.getorderCCDEvents().subscribe(data => this.orderCCDEvent = data);\n        this.OrderslistService.getorderCreateds().subscribe(data => this.orderCreated = data);\n        this.OrderslistService.getorderDetail().subscribe(data => this.orderDetail = data);\n        this.OrderslistService.getorderPartys().subscribe(data => this.orderParty = data);\n        this.OrderslistService.getorderRemissionTotals().subscribe(data => this.orderRemissionTotal = data);\n        this.OrderslistService.getorderFeesTotals().subscribe(data => this.orderFeesTotal = data);\n        this.OrderslistService.getoorderTotalPaymentss().subscribe(data => this.orderTotalPayments = data);\n        this.viewStatus = 'order-full-view';\n      }\n    }\n    addRemission(fee) {\n      if (this.chkIsAddRemissionBtnEnable(fee)) {\n        this.feeId = fee;\n        this.paymentViewService.getApportionPaymentDetails(this.paymentGroup.payments[0].reference).subscribe(paymentGroup => {\n          this.paymentGroup = paymentGroup;\n          this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(this.paymentLibComponent.paymentReference));\n          this.payment = this.paymentGroup.payments[0];\n          this.paymentLibComponent.isFromPaymentDetailPage = true;\n          this.viewStatus = 'addremission';\n          this.isRefundRemission = true;\n          this.cd.detectChanges();\n        }, error => this.errorMessage = error);\n      }\n    }\n    checkForFees(paymentGroup) {\n      if (paymentGroup !== null && paymentGroup !== undefined) {\n        if (paymentGroup.fees !== null && paymentGroup.fees !== undefined) {\n          return true;\n        }\n      }\n      return false;\n    }\n    processRefund() {\n      this.isConfirmationBtnDisabled = true;\n      this.errorMessage = '';\n      const obj = this.paymentGroup.fees[0];\n      this.fees = [{\n        id: obj.id,\n        code: obj.code,\n        version: obj.version,\n        apportion_amount: obj.apportion_amount,\n        calculated_amount: obj.calculated_amount,\n        updated_volume: obj.updated_volume ? obj.updated_volume : obj.volume,\n        volume: obj.volume,\n        refund_amount: this.getOverPaymentValue()\n      }];\n      const requestBody = new PostRefundRetroRemission(this.contactDetailsObj, this.fees, this.paymentGroup.payments[0].reference, 'RR037', this.getOverPaymentValue(), 'op');\n      this.paymentViewService.postRefundsReason(requestBody).subscribe(response => {\n        if (JSON.parse(response)) {\n          this.viewCompStatus = '';\n          this.viewStatus = 'refundconfirmationpage';\n          this.refundReference = JSON.parse(response).refund_reference;\n          this.refundAmount = JSON.parse(response).refund_amount;\n        }\n      }, error => {\n        this.errorMessage = error;\n        this.isConfirmationBtnDisabled = false;\n        this.cd.detectChanges();\n      });\n    }\n    gotoAddressPage(note) {\n      if (note) {\n        this.notification = {\n          contact_details: note,\n          notification_type: note.notification_type\n        };\n      }\n      this.errorMessage = '';\n      this.viewCompStatus = 'overPaymentAddressCapture';\n    }\n    addRefundForRemission(payment, remission, fees) {\n      //if(!this.chkIsIssueRefundBtnEnable(payment)) {\n      this.paymentViewService.getApportionPaymentDetails(payment.reference).subscribe(paymentGroup => {\n        this.paymentGroup = paymentGroup;\n        this.paymentGroup.payments = this.paymentGroup.payments.filter(paymentGroupObj => paymentGroupObj['reference'].includes(payment.reference));\n        this.payment = this.paymentGroup.payments[0];\n        this.remissions = remission;\n        this.remissionFeeAmt = fees.filter(data => data.code === this.remissions['fee_code'])[0].net_amount;\n        this.viewStatus = 'addrefundforremission';\n        // const paymentAllocation = this.paymentGroup.payments[0].payment_allocation;\n        // this.isStatusAllocated = paymentAllocation.length > 0 && paymentAllocation[0].allocation_status === 'Allocated' || paymentAllocation.length === 0;\n      }, error => this.errorMessage = error);\n      //}\n    }\n\n    goToPaymentViewComponent() {\n      this.viewCompStatus = '';\n      this.viewStatus = 'paymentview';\n    }\n    issueRefund(paymentgrp) {\n      if (paymentgrp !== null && paymentgrp !== undefined) {\n        if (this.chkIsIssueRefundBtnEnable(paymentgrp.payments[0])) {\n          if (paymentgrp.payments[0].over_payment > 0) {\n            this.viewCompStatus = 'overpayment';\n          } else {\n            this.paymentGroup = paymentgrp;\n            this.viewStatus = 'issuerefund';\n            this.isRefundRemission = true;\n            this.paymentLibComponent.isFromPaymentDetailPage = true;\n            this.isFromPaymentDetailPage = true;\n            this.isFromServiceRequestPage = false;\n          }\n        }\n      }\n    }\n    getRemissionByFeeCode(feeCode, remissions) {\n      if (remissions && remissions.length > 0) {\n        for (const remission of remissions) {\n          if (remission.fee_code === feeCode) {\n            return remission;\n          }\n        }\n      }\n      return null;\n    }\n    chkIsIssueRefundBtnEnable(payment) {\n      if (payment !== null && payment !== undefined) {\n        return payment.issue_refund && payment.refund_enable;\n      } else {\n        return false;\n      }\n    }\n    chkIsAddRefundBtnEnable(remission) {\n      if (remission !== null && remission !== undefined) {\n        return remission.add_refund;\n      } else {\n        return false;\n      }\n    }\n    chkIsAddRemissionBtnEnable(fee) {\n      if (fee !== null && fee !== undefined) {\n        return fee.add_remission && fee.remission_enable;\n      } else {\n        return false;\n      }\n    }\n    selectPymentOption(paymentType) {\n      this.paymentType = paymentType;\n      this.isContinueBtnDisabled = false;\n    }\n    continuePayment(paymentgrp) {\n      if (this.paymentType === 'op') {\n        this.isFullyRefund = false;\n        this.viewCompStatus = 'overPaymentAddressCapture';\n      } else if (this.paymentType === 'fp') {\n        this.isFullyRefund = true;\n        this.paymentGroup = paymentgrp;\n        this.viewStatus = 'issuerefund';\n        this.viewCompStatus = \"\";\n        this.isRefundRemission = true;\n        this.paymentLibComponent.isFromPaymentDetailPage = true;\n        this.isFromPaymentDetailPage = true;\n        this.isFromServiceRequestPage = this.paymentLibComponent.isFromServiceRequestPage;\n      }\n    }\n    gotoPaymentSelectPage(event) {\n      event.preventDefault();\n      this.viewCompStatus = 'overpayment';\n    }\n    getContactDetails(obj) {\n      this.contactDetailsObj = obj;\n      this.notificationPreview = false;\n      this.getTemplateInstructionType(this.paymentGroup.payments[0]);\n      this.viewCompStatus = 'overpaymentcheckandanswer';\n    }\n    resetOrderData() {\n      this.OrderslistService.setOrderRef(null);\n      this.OrderslistService.setorderCCDEvent(null);\n      this.OrderslistService.setorderCreated(null);\n      this.OrderslistService.setorderDetail(null);\n      this.OrderslistService.setorderParty(null);\n      this.OrderslistService.setorderTotalPayments(null);\n      this.OrderslistService.setorderRemissionTotal(null);\n      this.OrderslistService.setorderFeesTotal(null);\n    }\n    goToPaymentFailuePage(payment) {\n      this.viewStatus = 'payment-failure';\n      this.selectedPaymentsStatus = payment;\n    }\n    goBackToPaymentView(event) {\n      event.preventDefault();\n      this.viewStatus = 'paymentview';\n    }\n    getTemplateInstructionType(payment) {\n      if (payment == undefined || payment == null) {\n        this.templateInstructionType = 'Template';\n      } else {\n        this.templateInstructionType = this.notificationService.getNotificationInstructionType(payment.channel, payment.method);\n      }\n    }\n    showNotificationPreview() {\n      this.notificationPreview = true;\n    }\n    hideNotificationPreview() {\n      this.notificationPreview = false;\n    }\n    static ɵfac = function PaymentViewComponent_Factory(t) {\n      return new (t || PaymentViewComponent)(i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PaymentViewComponent,\n      selectors: [[\"ccpay-payment-view\"]],\n      inputs: {\n        isTurnOff: \"isTurnOff\",\n        isTakePayment: \"isTakePayment\",\n        caseType: \"caseType\",\n        orderRef: \"orderRef\",\n        orderStatus: \"orderStatus\",\n        orderTotalPayments: \"orderTotalPayments\",\n        payment: \"payment\",\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        ISPAYMENTSTATUSENABLED: \"ISPAYMENTSTATUSENABLED\",\n        orderParty: \"orderParty\",\n        orderCreated: \"orderCreated\",\n        orderCCDEvent: \"orderCCDEvent\",\n        orderFeesTotal: \"orderFeesTotal\",\n        orderRemissionTotal: \"orderRemissionTotal\",\n        orderDetail: \"orderDetail\",\n        isServiceRequest: \"isServiceRequest\"\n      },\n      standalone: true,\n      features: [i0.ɵɵProvidersFeature([{\n        provide: 'PAYMENT_VIEW',\n        useExisting: forwardRef(() => PaymentViewComponent)\n      }]), i0.ɵɵStandaloneFeature],\n      decls: 12,\n      vars: 10,\n      consts: [[1, \"payment-view-section\"], [4, \"ngIf\"], [1, \"over-payment\"], [1, \"govuk-width-container\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [1, \"govuk-breadcrumbs__list-item\"], [\"href\", \"javascript:void(0)\", 1, \"govuk-back-link\", 3, \"click\"], [\"id\", \"main-content\", \"role\", \"main\", 1, \"govuk-main-wrapper\", \"govuk-!-padding-top-0\"], [\"class\", \"payment-view-alignment\", 4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [1, \"payment-view-alignment\"], [\"type\", \"hidden\", \"value\", \"PAYMENTDETAILS\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [1, \"govuk-grid-row\"], [1, \"column\"], [1, \"heading-large\", \"govuk-!-margin-top-0\"], [1, \"section\"], [1, \"bold\", \"tb-col-w\"], [1, \"tb-col-w\"], [\"class\", \"section\", 4, \"ngIf\"], [1, \"tb-col-w\", \"text-transform\"], [3, \"isTakePayment\", 4, \"ngIf\"], [1, \"remission\"], [1, \"govuk-button\", \"govuk-button--secondary\", 3, \"disabled\", \"click\"], [\"class\", \"tb-col-w\", 4, \"ngIf\"], [3, \"isTakePayment\"], [1, \"heading-medium\"], [4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"colspan\", \"6\"], [1, \"order-class\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-24\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"col-27\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"whitespace-inherit\"], [\"scope\", \"col\", 1, \"govuk-table__header\", \"whitespace-inherit\", \"refundBtn\"], [\"class\", \"govuk-table__body\", 4, \"ngFor\", \"ngForOf\"], [1, \"heading-large\"], [1, \"table\"], [1, \"bold\", \"tb-col-w\", 3, \"ngClass\"], [3, \"ngClass\"], [1, \"bold\", \"tb-col-w\", \"tr-border\", 3, \"ngClass\"], [1, \"govuk-table__body\"], [1, \"govuk-table__cell\", \"whitespace-inherit\"], [1, \"govuk-table__cell\", \"refundBtn\", \"whitespace-inherit\"], [1, \"mar-17\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"fee\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"paymentGroupRef\", \"isFromPaymentDetailPage\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"viewCompStatus\", \"payment\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"feeamount\", \"remission\", \"isFromServiceRequestPage\", \"paymentGroupRef\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"payment\", \"viewCompStatus\", \"orderStatus\", \"paidAmount\", \"isRefundRemission\", \"caseType\", \"isFromServiceRequestPage\", \"isFromPaymentDetailPage\", \"paymentGroupRef\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"orderRef\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"fees\", \"isFullyRefund\", \"LOGGEDINUSERROLES\"], [3, \"viewStatus\", \"orderRef\", \"orderStatus\", \"orderCreated\", \"orderParty\", \"orderCCDEvent\", \"orderDetail\", \"LOGGEDINUSERROLES\", \"takePayment\", \"ccdCaseNumber\", \"orderFeesTotal\", \"orderTotalPayments\", \"orderRemissionTotal\", \"isServiceRequest\", \"goToServiceRquestComponent\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"OVERPAYMENTPAGE\"], [\"id\", \"how-contacted-conditional-hint govuk-font19px\", 1, \"form-hint\"], [1, \"govuk-form-group\"], [1, \"govuk-fieldset\"], [1, \"govuk-fieldset__legend\", \"govuk-fieldset__legend--l\"], [\"data-module\", \"govuk-radios\", 1, \"govuk-radios\"], [1, \"govuk-radios__item\"], [\"id\", \"over-payment\", \"name\", \"over-payment\", \"type\", \"radio\", \"value\", \"op\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"where-do-you-live\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [\"id\", \"full-payment\", \"name\", \"over-payment\", \"type\", \"radio\", \"value\", \"fp\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"where-do-you-live-2\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font19px\"], [1, \"govuk-button\", \"govuk-button--secondary\", \"over-payment-alignment\", \"govuk-font19px\", 3, \"click\"], [1, \"govuk-button\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"OVERPAYMENTADDRESSCAPTUREPAGE\"], [1, \"govuk-heading-l\"], [1, \"govuk-heading-m\", \"govuk-font19px\"], [\"id\", \"how-contacted-conditional-hint\", 1, \"govuk-hint\", \"govuk-font19px\"], [3, \"addressObj\", \"assignContactDetails\", \"redirectToIssueRefund\"], [\"data-module\", \"govuk-button\", 1, \"govuk-link\", 3, \"click\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"ADDREFUNDFORREMISSION\"], [1, \"govuk-warning-text\"], [1, \"govuk-table__cell\", \"govuk-!-font-weight-bold\"], [1, \"govuk-table__cell\"], [\"class\", \"contactDetails-width\", 4, \"ngIf\"], [1, \"govuk-link\", \"right\", 3, \"click\"], [\"href\", \"Javascript:void(0)\", \"class\", \"govuk-link right\", 3, \"click\", 4, \"ngIf\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", \"over-payment-alignment\", \"govuk-font19px\", 3, \"click\"], [\"type\", \"submit\", 3, \"ngClass\", \"click\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", \"govuk-font19px\", 3, \"click\"], [1, \"contactDetails-width\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"right\", 3, \"click\"], [3, \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\"], [\"type\", \"hidden\", \"id\", \"iFrameDrivenImageValue\", \"value\", \"RETROREMISSIONREFUNDCONFIRMATIONPAGE\"], [1, \"govuk-grid-row\", \"pagesize\"], [1, \"govuk-panel\", \"govuk-panel--confirmation\"], [1, \"govuk-panel__title\"], [1, \"govuk-panel__body\"], [1, \"govuk-body\", \"white\"], [1, \"govuk-body\"], [\"href\", \"javascript:void(0)\", \"data-module\", \"govuk-button\", 1, \"govuk-link\", \"pointer\", 3, \"click\"], [1, \"payment-failure-alignment\"], [1, \"bold\"]],\n      template: function PaymentViewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, PaymentViewComponent_ng_container_1_Template, 10, 2, \"ng-container\", 1);\n          i0.ɵɵtemplate(2, PaymentViewComponent_ng_container_2_Template, 2, 21, \"ng-container\", 1);\n          i0.ɵɵtemplate(3, PaymentViewComponent_ng_container_3_Template, 2, 22, \"ng-container\", 1);\n          i0.ɵɵtemplate(4, PaymentViewComponent_ng_container_4_Template, 3, 23, \"ng-container\", 1);\n          i0.ɵɵtemplate(5, PaymentViewComponent_ng_container_5_Template, 2, 14, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 2);\n          i0.ɵɵtemplate(7, PaymentViewComponent_ng_container_7_Template, 30, 14, \"ng-container\", 1);\n          i0.ɵɵtemplate(8, PaymentViewComponent_ng_container_8_Template, 14, 5, \"ng-container\", 1);\n          i0.ɵɵtemplate(9, PaymentViewComponent_ng_container_9_Template, 63, 27, \"ng-container\", 1);\n          i0.ɵɵtemplate(10, PaymentViewComponent_ng_container_10_Template, 20, 7, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, PaymentViewComponent_ng_container_11_Template, 60, 20, \"ng-container\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"paymentview\" && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addremission\" && ctx.feeId && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"addrefundforremission\" && ctx.payment && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"issuerefund\" && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"order-full-view\" && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overpayment\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overPaymentAddressCapture\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewCompStatus === \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"refundconfirmationpage\" && ctx.viewCompStatus !== \"overpayment\" && ctx.viewCompStatus !== \"overPaymentAddressCapture\" && ctx.viewCompStatus !== \"overpaymentcheckandanswer\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"payment-failure\");\n        }\n      },\n      dependencies: function () {\n        return [CommonModule, i3.NgClass, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.CurrencyPipe, i3.DatePipe, AddRemissionComponent, StatusHistoryComponent, ServiceRequestComponent, ContactDetailsComponent, NotificationPreviewComponent, CcdHyphensPipe, CapitalizePipe];\n      },\n      styles: [\".payment-view-section[_ngcontent-%COMP%]   .tb-col-w[_ngcontent-%COMP%]{width:330px}.payment-view-section[_ngcontent-%COMP%]   .tr-border[_ngcontent-%COMP%]{border-bottom:2px solid}.payment-view-section[_ngcontent-%COMP%]   .payment-view-alignment[_ngcontent-%COMP%]{margin-left:30px}.payment-view-section[_ngcontent-%COMP%]   .govuk-button[_ngcontent-%COMP%]{font-size:19px;float:left;margin-top:2em}.payment-view-section[_ngcontent-%COMP%]   .remission[_ngcontent-%COMP%]{margin-bottom:7em}.payment-view-section[_ngcontent-%COMP%]   .govuk-error-summary__title[_ngcontent-%COMP%]{font-size:24px!important}.payment-view-section[_ngcontent-%COMP%]   .govuk-table__cell[_ngcontent-%COMP%], .payment-view-section[_ngcontent-%COMP%]   .govuk-table__header[_ngcontent-%COMP%]{padding:0;line-height:1.3;vertical-align:middle}.payment-view-section[_ngcontent-%COMP%]   .govuk-table__row[_ngcontent-%COMP%]{line-height:1.3}.payment-view-section[_ngcontent-%COMP%]   .govuk-table__cell[_ngcontent-%COMP%]:last-child{text-align:right}.payment-view-section[_ngcontent-%COMP%]   .text-transform[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.payment-view-section[_ngcontent-%COMP%]   .govuk-link[_ngcontent-%COMP%]{cursor:pointer}.payment-view-section[_ngcontent-%COMP%]   .mar-17[_ngcontent-%COMP%]{font-size:19px!important}.over-payment[_ngcontent-%COMP%]   .pagesize[_ngcontent-%COMP%]{margin:2em;width:97%}.over-payment[_ngcontent-%COMP%]   .contactDetails-width[_ngcontent-%COMP%]{width:70%}.over-payment[_ngcontent-%COMP%]   .margin-top10px[_ngcontent-%COMP%]{margin-top:20px}.over-payment[_ngcontent-%COMP%]   .govuk-font19px[_ngcontent-%COMP%]{font-size:19px!important}.over-payment[_ngcontent-%COMP%]   .margin-top--size[_ngcontent-%COMP%]{margin-top:-30px}.over-payment[_ngcontent-%COMP%]   .over-payment-alignment[_ngcontent-%COMP%]{margin-right:10px}.over-payment[_ngcontent-%COMP%]   .govuk-button[_ngcontent-%COMP%]{font-size:19px;float:left;margin-top:2em}.over-payment[_ngcontent-%COMP%]   td.govuk-table__cell[_ngcontent-%COMP%]{width:50%}.over-payment[_ngcontent-%COMP%]   .govuk-warning-text__text[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .govuk-label--s[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .hmcts-currency-input__symbol[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.over-payment[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0;border-color:#a71414}.over-payment[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;border-color:#a71414;font-weight:700;margin-top:10px;font-size:20px}.over-payment[_ngcontent-%COMP%]   .govuk-button-group[_ngcontent-%COMP%]{padding-top:2em}.over-payment[_ngcontent-%COMP%]   .heading-medium[_ngcontent-%COMP%]{margin-top:.875em}.over-payment[_ngcontent-%COMP%]   .heading-large[_ngcontent-%COMP%]{margin-top:.25em}.over-payment[_ngcontent-%COMP%]   .govuk-panel--confirmation[_ngcontent-%COMP%]{color:#fff;background:#00703C}.over-payment[_ngcontent-%COMP%]   .govuk-panel__title[_ngcontent-%COMP%]{font-size:5rem}.over-payment[_ngcontent-%COMP%]   .govuk-body-m[_ngcontent-%COMP%], .over-payment[_ngcontent-%COMP%]   .govuk-body[_ngcontent-%COMP%]{font-size:2.1875rem}.over-payment[_ngcontent-%COMP%]   .govuk-link[_ngcontent-%COMP%]{cursor:pointer}.over-payment[_ngcontent-%COMP%]   .govuk-radios__conditional[_ngcontent-%COMP%]{padding-top:12px!important}.over-payment[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:right;cursor:pointer}.over-payment[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{float:right}.over-payment[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{color:#fff}.whitespace-inherit[_ngcontent-%COMP%]{white-space:inherit!important}\"]\n    });\n  }\n  return PaymentViewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentListService = /*#__PURE__*/(() => {\n  class PaymentListService {\n    http;\n    logger;\n    errorHandlerService;\n    paymentLibService;\n    payments;\n    constructor(http, logger, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.logger = logger;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getPaymentByCcdCaseNumber(ccdCaseNumber, paymentMethod) {\n      this.logger.info('Payment-list-service getPaymentByCcdCaseNumber for: ', ccdCaseNumber);\n      return this.http.get(`${this.paymentLibService.API_ROOT}/cases/${ccdCaseNumber}/payments`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function PaymentListService_Factory(t) {\n      return new (t || PaymentListService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(LoggerService), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: PaymentListService,\n      factory: PaymentListService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return PaymentListService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentListComponent = /*#__PURE__*/(() => {\n  class PaymentListComponent {\n    paymentListService;\n    paymentLibComponent;\n    payments;\n    errorMessage;\n    code;\n    constructor(paymentListService, paymentLibComponent) {\n      this.paymentListService = paymentListService;\n      this.paymentLibComponent = paymentLibComponent;\n    }\n    ngOnInit() {\n      this.paymentListService.getPaymentByCcdCaseNumber(this.paymentLibComponent.CCD_CASE_NUMBER, this.paymentLibComponent.PAYMENT_METHOD).subscribe(payments => this.payments = payments, error => this.errorMessage = error);\n    }\n    loadPaymentViewComponent(paymentGroupReference, paymentReference, paymentMethod) {\n      this.paymentLibComponent.paymentMethod = paymentMethod;\n      this.paymentLibComponent.paymentGroupReference = paymentGroupReference;\n      this.paymentLibComponent.paymentReference = paymentReference;\n      this.paymentLibComponent.viewName = 'payment-view';\n    }\n    static ɵfac = function PaymentListComponent_Factory(t) {\n      return new (t || PaymentListComponent)(i0.ɵɵdirectiveInject(PaymentListService), i0.ɵɵdirectiveInject('PAYMENT_LIB'));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PaymentListComponent,\n      selectors: [[\"ccpay-payment-list\"]],\n      decls: 3,\n      vars: 2,\n      consts: [[1, \"govuk-width-container\"], [4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [1, \"table\"], [1, \"bold\", \"font-xsmall\"], [4, \"ngFor\", \"ngForOf\"], [1, \"font-xsmall\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [\"class\", \"font-xsmall\", 4, \"ngIf\"], [1, \"summary\", \"font-xsmall\"], [\"class\", \"panel panel-border-narrow\", 4, \"ngIf\"], [1, \"panel\", \"panel-border-narrow\"]],\n      template: function PaymentListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, PaymentListComponent_div_1_Template, 6, 1, \"div\", 1);\n          i0.ɵɵtemplate(2, PaymentListComponent_div_2_Template, 18, 1, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.errorMessage && ctx.payments);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.TitleCasePipe, i3.DatePipe]\n    });\n  }\n  return PaymentListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass IserviceRequestCardPayment {\n  amount;\n  currency;\n  language;\n  constructor(amount) {\n    this.amount = amount;\n    this.currency = 'GBP';\n    this.language = 'string';\n  }\n}\nclass IserviceRequestPbaPayment {\n  account_number;\n  amount;\n  currency;\n  customer_reference;\n  organisation_name;\n  constructor(account_number, amount, customer_reference, orgName) {\n    this.account_number = account_number;\n    this.amount = amount;\n    this.currency = 'GBP';\n    this.customer_reference = customer_reference;\n    this.organisation_name = orgName;\n  }\n}\nconst BS_ENABLE_FLAG$1 = 'bulk-scan-enabling-fe';\nlet PbaPaymentComponent = /*#__PURE__*/(() => {\n  class PbaPaymentComponent {\n    paymentLibComponent;\n    paymentViewService;\n    pbaPayOrderRef;\n    viewStatus;\n    pbaAccountList;\n    isPBAAccountHold = false;\n    errorMsg;\n    isCardPaymentSuccess = true;\n    isInSufficiantFund = false;\n    isPBAAccountNotExist = false;\n    isPBAServerError = false;\n    isGetPBAAccountSucceed = false;\n    selectedPbaAccount = '';\n    pbaAccountRef = '';\n    isPbaAccountSelected = false;\n    isCardPaymentSelected = false;\n    isPBADropdownSelected = false;\n    isContinueButtondisabled = true;\n    isPBAAccountPaymentSuccess = false;\n    pbaAccountrPaymentResult;\n    orgName = '';\n    constructor(paymentLibComponent, paymentViewService) {\n      this.paymentLibComponent = paymentLibComponent;\n      this.paymentViewService = paymentViewService;\n    }\n    ngOnInit() {\n      this.pbaPayOrderRef = this.paymentLibComponent.pbaPayOrderRef;\n      this.viewStatus = 'pba-payment';\n      this.errorMsg = null;\n      this.paymentViewService.getPBAaccountDetails().subscribe(result => {\n        this.isGetPBAAccountSucceed = true;\n        this.orgName = result.organisationEntityResponse.name;\n        this.pbaAccountList = result.organisationEntityResponse.paymentAccount;\n      }, error => {\n        this.errorMsg = error;\n      });\n    }\n    selectpbaaccount(args) {\n      if (args.currentTarget.id === 'pbaAccountNumber') {\n        this.isPBADropdownSelected = true;\n        this.selectedPbaAccount = args.target.value;\n      }\n      if (args.currentTarget.id === 'pbaAccountRef') {\n        this.pbaAccountRef = args.target.value;\n      }\n      if (this.selectedPbaAccount !== '' && this.pbaAccountRef !== \"\") {\n        this.isContinueButtondisabled = false;\n      } else {\n        this.isContinueButtondisabled = true;\n      }\n    }\n    saveAndContinue() {\n      if (this.isPbaAccountSelected) {\n        this.isInSufficiantFund = false;\n        this.isPBAAccountNotExist = false;\n        this.isPBAServerError = false;\n        this.isPBAAccountPaymentSuccess = false;\n        this.isContinueButtondisabled = true;\n        if (this.pbaAccountList.indexOf(this.selectedPbaAccount) !== -1) {\n          const requestBody = new IserviceRequestPbaPayment(this.selectedPbaAccount, this.pbaPayOrderRef.orderTotalFees, this.pbaAccountRef, this.orgName);\n          setTimeout(() => {\n            this.paymentViewService.postPBAaccountPayment(this.pbaPayOrderRef.orderRefId, requestBody).subscribe(r => {\n              try {\n                this.pbaAccountrPaymentResult = JSON.parse(r);\n              } catch (e) {\n                this.pbaAccountrPaymentResult = r;\n              }\n              this.isPBAAccountPaymentSuccess = true;\n            }, e => {\n              if (e.status == '402') {\n                this.isInSufficiantFund = true;\n              } else if (e.status == '410') {\n                this.isPBAAccountNotExist = true;\n              } else if (e.status == '412') {\n                this.isPBAAccountHold = true;\n              } else {\n                this.isPBAServerError = true;\n              }\n            });\n          }, 5000);\n        } else {\n          this.isPBAServerError = true;\n        }\n      } else if (this.isCardPaymentSelected) {\n        this.cardPayment();\n      }\n    }\n    cardPayment() {\n      this.isCardPaymentSuccess = true;\n      const requestBody = new IserviceRequestCardPayment(this.pbaPayOrderRef.orderTotalFees);\n      this.paymentViewService.postWays2PayCardPayment(this.pbaPayOrderRef.orderRefId, requestBody).subscribe(result => {\n        const paymentUrl = JSON.parse(result).next_url;\n        window.location.href = paymentUrl;\n      }, error => {\n        this.isCardPaymentSuccess = false;\n      });\n    }\n    selectPaymentMethod(type) {\n      if (type === 'PBA') {\n        this.isPbaAccountSelected = true;\n        this.isCardPaymentSelected = false;\n        this.isPBADropdownSelected = false;\n        this.isContinueButtondisabled = true;\n        this.selectedPbaAccount = null;\n      } else if (type === 'CARD') {\n        this.isPbaAccountSelected = false;\n        this.isCardPaymentSelected = true;\n        this.isPBADropdownSelected = false;\n        this.isContinueButtondisabled = false;\n      }\n    }\n    gotoCasetransationPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.TAKEPAYMENT = false;\n      this.paymentLibComponent.ISBSENABLE = true;\n      this.paymentLibComponent.isFromServiceRequestPage = true;\n    }\n    static ɵfac = function PbaPaymentComponent_Factory(t) {\n      return new (t || PbaPaymentComponent)(i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(PaymentViewService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PbaPaymentComponent,\n      selectors: [[\"ccpay-pba-payment\"]],\n      inputs: {\n        pbaPayOrderRef: \"pbaPayOrderRef\"\n      },\n      decls: 1,\n      vars: 1,\n      consts: [[4, \"ngIf\"], [\"class\", \"govuk-breadcrumbs\", 4, \"ngIf\"], [\"class\", \"pba-payment\", 4, \"ngIf\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [1, \"govuk-breadcrumbs__list-item\"], [\"href\", \"javascript:void(0)\", 1, \"govuk-back-link\", \"pba-payments-16-font\", 3, \"click\"], [1, \"pba-payment\"], [\"class\", \"govuk-error-summary pba-payments-error-box--size\", \"aria-labelledby\", \"error-summary-title\", 4, \"ngIf\"], [1, \"govuk-form-group\", \"margin-top-10-px\"], [1, \"govuk-label\", \"pba-payments-govuk__label\", \"pba-payments-19-font\"], [1, \"pba-payments-19-font\"], [\"class\", \"govuk-form-group\", 4, \"ngIf\"], [\"class\", \"govuk-button--group\", 4, \"ngIf\"], [\"aria-labelledby\", \"error-summary-title\", 1, \"govuk-error-summary\", \"pba-payments-error-box--size\"], [\"id\", \"error-summary-title\", 1, \"govuk-error-summary__title\", \"govuk-error-summary__title-custom\", \"pba-payments-24-font\"], [1, \"govuk-error-summary__body\"], [1, \"govuk-list\", \"govuk-error-summary__list\"], [1, \"pba-payments-error-16-font\"], [1, \"govuk-form-group\"], [\"aria-describedby\", \"contact-hint\", 1, \"govuk-fieldset\"], [\"data-module\", \"govuk-radios\", 1, \"govuk-radios\"], [1, \"govuk-radios__item\"], [\"id\", \"pbaAccount\", \"name\", \"paymentSelection\", \"type\", \"radio\", \"value\", \"PBA\", \"data-aria-controls\", \"pba-account\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"pbaAccount\", 1, \"govuk-label\", \"govuk-radios__label\", \"pba-payments-19-font\", \"pba-payments-font-bld\"], [\"class\", \"govuk-radios__conditional\", \"id\", \"conditional-contact\", 4, \"ngIf\"], [\"id\", \"cardPayment\", \"name\", \"paymentSelection\", \"type\", \"radio\", \"value\", \"card\", \"data-aria-controls\", \"card-payment\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"cardPayment\", 1, \"govuk-label\", \"govuk-radios__label\", \"pba-payments-19-font\", \"pba-payments-font-bld\"], [\"id\", \"conditional-contact\", 1, \"govuk-radios__conditional\"], [1, \"govuk-form-group\", \"pba-payments-select-box--size\"], [\"for\", \"pbaAccountNumber\", 1, \"govuk-label\", \"pba-payments-govuk__label\", \"pba-payments-19-font\"], [\"id\", \"pbaAccountNumber\", 1, \"form-control\", \"short-input\", 3, \"change\"], [\"value\", \"\", \"selected\", \"selected\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"for\", \"pbaAccountNumber\", 1, \"govuk-label\", \"pba-payments-govuk__label\", \"pba-payments-24-font\"], [\"id\", \"event-name-hint\", 1, \"govuk-hint\", \"pba-payments-19-font\", \"pba-payment-width\"], [\"id\", \"pbaAccountRef\", \"name\", \"pbaAccountRef\", \"type\", \"text\", \"aria-describedby\", \"pbaAccountRef-hint\", 1, \"govuk-input\", \"pba-payments-ref-box--size\", \"pba-payments-19-font\", 3, \"change\"], [1, \"govuk-button--group\"], [\"type\", \"button\", 1, \"button\", \"pba-payments-19-font\", \"govuk-button--secondary\", \"pba-payments-margin-10\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", \"pba-payments-19-font\", \"pba-payments-20-margin\", 3, \"click\"], [\"type\", \"submit\", 1, \"button\", \"pba-payments-19-font\", \"pba-payments-20-margin\", 3, \"disabled\", \"click\"], [1, \"govuk-width-container\"], [\"id\", \"main-content\", \"role\", \"main\", 1, \"govuk-main-wrapper\", \"govuk-main-wrapper--l\"], [1, \"govuk-grid-row\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"warning-heading-m\"], [1, \"pba-payments-margin-top-10\"], [1, \"heading-medium\"], [1, \"govuk-body\", \"pba-payments-19-font\"], [1, \"govuk-bod\", \"ypba-payments-19-font\"], [1, \"govuk-body\"], [\"href\", \"mailto: MyHMCTSsupport@justice.gov.uk\"], [\"target\", \"_blank\", \"href\", \"https://www.gov.uk/guidance/hmcts-payment-by-account-for-online-services\"], [\"href\", \"mailto:MiddleOffice.DDservices@liberata.com\"], [\"href\", \"tel:01633-652-125\"], [1, \"govuk-body\", \"pba-payments-19-font\", \"govuk-body-width\"], [1, \"pba-payments-heading-lg\"], [1, \"govuk-panel\", \"govuk-panel--confirmation\", \"pba-payments--confirmation\"], [1, \"govuk-panel__title\", \"pba-payments--title\"], [1, \"govuk-panel__body\", \"pba-payments__body\"], [\"href\", \"javascript:void(0)\", 3, \"click\"]],\n      template: function PbaPaymentComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, PbaPaymentComponent_ng_container_0_Template, 10, 9, \"ng-container\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"pba-payment\");\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i1$1.NgSelectOption, i1$1.ɵNgSelectMultipleOption, i3.CurrencyPipe],\n      styles: [\".pba-payments-govuk__label[_ngcontent-%COMP%]{font-weight:700;line-height:1.31578947}.pba-payments-19-font[_ngcontent-%COMP%]{font-size:19px}.pba-payments-font-bld[_ngcontent-%COMP%]{font-weight:700}.pba-payments-16-font[_ngcontent-%COMP%]{font-size:16px}.pba-payments-24-font[_ngcontent-%COMP%]{font-size:24px}.pba-payments-20-margin[_ngcontent-%COMP%]{margin-bottom:20px}.pba-payments-select-box--size[_ngcontent-%COMP%]{width:40%}.pba-payments-error-box--size[_ngcontent-%COMP%]{width:80%}.pba-payments-ref-box--size[_ngcontent-%COMP%]{width:60%}.pba-payments-error-16-font[_ngcontent-%COMP%]{font-size:16px;line-height:34px}.pba-payments-margin-10[_ngcontent-%COMP%]{margin-right:10px}.pba-payments-margin-top-10[_ngcontent-%COMP%]{margin-top:15px}.pba-payments-heading-lg[_ngcontent-%COMP%]{font-size:40px;font-weight:700;line-height:72px}.pba-payments--confirmation[_ngcontent-%COMP%]{background:#00703c!important}.pba-payments__body[_ngcontent-%COMP%]{font-size:36px!important}.pba-payments--title[_ngcontent-%COMP%]{font-size:48px!important}.warning-heading-m[_ngcontent-%COMP%]{font-size:29px;font-weight:700}.pba-payment-width[_ngcontent-%COMP%]{width:75%}.margin-top-10-px[_ngcontent-%COMP%]{margin-top:10px}.govuk-error-summary[_ngcontent-%COMP%]:focus{outline:3px solid #ffdd00}.govuk-body-width[_ngcontent-%COMP%]{width:750px}\"]\n    });\n  }\n  return PbaPaymentComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProcessRefundComponent = /*#__PURE__*/(() => {\n  class ProcessRefundComponent {\n    RefundsService;\n    paymentViewService;\n    formBuilder;\n    OrderslistService;\n    notificationService;\n    paymentLibComponent;\n    router;\n    activeRoute;\n    refundReference;\n    refundlistsource;\n    processRefundForm;\n    errorMessage = this.getErrorMessage(false, '', '', '');\n    sendmeback = null;\n    viewStatus;\n    refundActionList = [];\n    refundRejectReasonList = [];\n    isSendMeBackClicked = false;\n    isRejectClicked = false;\n    isOtherClicked = false;\n    isSuccesspageEnable = false;\n    refundActionsHasError = false;\n    refundRejectReasonHasError = false;\n    isReasonFieldEmpty = false;\n    isReasonFieldInvalid = false;\n    reasonFieldMinHasError = false;\n    reasonFieldMaxHasError = false;\n    isReasonEmpty = false;\n    isReasonInvalid = false;\n    successMsg = null;\n    navigationpage;\n    ccdCaseNumber;\n    isFromRefundListPage;\n    cpoDetails = null;\n    isCPODown;\n    isConfirmButtondisabled = true;\n    paymentObj;\n    templateInstructionType;\n    notificationPreview = false;\n    notificationPreviewObj;\n    constructor(RefundsService, paymentViewService, formBuilder, OrderslistService, notificationService, paymentLibComponent, router, activeRoute) {\n      this.RefundsService = RefundsService;\n      this.paymentViewService = paymentViewService;\n      this.formBuilder = formBuilder;\n      this.OrderslistService = OrderslistService;\n      this.notificationService = notificationService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.router = router;\n      this.activeRoute = activeRoute;\n    }\n    ngOnInit() {\n      this.viewStatus = 'RefundProcess';\n      this.RefundsService.getRefundActions(this.refundReference).subscribe(refundActionList => {\n        this.refundActionList = refundActionList;\n      }, err => {\n        this.errorMessage = this.getErrorMessage(true, err.statusCode, err.err, err);\n      });\n      this.processRefundForm = this.formBuilder.group({\n        refundActionField: new FormControl('', Validators.compose([Validators.required])),\n        refundRejectReasonField: new FormControl('', Validators.compose([Validators.required])),\n        sendMeBackField: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(255), Validators.pattern('^([a-zA-Z0-9\\\\s,\\\\.]*)$')])),\n        enterReasonField: new FormControl('', Validators.compose([Validators.required, Validators.maxLength(30), Validators.pattern('^([a-zA-Z0-9.\\\\s]*)$')]))\n      });\n      this.ccdCaseNumber = this.refundlistsource.ccd_case_number;\n      if (typeof this.paymentLibComponent.TAKEPAYMENT === 'string' && this.paymentLibComponent.TAKEPAYMENT === 'false' || typeof this.paymentLibComponent.TAKEPAYMENT === 'boolean' && !this.paymentLibComponent.TAKEPAYMENT) {\n        this.isFromRefundListPage = true;\n      }\n      this.paymentViewService.getPartyDetails(this.ccdCaseNumber).subscribe(response => {\n        this.cpoDetails = JSON.parse(response).content[0];\n      }, error => {\n        this.errorMessage = error.replace(/\"/g, \"\");\n        this.isCPODown = true;\n      });\n      this.getTemplateInstructionType(this.paymentObj, this.refundlistsource.payment_reference);\n    }\n    checkRefundActions(code) {\n      this.refundActionsHasError = false;\n      this.isReasonFieldEmpty = false;\n      this.isReasonEmpty = false;\n      this.isReasonInvalid = false;\n      this.refundRejectReasonHasError = false;\n      if (code === 'Return to caseworker') {\n        this.isConfirmButtondisabled = true;\n        this.isSendMeBackClicked = true;\n        this.isRejectClicked = false;\n        this.isOtherClicked = false;\n      } else if (code === 'Approve') {\n        this.isSendMeBackClicked = false;\n        this.isConfirmButtondisabled = false;\n        this.isRejectClicked = false;\n        this.isOtherClicked = false;\n      } else if (code === 'Reject') {\n        this.isRejectClicked = true;\n        this.isSendMeBackClicked = false;\n        this.isOtherClicked = false;\n        this.RefundsService.getRefundRejectReasons().subscribe(refundRejectReasonList => {\n          this.refundRejectReasonList = refundRejectReasonList;\n        }, err => {\n          this.errorMessage = this.getErrorMessage(true, err.statusCode, err.err, err);\n        });\n      } else if (code === 'RE005') {\n        this.isOtherClicked = true;\n      } else if (code !== 'RE005') {\n        this.isOtherClicked = false;\n      }\n    }\n    getNotificationPreviewObj(notificationPreviewObj) {\n      this.notificationPreviewObj = notificationPreviewObj;\n    }\n    processRefundSubmit() {\n      let processRefundRequest;\n      let status;\n      this.resetForm([false, false, false, false, false, false, false, false], 'all');\n      const controls = this.processRefundForm.controls;\n      const processFormError = controls.sendMeBackField.errors;\n      if (this.processRefundForm.dirty && controls.refundActionField.valid && (controls.refundActionField.value == 'Approve' || controls.refundActionField.value == 'Reject' && controls.refundRejectReasonField.valid && controls.refundRejectReasonField.value != 'RE005' || controls.refundActionField.value == 'Reject' && controls.refundRejectReasonField.value == 'RE005' && controls.enterReasonField.valid || controls.refundActionField.value == 'Return to caseworker' && controls.sendMeBackField.valid)) {\n        if (controls.refundActionField.value === 'Approve') {\n          status = 'APPROVE';\n          if (this.notificationPreviewObj) {\n            processRefundRequest = {\n              code: '',\n              reason: '',\n              template_preview: {\n                body: this.notificationPreviewObj.body,\n                from: {\n                  from_email_address: this.notificationPreviewObj.from.from_email_address,\n                  from_mail_address: {\n                    address_line: this.notificationPreviewObj.from.from_mail_address.address_line,\n                    city: this.notificationPreviewObj.from.from_mail_address.city,\n                    country: this.notificationPreviewObj.from.from_mail_address.country,\n                    county: this.notificationPreviewObj.from.from_mail_address.county,\n                    postal_code: this.notificationPreviewObj.from.from_mail_address.postal_code\n                  }\n                },\n                html: this.notificationPreviewObj.html,\n                id: this.notificationPreviewObj.template_id,\n                subject: this.notificationPreviewObj.subject,\n                template_type: this.notificationPreviewObj.template_type,\n                version: 0\n              }\n            };\n          } else {\n            processRefundRequest = {\n              code: '',\n              reason: ''\n            };\n          }\n        } else if (controls.refundActionField.value === 'Reject') {\n          status = 'REJECT';\n          if (this.notificationPreviewObj) {\n            processRefundRequest = {\n              code: controls.refundRejectReasonField.value ? controls.refundRejectReasonField.value : '',\n              reason: controls.refundRejectReasonField.value == 'RE005' ? controls.enterReasonField.value : '',\n              template_preview: {\n                body: this.notificationPreviewObj.body,\n                from: {\n                  from_email_address: this.notificationPreviewObj.from.from_email_address,\n                  from_mail_address: {\n                    address_line: this.notificationPreviewObj.from.from_mail_address.address_line,\n                    city: this.notificationPreviewObj.from.from_mail_address.city,\n                    country: this.notificationPreviewObj.from.from_mail_address.country,\n                    county: this.notificationPreviewObj.from.from_mail_address.county,\n                    postal_code: this.notificationPreviewObj.from.from_mail_address.postal_code\n                  }\n                },\n                html: this.notificationPreviewObj.html,\n                id: this.notificationPreviewObj.template_id,\n                subject: this.notificationPreviewObj.subject,\n                template_type: this.notificationPreviewObj.template_type,\n                version: 0\n              }\n            };\n          } else {\n            processRefundRequest = {\n              code: controls.refundRejectReasonField.value ? controls.refundRejectReasonField.value : '',\n              reason: controls.refundRejectReasonField.value == 'RE005' ? controls.enterReasonField.value : ''\n            };\n          }\n        } else if (controls.refundActionField.value === 'Return to caseworker') {\n          status = 'SENDBACK';\n          if (this.notificationPreviewObj) {\n            processRefundRequest = {\n              code: '',\n              reason: controls.sendMeBackField.value,\n              template_preview: {\n                body: this.notificationPreviewObj.body,\n                from: {\n                  from_email_address: this.notificationPreviewObj.from.from_email_address,\n                  from_mail_address: {\n                    address_line: this.notificationPreviewObj.from.from_mail_address.address_line,\n                    city: this.notificationPreviewObj.from.from_mail_address.city,\n                    country: this.notificationPreviewObj.from.from_mail_address.country,\n                    county: this.notificationPreviewObj.from.from_mail_address.county,\n                    postal_code: this.notificationPreviewObj.from.from_mail_address.postal_code\n                  }\n                },\n                html: this.notificationPreviewObj.html,\n                id: this.notificationPreviewObj.template_id,\n                subject: this.notificationPreviewObj.subject,\n                template_type: this.notificationPreviewObj.template_type,\n                version: 0\n              }\n            };\n          } else {\n            processRefundRequest = {\n              code: '',\n              reason: controls.sendMeBackField.value\n            };\n          }\n        }\n        this.RefundsService.patchRefundActions(processRefundRequest, this.refundReference, status).subscribe(response => {\n          this.isSuccesspageEnable = true;\n          // this.successMsg = JSON.parse(response)['data'];\n          this.successMsg = response.replace(/['\"]+/g, '');\n        }, err => {\n          this.errorMessage = this.getErrorMessage(true, err.statusCode, err.err, err);\n        });\n      } else {\n        if (controls.refundActionField.value == \"\") {\n          this.resetForm([true, false, false, false, false, false, false, false], 'action');\n        }\n        if (controls.refundActionField.value == 'Reject' && controls.refundRejectReasonField.value == \"\") {\n          this.resetForm([false, true, false, false, false, false, false, false], 'rejectReason');\n        }\n        if (controls.refundActionField.value == 'Return to caseworker') {\n          if (controls.sendMeBackField.value == '') {\n            this.resetForm([false, false, true, false, false, false, false, false], 'addAreason');\n          }\n          if (controls.sendMeBackField.value != '' && controls.sendMeBackField.invalid) {\n            this.resetForm([false, false, false, true, false, false, false, false], 'addAreason');\n          }\n          if (processFormError && processFormError.minlength && processFormError.minlength.actualLength < 3) {\n            this.resetForm([false, false, false, false, true, false, false, false], 'addAreason');\n          }\n          if (processFormError && processFormError.maxlength && processFormError.maxlength.actualLength > 255) {\n            this.resetForm([false, false, false, false, false, true, false, false], 'addAreason');\n          }\n        }\n        if (controls.refundActionField.value == 'Reject' && controls.refundRejectReasonField.value == 'RE005') {\n          if (controls.enterReasonField.value === \"\") {\n            this.resetForm([false, false, false, false, false, false, true, false], 'enterReason');\n          }\n          if (controls.enterReasonField.value !== \"\" && controls.enterReasonField.invalid) {\n            this.resetForm([false, false, false, false, false, false, false, true], 'enterReason');\n          }\n        }\n      }\n    }\n    getErrorMessage(isErrorExist, status, errorMsg, err) {\n      let bodyTxt = 'Please try again later';\n      if (status !== 500) {\n        if (errorMsg !== undefined) {\n          bodyTxt = errorMsg;\n        } else {\n          bodyTxt = err;\n        }\n      }\n      return {\n        title: 'Something went wrong',\n        body: bodyTxt,\n        showError: isErrorExist\n      };\n    }\n    loadRefundListPage() {\n      this.OrderslistService.getnavigationPageValue().subscribe(data => this.navigationpage = data);\n      if (this.navigationpage === 'casetransactions') {\n        // window.location.href='/refund-list?takePayment=false&refundlist=true';\n        // // this.OrderslistService.setnavigationPage('casetransactions');\n        // // this.OrderslistService.setisFromServiceRequestPage(false);\n        // // this.paymentLibComponent.VIEW ='case-transactions';\n        // // this.paymentLibComponent.viewName = 'case-transactions';\n        // // this.paymentLibComponent.ISBSENABLE = true;\n        // // this.paymentLibComponent.isRefundStatusView = false;\n        this.paymentLibComponent.viewName = 'refundstatuslist';\n        this.paymentLibComponent.isRefundStatusView = true;\n      } else {\n        this.paymentLibComponent.viewName = 'refundstatuslist';\n        this.paymentLibComponent.isRefundStatusView = true;\n      }\n    }\n    loadRefundsHomePage() {\n      if (typeof this.paymentLibComponent.TAKEPAYMENT === 'string' && this.paymentLibComponent.TAKEPAYMENT === 'false') {\n        //window.location.href='/refund-list?takePayment=false&refundlist=true';\n        this.paymentLibComponent.viewName = 'refund-list';\n      } else {\n        this.OrderslistService.setnavigationPage('casetransactions');\n        this.OrderslistService.setisFromServiceRequestPage(false);\n        this.paymentLibComponent.VIEW = 'case-transactions';\n        this.paymentLibComponent.viewName = 'case-transactions';\n        this.paymentLibComponent.ISBSENABLE = true;\n        this.paymentLibComponent.isRefundStatusView = false;\n      }\n    }\n    redirecttoRefundListPage() {\n      if (typeof this.paymentLibComponent.TAKEPAYMENT === 'string' && this.paymentLibComponent.TAKEPAYMENT === 'false' || typeof this.paymentLibComponent.TAKEPAYMENT === 'boolean' && !this.paymentLibComponent.TAKEPAYMENT) {\n        // window.location.href='/refund-list?takePayment=false&refundlist=true';\n        this.paymentLibComponent.viewName = 'refund-list';\n      } else {\n        this.loadRefundListPage();\n      }\n    }\n    loadCaseTransactionPage() {\n      this.OrderslistService.setnavigationPage('casetransactions');\n      this.OrderslistService.setisFromServiceRequestPage(false);\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.ISBSENABLE = true;\n      this.paymentLibComponent.isRefundStatusView = false;\n    }\n    resetForm(vals, field) {\n      if (field === 'action' || field === 'all') {\n        this.refundActionsHasError = vals[0];\n      }\n      if (field === 'rejectReason' || field === 'all') {\n        this.refundRejectReasonHasError = vals[1];\n      }\n      if (field === 'addAreason' || field === 'all') {\n        this.isReasonFieldEmpty = vals[2];\n        this.isReasonFieldInvalid = vals[3];\n        this.reasonFieldMinHasError = vals[4];\n        this.reasonFieldMaxHasError = vals[5];\n      }\n      if (field === 'enterReason' || field === 'all') {\n        this.isReasonEmpty = vals[6];\n        this.isReasonInvalid = vals[7];\n      }\n    }\n    goToCaseReview() {\n      const isPayBubble = this.paymentLibComponent.isFromPayBubble;\n      if (isPayBubble) {\n        this.loadCaseTransactionPage();\n      } else {\n        this.router.navigate([`/cases/case-details/${this.ccdCaseNumber}`], {\n          relativeTo: this.activeRoute\n        });\n      }\n    }\n    getTemplateInstructionType(payment, paymentReference) {\n      if (payment == undefined || payment == null || payment.reference != paymentReference) {\n        this.paymentViewService.getPaymentDetails(paymentReference).subscribe(payment => {\n          this.paymentObj = payment;\n          this.paymentObj.reference = paymentReference;\n          this.templateInstructionType = this.notificationService.getNotificationInstructionType(this.paymentObj.channel, this.paymentObj.method);\n        }, error => {\n          this.templateInstructionType = 'Template';\n        });\n      } else {\n        this.templateInstructionType = this.notificationService.getNotificationInstructionType(payment.channel, payment.method);\n      }\n    }\n    showNotificationPreview() {\n      this.notificationPreview = true;\n    }\n    hideNotificationPreview() {\n      this.notificationPreview = false;\n    }\n    static ɵfac = function ProcessRefundComponent_Factory(t) {\n      return new (t || ProcessRefundComponent)(i0.ɵɵdirectiveInject(RefundsService), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(OrderslistService), i0.ɵɵdirectiveInject(NotificationService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(i1$2.ActivatedRoute));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ProcessRefundComponent,\n      selectors: [[\"ccpay-process-refund\"]],\n      inputs: {\n        refundReference: \"refundReference\",\n        refundlistsource: \"refundlistsource\"\n      },\n      decls: 1,\n      vars: 1,\n      consts: [[4, \"ngIf\"], [1, \"govuk-width-container\"], [\"id\", \"main-content\", \"role\", \"main\", 1, \"govuk-main-wrapper\", \"govuk-!-padding-top-0\", 3, \"ngClass\"], [1, \"payment-view-alignment\"], [1, \"govuk-grid-row\"], [1, \"column\"], [1, \"heading-large\", \"govuk-!-margin-top-0\"], [1, \"section\"], [1, \"bold\", \"tb-col-w\"], [\"colspan\", \"2\"], [\"class\", \"contactDetails-width font-size-19px\", 4, \"ngIf\"], [\"href\", \"Javascript:void(0)\", \"class\", \"govuk-link pointer right\", 3, \"click\", 4, \"ngIf\"], [3, \"paymentReference\", \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", \"refundReference\", \"notificationPreviewEvent\", 4, \"ngIf\"], [1, \"process-refund__panel\"], [\"novalidate\", \"\", 3, \"formGroup\"], [1, \"\"], [\"aria-describedby\", \"sign-in-hint\", 1, \"govuk-fieldset\"], [1, \"govuk-fieldset__legend\", \"govuk-fieldset__legend--l\"], [1, \"heading-large\"], [1, \"govuk-radios\", 3, \"ngClass\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [\"class\", \"govuk-radios__item\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-radios__conditional\", 3, \"ngClass\"], [1, \"govuk-form-group\"], [\"for\", \"contact-by-text\", 1, \"govuk-label\", \"process-refund-font\"], [\"id\", \"sendmeback\", \"name\", \"sendMeBackField\", \"formControlName\", \"sendMeBackField\", \"rows\", \"5\", 1, \"govuk-textarea\", \"govuk-!-width-one-third\", \"reason-font\", 3, \"ngClass\"], [3, \"ngClass\"], [1, \"govuk-fieldset\"], [1, \"heading-medium\"], [\"id\", \"conditional-contact-3\", 1, \"govuk-radios__conditional\", 3, \"ngClass\"], [\"id\", \"otherReason\", \"formControlName\", \"enterReasonField\", \"name\", \"enterReasonField\", \"type\", \"text\", 1, \"govuk-input\", \"govuk-!-width-one-third\", \"reason-font\", 3, \"ngClass\"], [1, \"govuk-button-group\"], [1, \"govuk-button\", \"govuk-button--secondary\", \"marginright\", 3, \"click\"], [\"data-module\", \"govuk-button\", 1, \"govuk-button\", \"button\", 3, \"click\"], [\"class\", \"govuk-button-group margin\", 4, \"ngIf\"], [\"id\", \"main-content\", \"role\", \"main\", 1, \"govuk-main-wrapper\", \"govuk-main-wrapper--l\", \"success-page-padding--top25\", 3, \"ngClass\"], [1, \"govuk-grid-row\", \"pagesize\"], [1, \"govuk-panel\", \"govuk-panel-refund--confirmation\"], [1, \"heading-xlarge\"], [1, \"govuk-body\", \"process-refund-font\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"pointer\", 3, \"click\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\", \"process-refund-font\"], [1, \"contactDetails-width\", \"font-size-19px\"], [\"href\", \"Javascript:void(0)\", 1, \"govuk-link\", \"pointer\", \"right\", 3, \"click\"], [3, \"paymentReference\", \"payment\", \"contactDetails\", \"refundReason\", \"refundAmount\", \"refundReference\", \"notificationPreviewEvent\"], [1, \"inline-error-message\"], [1, \"govuk-radios__item\"], [\"name\", \"refundActionField\", \"type\", \"radio\", \"formControlName\", \"refundActionField\", 1, \"govuk-radios__input\", 3, \"id\", \"value\", \"click\"], [1, \"govuk-label\", \"govuk-radios__label\", \"process-refund-font\", 3, \"for\"], [\"id\", \"sign-in-item-hint\", 1, \"govuk-hint\", \"govuk-radios__hint\", \"process-refund-font\"], [\"formControlName\", \"refundRejectReasonField\", \"name\", \"refundRejectReasonField\", \"type\", \"radio\", 1, \"govuk-radios__input\", 3, \"id\", \"value\", \"click\"], [1, \"govuk-button-group\", \"margin\"], [\"data-module\", \"govuk-button\", 1, \"govuk-link\", \"pointer\", 3, \"click\"]],\n      template: function ProcessRefundComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ProcessRefundComponent_ng_container_0_Template, 106, 63, \"ng-container\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"RefundProcess\");\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1$1.ɵNgNoValidate, i1$1.DefaultValueAccessor, i1$1.RadioControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.FormGroupDirective, i1$1.FormControlName, NotificationPreviewComponent, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\".tb-col-w[_ngcontent-%COMP%]{width:330px}.tr-border[_ngcontent-%COMP%]{border-bottom:2px solid}.payment-view-alignment[_ngcontent-%COMP%]{margin-left:30px}.govuk-button[_ngcontent-%COMP%]{float:left!important;font-size:19px;margin-top:2em!important}.remission[_ngcontent-%COMP%]{margin-bottom:7em}.process-refund-font[_ngcontent-%COMP%]{font-size:19px!important}.govuk-radios__conditional--hidden[_ngcontent-%COMP%]{display:none}.inline-error-message[_ngcontent-%COMP%]{color:#c11717;font-weight:700;margin-top:10px;border-color:#c11717}.inline-error-class[_ngcontent-%COMP%]{outline:3px solid #c11717;outline-offset:0;border-color:#c11717}.form-group-error[_ngcontent-%COMP%]{border-left:5px solid #c11717;padding-left:15px}.govuk-panel-refund--confirmation[_ngcontent-%COMP%]{color:#fff;background:#00703c}.process-refund__panel[_ngcontent-%COMP%]{margin-left:25px;margin-top:30px}.button-margin--left25[_ngcontent-%COMP%]{margin-left:25px}.success-page-padding--top25[_ngcontent-%COMP%]{padding-top:25px}.margin[_ngcontent-%COMP%]{margin-top:5em}.marginright[_ngcontent-%COMP%]{margin-right:1.5em}.govuk-textarea[_ngcontent-%COMP%]{line-height:2.25}.reason-font[_ngcontent-%COMP%]{font-size:19px!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.right[_ngcontent-%COMP%]{float:right}.pagesize[_ngcontent-%COMP%]{margin:2em;width:97%}\"]\n    });\n  }\n  return ProcessRefundComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TableComponent = /*#__PURE__*/(() => {\n  class TableComponent {\n    paymentLibComponent;\n    cdRef;\n    OrderslistService;\n    router;\n    activeRoute;\n    DATASOURCE;\n    STATUS;\n    errorMessage;\n    isApprovalFlow;\n    // displayedColumns = ['ccdCaseNumber', 'refundReference', 'reason', 'createBy', 'updateDate', 'Action'];\n    displayedColumns = ['ccd_case_number', 'refund_reference', 'user_full_name', 'date_created', 'date_updated', 'Action'];\n    dataSource;\n    userLst;\n    serviceLst;\n    actualcount;\n    count;\n    refundList;\n    paginator;\n    sort;\n    constructor(paymentLibComponent, cdRef, OrderslistService, router, activeRoute) {\n      this.paymentLibComponent = paymentLibComponent;\n      this.cdRef = cdRef;\n      this.OrderslistService = OrderslistService;\n      this.router = router;\n      this.activeRoute = activeRoute;\n    }\n    ngOnInit() {\n      this.errorMessage = this.errorMessage;\n      if (this.STATUS.toLowerCase() === 'sent for approval') {\n        this.isApprovalFlow = true;\n      } else {\n        this.isApprovalFlow = false;\n      }\n      this.refundList = this.DATASOURCE;\n      this.dataSource = new MatTableDataSource(this.refundList);\n      this.actualcount = this.dataSource.data.length;\n      if (this.refundList !== undefined) {\n        this.userLst = this.refundList.reduce((r, {\n          user_full_name\n        }) => (r[user_full_name] = '', r), {});\n        this.userLst = Object.keys(this.userLst);\n        this.userLst.sort((a, b) => a.toString().localeCompare(b));\n        this.serviceLst = this.refundList.reduce((r, {\n          service_type\n        }) => (r[service_type] = '', r), {});\n        this.serviceLst = Object.keys(this.serviceLst);\n        this.serviceLst.sort((a, b) => a.toString().localeCompare(b));\n      }\n    }\n    /**\n     * Set the paginator and sort after the view init since this component will\n     * be able to query its view for the initialized paginator and sort.\n     */\n    ngAfterViewInit() {\n      this.dataSource.sort = this.sort;\n      //const sortState: Sort = {active: 'date_updated', direction: 'desc'};\n      // this.sort.active = sortState.active;\n      // this.sort.direction = sortState.direction;\n      // this.sort.sortChange.emit(sortState);\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n      this.cdRef.detectChanges();\n    }\n    applyFilter(filterValue) {\n      filterValue = filterValue.trim(); // Remove whitespace\n      filterValue = filterValue.toLowerCase(); // Datasource defaults to lowercase matches\n      this.dataSource.filter = filterValue;\n    }\n    selectchange(args) {\n      this.dataSource.filter = args.target.value;\n      this.actualcount = this.dataSource.data.length;\n      this.dataSource.paginator = this.paginator;\n    }\n    goToRefundProcessComponent(refundReference, refundData) {\n      this.paymentLibComponent.refundlistsource = refundData;\n      this.paymentLibComponent.refundReference = refundReference;\n      this.paymentLibComponent.viewName = 'process-refund';\n    }\n    goToRefundViewComponent(refundReference, refundData) {\n      this.OrderslistService.setRefundView(refundData);\n      this.paymentLibComponent.viewName = 'refundstatuslist';\n      this.paymentLibComponent.CCD_CASE_NUMBER = refundData.ccd_case_number;\n      this.paymentLibComponent.isRefundStatusView = true;\n      this.paymentLibComponent.isCallFromRefundList = true;\n    }\n    goToCaseReview(ccdCaseNumber, refundData) {\n      this.router.navigate([`/cases/case-details/${ccdCaseNumber}`], {\n        relativeTo: this.activeRoute\n      });\n    }\n    static ɵfac = function TableComponent_Factory(t) {\n      return new (t || TableComponent)(i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(OrderslistService), i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(i1$2.ActivatedRoute));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: TableComponent,\n      selectors: [[\"ccpay-table\"]],\n      viewQuery: function TableComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MatPaginator, 5);\n          i0.ɵɵviewQuery(MatSort, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        }\n      },\n      inputs: {\n        DATASOURCE: \"DATASOURCE\",\n        STATUS: \"STATUS\",\n        errorMessage: \"errorMessage\"\n      },\n      decls: 6,\n      vars: 5,\n      consts: [[1, \"add-remission\"], [4, \"ngIf\"], [\"class\", \"govuk-form-group float-right\", 4, \"ngIf\"], [\"class\", \"govuk-form-group float-right-padding\", 4, \"ngIf\"], [\"class\", \"example-container\", 4, \"ngIf\"], [\"class\", \"govuk-label dropdpwn\", 4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [1, \"govuk-form-group\", \"float-right\"], [\"for\", \"sort\", 1, \"govuk-label\", \"dropdpwn\"], [\"id\", \"sort\", \"name\", \"sort\", 1, \"govuk-select\", 3, \"change\"], [\"value\", \"\", \"selected\", \"selected\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"govuk-form-group\", \"float-right-padding\"], [1, \"example-container\"], [\"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"ccd_case_number\"], [4, \"matHeaderCellDef\"], [\"class\", \"whitespace-inherit\", 4, \"matCellDef\"], [\"matColumnDef\", \"refund_reference\"], [\"matColumnDef\", \"user_full_name\"], [\"class\", \"whitespace-inherit\", 3, \"color\", 4, \"matCellDef\"], [\"matColumnDef\", \"date_created\"], [\"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"date_updated\"], [\"matColumnDef\", \"Action\", 4, \"ngIf\"], [4, \"matHeaderRowDef\"], [4, \"matRowDef\", \"matRowDefColumns\"], [3, \"pageSizeOptions\"], [1, \"whitespace-inherit\"], [\"mat-sort-header\", \"\"], [\"matColumnDef\", \"Action\"], [3, \"color\", 4, \"matCellDef\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [1, \"govuk-label\", \"dropdpwn\"]],\n      template: function TableComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, TableComponent_div_1_Template, 6, 1, \"div\", 1);\n          i0.ɵɵtemplate(2, TableComponent_div_2_Template, 7, 1, \"div\", 2);\n          i0.ɵɵtemplate(3, TableComponent_div_3_Template, 7, 1, \"div\", 3);\n          i0.ɵɵtemplate(4, TableComponent_div_4_Template, 22, 7, \"div\", 4);\n          i0.ɵɵtemplate(5, TableComponent_div_5_Template, 2, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.dataSource.data.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.dataSource.data.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.dataSource.data.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.dataSource.data.length === 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i1$1.NgSelectOption, i1$1.ɵNgSelectMultipleOption, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow, i6.MatPaginator, i7.MatSort, i7.MatSortHeader, i3.DatePipe, CcdHyphensPipe],\n      styles: [\".mat-header-row[_ngcontent-%COMP%]{min-height:27px}.mat-cell[_ngcontent-%COMP%]{padding:0 10px 0 0;text-align:left;word-wrap:break-word;white-space:inherit!important;font-size:19px;line-height:25px;font-family:nta,Arial,sans-serif;font-weight:400}.mat-table[_ngcontent-%COMP%]{color:#0b0c0c;display:table;font-family:nta,Arial,sans-serif;-webkit-font-smoothing:antialiased;margin-bottom:1px;box-sizing:border-box;text-indent:initial;border-spacing:0;border-collapse:collapse;font-size:1.1875rem;line-height:1.31578947;table-layout:fixed;width:102%}.mat-header-cell[_ngcontent-%COMP%]{text-align:left;font-weight:700;padding:10px 10px 10px 0;word-wrap:break-word;font-size:19px;line-height:25px;color:#0b0c0c;cursor:pointer;font-family:inherit}.dropdpwn[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;font-size:19px}.mat-column-ccdCaseNumber[_ngcontent-%COMP%]{flex:3em}.mat-column-refundReference[_ngcontent-%COMP%]{flex:6em}.mat-column-reason[_ngcontent-%COMP%]{flex:2em}.govuk-select[_ngcontent-%COMP%]{font-size:19px;font-weight:400}.govuk-error-summary__title[_ngcontent-%COMP%]{font-size:24px!important}.float-right[_ngcontent-%COMP%]{float:right}.float-right-padding[_ngcontent-%COMP%]{float:right;padding-right:2em}.float-left-padding[_ngcontent-%COMP%]{padding-left:12em}\"]\n    });\n  }\n  return TableComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet RefundListComponent = /*#__PURE__*/(() => {\n  class RefundListComponent {\n    refundService;\n    USERID;\n    LOGGEDINUSERROLES;\n    LOGGEDINUSEREMAIL;\n    constructor(refundService) {\n      this.refundService = refundService;\n    }\n    tableApprovalHeader;\n    tableRejectedHeader;\n    submittedRefundList = [];\n    rejectedRefundList = [];\n    // approvalStatus = 'Sent for approval';\n    // rejectStatus = 'Update required';\n    approvalStatus = 'Sent for approval';\n    rejectStatus = 'Update required';\n    errorMessage = null;\n    isApproveTableVisible;\n    isRejectTableVisible;\n    dropdownvalue;\n    isAuthorized = true;\n    userLst;\n    ngOnInit() {\n      this.userLst = this.LOGGEDINUSERROLES;\n      if (this.LOGGEDINUSERROLES.some(i => i.includes('payments-refund-approver'))) {\n        this.isAuthorized = true;\n      } else {\n        this.isApproveTableVisible = false;\n        this.isAuthorized = false;\n      }\n      this.tableApprovalHeader = 'Refunds to be approved';\n      this.tableRejectedHeader = 'Refunds returned to caseworker';\n      if (this.isAuthorized) {\n        this.refundService.getRefundList(this.approvalStatus, true).subscribe(refundList => {\n          this.submittedRefundList = refundList['refund_list'];\n          this.isApproveTableVisible = true;\n        }), error => {\n          this.errorMessage = error.replace(/\"/g, \"\");\n        };\n      }\n      this.refundService.getRefundList(this.rejectStatus, false).subscribe(refundList => {\n        this.rejectedRefundList = refundList['refund_list'];\n        this.isRejectTableVisible = true;\n      }), error => {\n        this.errorMessage = error.replace(/\"/g, \"\");\n      };\n    }\n    static ɵfac = function RefundListComponent_Factory(t) {\n      return new (t || RefundListComponent)(i0.ɵɵdirectiveInject(RefundsService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: RefundListComponent,\n      selectors: [[\"ccpay-refund-list\"]],\n      inputs: {\n        USERID: \"USERID\",\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        LOGGEDINUSEREMAIL: \"LOGGEDINUSEREMAIL\"\n      },\n      decls: 12,\n      vars: 5,\n      consts: [[1, \"hmcts-page-heading\"], [1, \"hmcts-page-heading__title\"], [1, \"govuk-heading-xl\"], [4, \"ngIf\"], [1, \"govuk-heading-l\"], [1, \"govuk-label\", \"dropdpwn\"], [3, \"DATASOURCE\", \"STATUS\", \"errorMessage\"]],\n      template: function RefundListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Refund list\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(4, RefundListComponent_ng_container_4_Template, 6, 2, \"ng-container\", 3);\n          i0.ɵɵtemplate(5, RefundListComponent_ng_container_5_Template, 3, 3, \"ng-container\", 3);\n          i0.ɵɵelementStart(6, \"div\", 0)(7, \"div\", 1)(8, \"h2\", 4);\n          i0.ɵɵtext(9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(10, RefundListComponent_div_10_Template, 3, 0, \"div\", 3);\n          i0.ɵɵtemplate(11, RefundListComponent_ng_container_11_Template, 3, 3, \"ng-container\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAuthorized);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isApproveTableVisible);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.tableRejectedHeader);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isRejectTableVisible);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isRejectTableVisible);\n        }\n      },\n      dependencies: [i3.NgIf, TableComponent],\n      styles: [\".govuk-heading-xl[_ngcontent-%COMP%]{font-size:48px;padding-top:1em}.govuk-heading-l[_ngcontent-%COMP%]{font-size:36px}.govuk-label[_ngcontent-%COMP%]{font-size:19px}.hmcts-page-heading[_ngcontent-%COMP%]{width:110%}\"]\n    });\n  }\n  return RefundListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass UnidentifiedPaymentsRequest {\n  payment_allocation_status;\n  payment_group_reference;\n  payment_reference;\n  unidentified_reason;\n  constructor(payment_group_reference, payment_reference, unidentified_reason) {\n    this.payment_allocation_status = {\n      description: '',\n      name: \"Unidentified\"\n    };\n    this.payment_group_reference = payment_group_reference;\n    this.payment_reference = payment_reference;\n    this.unidentified_reason = unidentified_reason;\n  }\n}\nclass AllocatePaymentRequest {\n  amount;\n  banked_date;\n  ccd_case_number;\n  exception_record;\n  currency;\n  document_control_number;\n  external_provider;\n  giro_slip_no;\n  payer_name;\n  payment_channel;\n  payment_status;\n  payment_method;\n  case_type;\n  payment_allocation_dto;\n  constructor(ccd_case_number, unAllocatedPayment, caseType, exceptionRecord, allocatedRequest) {\n    this.amount = unAllocatedPayment.amount;\n    this.banked_date = unAllocatedPayment.date_banked;\n    this.ccd_case_number = ccd_case_number;\n    this.exception_record = exceptionRecord;\n    this.currency = unAllocatedPayment.currency;\n    this.document_control_number = unAllocatedPayment.dcn_reference;\n    this.external_provider = 'exela';\n    this.giro_slip_no = unAllocatedPayment.bgc_reference;\n    this.payer_name = unAllocatedPayment.payer_name;\n    this.payment_channel = {\n      description: '',\n      name: 'bulk scan'\n    };\n    this.payment_status = {\n      description: 'bulk scan payment completed',\n      name: 'success'\n    };\n    this.payment_method = unAllocatedPayment.payment_method;\n    this.case_type = caseType;\n    if (allocatedRequest) {\n      this.payment_allocation_dto = allocatedRequest;\n    }\n  }\n}\nlet ErrorBannerComponent = /*#__PURE__*/(() => {\n  class ErrorBannerComponent {\n    errorMessage;\n    constructor() {}\n    ngOnInit() {}\n    static ɵfac = function ErrorBannerComponent_Factory(t) {\n      return new (t || ErrorBannerComponent)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ErrorBannerComponent,\n      selectors: [[\"ccpay-error-banner\"]],\n      inputs: {\n        errorMessage: \"errorMessage\"\n      },\n      decls: 7,\n      vars: 2,\n      consts: [[\"aria-labelledby\", \"error-summary-title\", \"role\", \"alert\", \"tabindex\", \"-1\", \"data-module\", \"govuk-error-summary\", 1, \"govuk-error-summary\"], [\"id\", \"error-summary-title\", 1, \"govuk-error-summary__title\", \"govuk-error-summary__title-custom\"], [1, \"govuk-error-summary__body\"], [1, \"govuk-list\", \"govuk-error-summary__list\"]],\n      template: function ErrorBannerComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"ul\", 3)(5, \"li\");\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.errorMessage.title, \" \");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.errorMessage.body, \" \");\n        }\n      },\n      styles: [\".govuk-error-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}.govuk-error-summary__list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:19px}\"]\n    });\n  }\n  return ErrorBannerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MarkUnidentifiedPaymentComponent = /*#__PURE__*/(() => {\n  class MarkUnidentifiedPaymentComponent {\n    formBuilder;\n    paymentViewService;\n    paymentLibComponent;\n    bulkScaningPaymentService;\n    caseType;\n    markPaymentUnidentifiedForm;\n    viewStatus;\n    ccdCaseNumber;\n    bspaymentdcn;\n    isInvesticationDetailEmpty = false;\n    investicationDetailHasError = false;\n    investicationDetailMinHasError = false;\n    investicationDetailMaxHasError = false;\n    errorMessage = this.getErrorMessage(false);\n    unassignedRecord;\n    siteID = null;\n    investigationComment;\n    isConfirmButtondisabled = false;\n    ccdReference = null;\n    exceptionReference = null;\n    isStrategicFixEnable = true;\n    constructor(formBuilder, paymentViewService, paymentLibComponent, bulkScaningPaymentService) {\n      this.formBuilder = formBuilder;\n      this.paymentViewService = paymentViewService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n    }\n    ngOnInit() {\n      this.viewStatus = 'mainForm';\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.bspaymentdcn = this.paymentLibComponent.bspaymentdcn;\n      this.isStrategicFixEnable = this.paymentLibComponent.ISSFENABLE;\n      this.getUnassignedPayment();\n      this.markPaymentUnidentifiedForm = this.formBuilder.group({\n        investicationDetail: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(255), Validators.pattern('^([a-zA-Z0-9\\\\s,\\\\.]*)$')]))\n      });\n    }\n    getUnassignedPayment() {\n      this.bulkScaningPaymentService.getBSPaymentsByDCN(this.bspaymentdcn).subscribe(unassignedPayments => {\n        this.errorMessage = this.getErrorMessage(false);\n        this.unassignedRecord = unassignedPayments['data'].payments.filter(payment => {\n          return payment && payment.dcn_reference == this.bspaymentdcn;\n        })[0];\n        this.siteID = unassignedPayments['data'].responsible_service_id;\n        const beCcdNumber = unassignedPayments['data'].ccd_reference,\n          beExceptionNumber = unassignedPayments['data'].exception_record_reference,\n          exceptionReference = beCcdNumber ? beCcdNumber === this.ccdCaseNumber ? null : this.ccdCaseNumber : this.ccdCaseNumber;\n        this.ccdReference = beCcdNumber ? beCcdNumber : null;\n        this.exceptionReference = beExceptionNumber ? beExceptionNumber : exceptionReference;\n      }, error => {\n        this.errorMessage = this.getErrorMessage(true);\n      });\n    }\n    trimUnderscore(method) {\n      return this.bulkScaningPaymentService.removeUnwantedString(method, ' ');\n    }\n    saveAndContinue() {\n      this.resetForm([false, false, false, false]);\n      const investicationField = this.markPaymentUnidentifiedForm.controls.investicationDetail;\n      const formerror = investicationField.errors;\n      if (this.markPaymentUnidentifiedForm.dirty && this.markPaymentUnidentifiedForm.valid) {\n        this.investigationComment = this.markPaymentUnidentifiedForm.controls.investicationDetail.value;\n        this.viewStatus = 'unidentifiedContinueConfirm';\n      } else {\n        if (investicationField.value == '') {\n          this.resetForm([true, false, false, false]);\n        }\n        if (investicationField.value != '' && investicationField.invalid) {\n          this.resetForm([false, true, false, false]);\n        }\n        if (formerror && formerror.minlength && formerror.minlength.actualLength < 3) {\n          this.resetForm([false, false, true, false]);\n        }\n        if (formerror && formerror.maxlength && formerror.maxlength.actualLength > 255) {\n          this.resetForm([false, false, false, true]);\n        }\n      }\n    }\n    resetForm(val) {\n      this.isInvesticationDetailEmpty = val[0];\n      this.investicationDetailHasError = val[1];\n      this.investicationDetailMinHasError = val[2];\n      this.investicationDetailMaxHasError = val[3];\n    }\n    confirmPayments() {\n      this.isConfirmButtondisabled = true;\n      const reason = this.markPaymentUnidentifiedForm.get('investicationDetail').value;\n      if (!this.isStrategicFixEnable) {\n        let allocatedRequest = {\n          allocation_status: 'Unidentified',\n          payment_allocation_status: {\n            description: '',\n            name: 'Unidentified'\n          },\n          unidentified_reason: reason,\n          user_id: this.caseType\n        };\n        const postStrategicBody = new AllocatePaymentRequest(this.ccdReference, this.unassignedRecord, this.caseType, this.exceptionReference, allocatedRequest);\n        this.bulkScaningPaymentService.postBSWoPGStrategic(postStrategicBody).subscribe(res => {\n          this.errorMessage = this.getErrorMessage(false);\n          let response = JSON.parse(res);\n          if (response.success) {\n            this.gotoCasetransationPage();\n          }\n        }, error => {\n          this.errorMessage = this.getErrorMessage(true);\n          this.isConfirmButtondisabled = false;\n        });\n      } else {\n        this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'PROCESSED').subscribe(res1 => {\n          this.errorMessage = this.getErrorMessage(false);\n          const requestBody = new AllocatePaymentRequest(this.ccdReference, this.unassignedRecord, this.siteID, this.exceptionReference);\n          this.paymentViewService.postBSPayments(requestBody).subscribe(res2 => {\n            this.errorMessage = this.getErrorMessage(false);\n            const response2 = JSON.parse(res2),\n              reqBody = new UnidentifiedPaymentsRequest(response2['data'].payment_group_reference, response2['data'].reference, reason);\n            if (response2.success) {\n              this.paymentViewService.postBSUnidentifiedPayments(reqBody).subscribe(res3 => {\n                this.errorMessage = this.getErrorMessage(false);\n                const response3 = JSON.parse(res3);\n                if (response3.success) {\n                  this.gotoCasetransationPage();\n                }\n              }, error => {\n                this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'COMPLETE').subscribe();\n                this.errorMessage = this.getErrorMessage(true);\n                this.isConfirmButtondisabled = false;\n              });\n            }\n          }, error => {\n            this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'COMPLETE').subscribe();\n            this.errorMessage = this.getErrorMessage(true);\n            this.isConfirmButtondisabled = false;\n          });\n        }, error => {\n          this.errorMessage = this.getErrorMessage(true);\n          this.isConfirmButtondisabled = false;\n        });\n      }\n    }\n    cancelMarkUnidentifiedPayments(type) {\n      if (type && type === 'cancel') {\n        if (this.markPaymentUnidentifiedForm.get('investicationDetail').value !== \"\") {\n          this.viewStatus = 'unidentifiedCancelConfirm';\n        } else {\n          this.gotoCasetransationPage();\n        }\n      } else {\n        this.viewStatus = 'mainForm';\n      }\n    }\n    gotoCasetransationPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.TAKEPAYMENT = true;\n      this.paymentLibComponent.ISBSENABLE = true;\n    }\n    getErrorMessage(isErrorExist) {\n      return {\n        title: \"There is a problem with the service\",\n        body: \"Try again later\",\n        showError: isErrorExist\n      };\n    }\n    static ɵfac = function MarkUnidentifiedPaymentComponent_Factory(t) {\n      return new (t || MarkUnidentifiedPaymentComponent)(i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(BulkScaningPaymentService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: MarkUnidentifiedPaymentComponent,\n      selectors: [[\"app-mark-unidentified-payment\"]],\n      inputs: {\n        caseType: \"caseType\"\n      },\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"mkpay-unidentified\"], [4, \"ngIf\"], [\"type\", \"hidden\", \"value\", \"MARKUNIDENTIFIED\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [1, \"heading-large\"], [1, \"govuk-grid-column-full\", \"govuk-!-padding-bottom-3\"], [1, \"govuk-section-break\", \"govuk-section-break--visible\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [1, \"govuk-table__body\"], [1, \"govuk-table__cell\"], [1, \"capitalize\", \"govuk-table__cell\"], [\"novalidate\", \"\", 3, \"formGroup\"], [1, \"govuk-form-group\"], [1, \"unidentifiedSubText\"], [\"for\", \"investicationDetail\", 1, \"heading-small\"], [\"name\", \"investicationDetail\", \"id\", \"investicationDetail\", \"rows\", \"5\", \"formControlName\", \"investicationDetail\", 1, \"form-control\", \"form-control-3-4\", 3, \"ngClass\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [1, \"govuk-button--group\"], [\"type\", \"submit\", 1, \"button\", 3, \"click\"], [\"type\", \"button\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [1, \"inline-error-message\"], [3, \"errorMessage\", 4, \"ngIf\"], [\"type\", \"hidden\", \"value\", \"UNIDENTIFIEDCONFIRMATION\", 1, \"iFrameDrivenImageValue\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"heading-small\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\", \"click\"], [3, \"errorMessage\"], [\"type\", \"hidden\", \"value\", \"CANCELUNIDENTIFIED\", 1, \"iFrameDrivenImageValue\"]],\n      template: function MarkUnidentifiedPaymentComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MarkUnidentifiedPaymentComponent_div_1_Template, 46, 19, \"div\", 1);\n          i0.ɵɵtemplate(2, MarkUnidentifiedPaymentComponent_ng_container_2_Template, 28, 3, \"ng-container\", 1);\n          i0.ɵɵtemplate(3, MarkUnidentifiedPaymentComponent_ng_container_3_Template, 15, 0, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"mainForm\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"unidentifiedContinueConfirm\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"unidentifiedCancelConfirm\");\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgIf, i1$1.ɵNgNoValidate, i1$1.DefaultValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.FormGroupDirective, i1$1.FormControlName, ErrorBannerComponent, i3.LowerCasePipe, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\".mkpay-unidentified[_ngcontent-%COMP%]{margin:10px 0 20px}.mkpay-unidentified[_ngcontent-%COMP%]   .govuk-button--group[_ngcontent-%COMP%]   .govuk-button--secondary[_ngcontent-%COMP%]{margin-left:10px;background-color:#b3b8bdf2}.mkpay-unidentified[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0}.mkpay-unidentified[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px}.govuk-grid-column-full[_ngcontent-%COMP%]{padding:0}.unidentifiedSubText[_ngcontent-%COMP%]{line-height:45px}.govuk-warning-text__text[_ngcontent-%COMP%]{font-size:19px}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}\"]\n    });\n  }\n  return MarkUnidentifiedPaymentComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass UnsolicitedPaymentsRequest {\n  payment_allocation_status;\n  payment_group_reference;\n  payment_reference;\n  receiving_office;\n  receiving_email_address;\n  sending_email_address;\n  unidentified_reason;\n  constructor(payment_group_reference, payment_reference, reason, responsible_office, responsible_person, email_id) {\n    this.payment_allocation_status = {\n      description: '',\n      name: \"Transferred\"\n    };\n    this.payment_group_reference = payment_group_reference;\n    this.payment_reference = payment_reference;\n    this.unidentified_reason = reason;\n    this.receiving_office = responsible_office;\n    this.receiving_email_address = email_id;\n    this.sending_email_address = responsible_person;\n  }\n}\nlet MarkUnsolicitedPaymentComponent = /*#__PURE__*/(() => {\n  class MarkUnsolicitedPaymentComponent {\n    formBuilder;\n    paymentViewService;\n    paymentLibComponent;\n    bulkScaningPaymentService;\n    caseType;\n    markPaymentUnsolicitedForm;\n    viewStatus;\n    reasonHasError = false;\n    isReasonEmpty = false;\n    reasonMinHasError = false;\n    reasonMaxHasError = false;\n    responsibleOfficeHasError = false;\n    isResponsibleOfficeEmpty = false;\n    errorMessage = this.getErrorMessage(false);\n    ccdCaseNumber;\n    bspaymentdcn;\n    unassignedRecord;\n    siteID = null;\n    reason;\n    responsiblePerson;\n    responsibleOffice;\n    emailId;\n    isConfirmButtondisabled = false;\n    isContinueButtondisabled = false;\n    ccdReference = null;\n    exceptionReference = null;\n    selectedSiteId;\n    selectedSiteName;\n    isStrategicFixEnable = true;\n    siteIDList;\n    constructor(formBuilder, paymentViewService, paymentLibComponent, bulkScaningPaymentService) {\n      this.formBuilder = formBuilder;\n      this.paymentViewService = paymentViewService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n    }\n    ngOnInit() {\n      this.resetForm([false, false, false, false, false, false], 'all');\n      this.viewStatus = 'mainForm';\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.bspaymentdcn = this.paymentLibComponent.bspaymentdcn;\n      this.isStrategicFixEnable = this.paymentLibComponent.ISSFENABLE;\n      this.getUnassignedPayment();\n      this.paymentViewService.getSiteID().subscribe(siteids => {\n        this.isContinueButtondisabled = false;\n        this.errorMessage = this.getErrorMessage(false);\n        this.siteIDList = JSON.parse(siteids);\n      }, err => {\n        window.scrollTo(0, 0);\n        this.isContinueButtondisabled = true;\n        this.errorMessage = this.getErrorMessage(true);\n      });\n      this.markPaymentUnsolicitedForm = this.formBuilder.group({\n        reason: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(255), Validators.pattern('^([a-zA-Z0-9\\\\s,\\\\.]*)$')])),\n        responsibleOffice: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^([a-zA-Z0-9\\\\s\\\\n,\\\\.-:]*)$')])),\n        responsiblePerson: new FormControl(''),\n        emailId: new FormControl('')\n      });\n    }\n    trimUnderscore(method) {\n      return this.bulkScaningPaymentService.removeUnwantedString(method, ' ');\n    }\n    confirmPayments() {\n      this.isConfirmButtondisabled = true;\n      const controls = this.markPaymentUnsolicitedForm.controls;\n      if (!this.isStrategicFixEnable) {\n        let allocatedRequest = {\n          allocation_status: 'Transferred',\n          payment_allocation_status: {\n            description: '',\n            name: 'Transferred'\n          },\n          unidentified_reason: controls.reason.value,\n          receiving_office: this.selectedSiteId,\n          user_id: this.caseType\n        };\n        const postStrategicBody = new AllocatePaymentRequest(this.ccdReference, this.unassignedRecord, this.caseType, this.exceptionReference, allocatedRequest);\n        this.bulkScaningPaymentService.postBSWoPGStrategic(postStrategicBody).subscribe(res => {\n          this.errorMessage = this.getErrorMessage(false);\n          let response = JSON.parse(res);\n          if (response.success) {\n            this.gotoCasetransationPage();\n          }\n        }, error => {\n          this.errorMessage = this.getErrorMessage(true);\n          this.isConfirmButtondisabled = false;\n        });\n      } else {\n        // controls.responsibleOffice.setValue('P219');\n        this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'PROCESSED').subscribe(res1 => {\n          this.errorMessage = this.getErrorMessage(false);\n          const response1 = JSON.parse(res1),\n            requestBody = new AllocatePaymentRequest(this.ccdReference, this.unassignedRecord, this.siteID, this.exceptionReference);\n          this.paymentViewService.postBSPayments(requestBody).subscribe(res2 => {\n            this.errorMessage = this.getErrorMessage(false);\n            const response2 = JSON.parse(res2),\n              reqBody = new UnsolicitedPaymentsRequest(response2['data'].payment_group_reference, response2['data'].reference, controls.reason.value, this.selectedSiteId, controls.responsiblePerson.value, controls.emailId.value);\n            if (response2.success) {\n              this.paymentViewService.postBSUnsolicitedPayments(reqBody).subscribe(res3 => {\n                this.errorMessage = this.getErrorMessage(false);\n                const response3 = JSON.parse(res3);\n                if (response3.success) {\n                  this.gotoCasetransationPage();\n                }\n              }, error => {\n                this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'COMPLETE').subscribe();\n                this.errorMessage = this.getErrorMessage(true);\n                this.isConfirmButtondisabled = false;\n              });\n            }\n          }, error => {\n            this.bulkScaningPaymentService.patchBSChangeStatus(this.unassignedRecord.dcn_reference, 'COMPLETE').subscribe();\n            this.errorMessage = this.getErrorMessage(true);\n            this.isConfirmButtondisabled = false;\n          });\n        }, error => {\n          this.errorMessage = this.getErrorMessage(true);\n          this.isConfirmButtondisabled = false;\n        });\n      }\n    }\n    saveAndContinue() {\n      this.resetForm([false, false, false, false, false, false], 'all');\n      const formerror = this.markPaymentUnsolicitedForm.controls.reason.errors;\n      const reasonField = this.markPaymentUnsolicitedForm.controls.reason;\n      //const officeIdField = this.selectedSiteId;\n      const officeIdField = this.markPaymentUnsolicitedForm.controls.responsibleOffice;\n      if (this.markPaymentUnsolicitedForm.dirty && this.markPaymentUnsolicitedForm.valid) {\n        const controls = this.markPaymentUnsolicitedForm.controls;\n        this.emailId = controls.emailId.value;\n        this.responsibleOffice = officeIdField.value;\n        this.responsiblePerson = controls.responsiblePerson.value;\n        this.reason = controls.reason.value;\n        this.viewStatus = 'unsolicitedContinueConfirm';\n      } else {\n        if (reasonField.value == '') {\n          this.resetForm([true, false, false, false, false, false], 'reason');\n        }\n        if (reasonField.value != '' && this.markPaymentUnsolicitedForm.controls.reason.invalid) {\n          this.resetForm([false, true, false, false, false, false], 'reason');\n        }\n        if (formerror && formerror.minlength && formerror.minlength.actualLength < 3) {\n          this.resetForm([false, false, true, false, false, false], 'reason');\n        }\n        if (formerror && formerror.maxlength && formerror.maxlength.actualLength > 255) {\n          this.resetForm([false, false, false, true, false, false], 'reason');\n        }\n        if (officeIdField.value == '') {\n          this.resetForm([false, false, false, false, true, false], 'responsibleOffice');\n        }\n        if (officeIdField.value != '' && officeIdField.invalid) {\n          this.resetForm([false, false, false, false, false, true], 'responsibleOffice');\n        }\n      }\n    }\n    resetForm(val, field) {\n      if (field === 'reason' || field === 'all') {\n        this.isReasonEmpty = val[0];\n        this.reasonHasError = val[1];\n        this.reasonMinHasError = val[2];\n        this.reasonMaxHasError = val[3];\n      }\n      if (field === 'responsibleOffice' || field === 'all') {\n        this.isResponsibleOfficeEmpty = val[4];\n        this.responsibleOfficeHasError = val[5];\n      }\n    }\n    cancelMarkUnsolicitedPayments(type) {\n      if (type && type === 'cancel') {\n        if (this.checkingFormValue()) {\n          this.viewStatus = 'unsolicitedCancelConfirm';\n        } else {\n          this.gotoCasetransationPage();\n        }\n      } else {\n        this.markPaymentUnsolicitedForm.controls.responsibleOffice.setValue('');\n        this.viewStatus = 'mainForm';\n      }\n    }\n    checkingFormValue() {\n      const formFields = this.markPaymentUnsolicitedForm.value;\n      let valueExists = false;\n      for (var field in formFields) {\n        if (formFields.hasOwnProperty(field) && formFields[field] !== \"\") {\n          valueExists = true;\n          break;\n        }\n      }\n      return valueExists;\n    }\n    gotoCasetransationPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.TAKEPAYMENT = true;\n      this.paymentLibComponent.ISBSENABLE = true;\n    }\n    getUnassignedPayment() {\n      this.bulkScaningPaymentService.getBSPaymentsByDCN(this.bspaymentdcn).subscribe(unassignedPayments => {\n        this.unassignedRecord = unassignedPayments['data'].payments.filter(payment => {\n          return payment && payment.dcn_reference == this.bspaymentdcn;\n        })[0];\n        this.siteID = unassignedPayments['data'].responsible_service_id;\n        const beCcdNumber = unassignedPayments['data'].ccd_reference,\n          beExceptionNumber = unassignedPayments['data'].exception_record_reference,\n          exceptionReference = beCcdNumber ? beCcdNumber === this.ccdCaseNumber ? null : this.ccdCaseNumber : this.ccdCaseNumber;\n        this.ccdReference = beCcdNumber ? beCcdNumber : null;\n        this.exceptionReference = beExceptionNumber ? beExceptionNumber : exceptionReference;\n      }, error => {\n        this.errorMessage = this.getErrorMessage(true);\n      });\n    }\n    getErrorMessage(isErrorExist) {\n      return {\n        title: \"Something went wrong.\",\n        body: \"Please try again later.\",\n        showError: isErrorExist\n      };\n    }\n    selectchange(args) {\n      this.selectedSiteId = args.target.value;\n      this.selectedSiteName = args.target.options[args.target.selectedIndex].text;\n    }\n    static ɵfac = function MarkUnsolicitedPaymentComponent_Factory(t) {\n      return new (t || MarkUnsolicitedPaymentComponent)(i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(BulkScaningPaymentService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: MarkUnsolicitedPaymentComponent,\n      selectors: [[\"app-mark-unsolicited-payment\"]],\n      inputs: {\n        caseType: \"caseType\"\n      },\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"mkpay-unidentified\"], [4, \"ngIf\"], [3, \"errorMessage\", 4, \"ngIf\"], [1, \"heading-large\"], [1, \"govuk-grid-column-full\", \"govuk-!-padding-bottom-3\"], [1, \"govuk-section-break\", \"govuk-section-break--visible\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [1, \"govuk-table__body\"], [1, \"govuk-table__cell\"], [1, \"capitalize\", \"govuk-table__cell\"], [\"novalidate\", \"\", 3, \"formGroup\"], [\"type\", \"hidden\", \"value\", \"MARKTRANSFERRED\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [1, \"govuk-form-group\"], [\"for\", \"reason\", 1, \"govuk-label\", \"custom-govuk-label\", \"custom-govuk-label\"], [\"name\", \"reason\", \"id\", \"reason\", \"rows\", \"5\", \"formControlName\", \"reason\", 1, \"form-control\", \"form-control-3-4\", 3, \"ngClass\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [\"for\", \"responsibleOffice\", 1, \"govuk-label\", \"custom-govuk-label\"], [\"id\", \"responsibleOffice\", \"formControlName\", \"responsibleOffice\", 1, \"form-control\", \"short-input\", 3, \"change\"], [\"value\", \"\", \"selected\", \"selected\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-button--group\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [3, \"errorMessage\"], [1, \"inline-error-message\"], [3, \"value\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"heading-small\"], [\"type\", \"hidden\", \"value\", \"TRANSFERREDCONFIRMATION\", 1, \"iFrameDrivenImageValue\"], [\"type\", \"hidden\", \"value\", \"CANCELTRANSFERRED\", 1, \"iFrameDrivenImageValue\"], [\"type\", \"submit\", 1, \"button\", 3, \"click\"]],\n      template: function MarkUnsolicitedPaymentComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, MarkUnsolicitedPaymentComponent_div_1_Template, 52, 23, \"div\", 1);\n          i0.ɵɵtemplate(2, MarkUnsolicitedPaymentComponent_ng_container_2_Template, 32, 4, \"ng-container\", 1);\n          i0.ɵɵtemplate(3, MarkUnsolicitedPaymentComponent_ng_container_3_Template, 15, 0, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"mainForm\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"unsolicitedContinueConfirm\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"unsolicitedCancelConfirm\");\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1$1.ɵNgNoValidate, i1$1.NgSelectOption, i1$1.ɵNgSelectMultipleOption, i1$1.DefaultValueAccessor, i1$1.SelectControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.FormGroupDirective, i1$1.FormControlName, ErrorBannerComponent, i3.LowerCasePipe, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\".mkpay-unidentified[_ngcontent-%COMP%]{margin:10px 0 20px}.mkpay-unidentified[_ngcontent-%COMP%]   .govuk-button--secondary[_ngcontent-%COMP%]{margin-left:10px;background-color:#b3b8bdf2}.mkpay-unidentified[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0}.mkpay-unidentified[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.custom-govuk-label[_ngcontent-%COMP%], .govuk-warning-text__text[_ngcontent-%COMP%]{font-size:19px}#responsibleOffice[_ngcontent-%COMP%]{color:#000;width:75%;font-weight:white}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:white}\"]\n    });\n  }\n  return MarkUnsolicitedPaymentComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass IAllocationPaymentsRequest {\n  payment_allocation_status;\n  payment_group_reference;\n  payment_reference;\n  reason;\n  explanation;\n  user_name;\n  constructor(payment_group_reference, payment_reference, reason, explanation, userName) {\n    this.payment_allocation_status = {\n      description: '',\n      name: \"Allocated\"\n    };\n    this.payment_group_reference = payment_group_reference;\n    this.payment_reference = payment_reference;\n    this.reason = reason ? reason : null;\n    this.explanation = explanation ? explanation : null;\n    this.user_name = userName ? userName : null;\n  }\n}\nlet keyValuePipe = /*#__PURE__*/(() => {\n  class keyValuePipe {\n    constructor() {}\n    transform(input) {\n      let keys = [];\n      for (let key in input) {\n        if (input.hasOwnProperty(key)) {\n          keys.push({\n            key: key,\n            value: input[key]\n          });\n        }\n      }\n      return keys;\n    }\n    static ɵfac = function keyValuePipe_Factory(t) {\n      return new (t || keyValuePipe)();\n    };\n    static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"keyValue\",\n      type: keyValuePipe,\n      pure: true\n    });\n  }\n  return keyValuePipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AllocatePaymentsComponent = /*#__PURE__*/(() => {\n  class AllocatePaymentsComponent {\n    errorHandlerService;\n    caseTransactionsService;\n    formBuilder;\n    paymentViewService;\n    paymentLibComponent;\n    bulkScaningPaymentService;\n    OrderslistService;\n    isTurnOff;\n    caseType;\n    overUnderPaymentForm;\n    viewStatus;\n    ccdCaseNumber;\n    bspaymentdcn;\n    recordId;\n    feedbackUrlLabel;\n    unAllocatedPayment = {\n      amount: 0\n    };\n    siteID = null;\n    // errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n    errorMessage = null;\n    paymentGroup;\n    paymentGroups = [];\n    remainingAmount;\n    isRemainingAmountGtZero;\n    isMoreDetailsBoxHide = true;\n    isRemainingAmountLtZero;\n    afterFeeAllocateOutstanding;\n    amountForAllocation;\n    isConfirmButtondisabled = false;\n    isContinueButtondisabled = true;\n    otherPaymentExplanation = null;\n    selectedOption = null;\n    isFeeAmountZero = false;\n    paymentReasonHasError = false;\n    paymentExplanationHasError = false;\n    isPaymentDetailsEmpty = false;\n    isPaymentDetailsInvalid = false;\n    paymentDetailsMinHasError = false;\n    paymentDetailsMaxHasError = false;\n    isUserNameEmpty = false;\n    isUserNameInvalid = false;\n    ccdReference = null;\n    exceptionReference = null;\n    paymentReason = null;\n    paymentExplanation = null;\n    userName = null;\n    paymentSectionLabel;\n    paymentRef = null;\n    isStrategicFixEnable = true;\n    orderLevelFees = [];\n    cookieUserName = [];\n    enCookieUserName;\n    userNameField = null;\n    reasonList = {\n      overPayment: {\n        hwfReward: 'Help with Fees (HWF) awarded.  Please include the HWF reference number in the explanatory note',\n        wrongFee: 'Incorrect payment received',\n        notIssueCase: 'Unable to issue case',\n        otherDeduction: 'Other'\n      },\n      shortFall: {\n        helpWithFee: 'Help with Fees (HWF) application declined',\n        wrongFee: 'Incorrect payment received',\n        other: 'Other'\n      }\n    };\n    explanationList = {\n      overPayment: {\n        referRefund: 'Details in case notes.  Refund due',\n        noRefund: 'Details in case notes. No refund due',\n        noCase: 'No case created.  Refund due',\n        other: 'Other'\n      },\n      shortFall: {\n        holdCase: 'I have put a stop on the case and contacted the applicant requesting the balance of payment',\n        heldCase: 'I have put a stop on the case.  The applicant needs to be contacted to request the balance of payment',\n        other: 'Other'\n      }\n    };\n    refund = {\n      reason: {\n        duplicate: 'Duplicate payment',\n        humanerror: 'Human error',\n        caseWithdrawn: 'Case withdrawn',\n        other: 'Other'\n      }\n    };\n    constructor(errorHandlerService, caseTransactionsService, formBuilder, paymentViewService, paymentLibComponent, bulkScaningPaymentService, OrderslistService) {\n      this.errorHandlerService = errorHandlerService;\n      this.caseTransactionsService = caseTransactionsService;\n      this.formBuilder = formBuilder;\n      this.paymentViewService = paymentViewService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n      this.OrderslistService = OrderslistService;\n    }\n    ngOnInit() {\n      this.viewStatus = 'mainForm';\n      if (this.paymentLibComponent.paymentGroupReference !== null) {\n        this.viewStatus = 'allocatePaymentConfirmation';\n      }\n      this.ccdCaseNumber = this.paymentLibComponent.CCD_CASE_NUMBER;\n      this.bspaymentdcn = this.paymentLibComponent.bspaymentdcn;\n      this.paymentRef = this.paymentLibComponent.paymentGroupReference;\n      this.selectedOption = this.paymentLibComponent.SELECTED_OPTION;\n      this.isStrategicFixEnable = this.paymentLibComponent.ISSFENABLE;\n      this.isTurnOff = this.paymentLibComponent.isTurnOff;\n      this.overUnderPaymentForm = this.formBuilder.group({\n        moreDetails: new FormControl('', Validators.compose([Validators.required, Validators.minLength(3), Validators.maxLength(255), Validators.pattern('^([a-zA-Z0-9\\\\s,\\\\.]*)$')])),\n        userName: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^([a-zA-Z0-9\\\\s]*)$')]))\n      });\n      this.OrderslistService.getOrdersList().subscribe(data => this.orderLevelFees = data.filter(data => data.orderStatus !== 'Paid'));\n      this.OrderslistService.getCaseType().subscribe(data => this.caseType = data);\n      this.getUnassignedPayment();\n    }\n    getGroupOutstandingAmount(paymentGroup) {\n      return this.bulkScaningPaymentService.calculateOutStandingAmount(paymentGroup);\n    }\n    getPaymentGroupDetails() {\n      if (!this.isTurnOff) {\n        this.paymentViewService.getPaymentGroupDetails(this.paymentRef).subscribe(paymentGroup => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          this.paymentGroup = paymentGroup;\n          this.saveAndContinue();\n        }, error => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n        });\n      } else {\n        this.caseTransactionsService.getPaymentGroups(this.ccdCaseNumber).subscribe(paymentGroups => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          this.paymentGroups = paymentGroups['payment_groups'].filter(paymentGroup => {\n            paymentGroup.fees.forEach(fee => {\n              if (fee.calculated_amount === 0) {\n                this.isFeeAmountZero = true;\n              }\n            });\n            let fstCon = this.getGroupOutstandingAmount(paymentGroup),\n              scndCn = fstCon > 0 || fstCon == 0 && this.isFeeAmountZero && paymentGroup.payment_group_reference === this.paymentRef;\n            return this.paymentRef ? scndCn : fstCon > 0 || fstCon == 0 && this.isFeeAmountZero;\n          });\n        }, error => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n        });\n      }\n    }\n    selectedPaymentGroup(paymentGroup) {\n      this.isContinueButtondisabled = false;\n      this.paymentGroup = paymentGroup;\n    }\n    gotoCasetransationPage() {\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentLibComponent.isTurnOff = this.isTurnOff;\n      this.paymentLibComponent.TAKEPAYMENT = true;\n      this.paymentLibComponent.ISBSENABLE = true;\n    }\n    gotoSummaryPage(event) {\n      event.preventDefault();\n      this.paymentLibComponent.viewName = 'fee-summary';\n      this.paymentLibComponent.isTurnOff = this.isTurnOff;\n      this.paymentLibComponent.TAKEPAYMENT = true;\n      this.paymentLibComponent.ISBSENABLE = true;\n    }\n    cancelAllocatePayment(event) {\n      event.preventDefault();\n      this.resetForm([false, false, false, false, false, false, false, false], 'all');\n      if (!this.isTurnOff) {\n        this.paymentLibComponent.viewName = 'fee-summary';\n        this.paymentLibComponent.isTurnOff = this.isTurnOff;\n        this.paymentLibComponent.TAKEPAYMENT = true;\n        this.paymentLibComponent.ISBSENABLE = true;\n      } else {\n        this.viewStatus = 'mainForm';\n      }\n    }\n    confirmAllocatePayement() {\n      this.enCookieUserName = document.cookie.split(\";\").find(row => row.includes(\"user-info\")).split(\"=\")[1].split(\";\");\n      this.cookieUserName = JSON.parse(decodeURIComponent(this.enCookieUserName));\n      const fullName = this.cookieUserName['forename'] + ' ' + this.cookieUserName['surname'];\n      const paymentDetailsField = this.overUnderPaymentForm.controls.moreDetails,\n        paymentFormError = this.overUnderPaymentForm.controls.moreDetails.errors,\n        userNameField = fullName,\n        isEmptyCondtion = this.paymentReason && this.paymentExplanation,\n        isOtherOptionSelected = this.paymentExplanation === 'Other';\n      this.resetForm([false, false, false, false, false, false, false, false], 'all');\n      if (!this.isRemainingAmountGtZero && !this.isRemainingAmountLtZero || isEmptyCondtion && (!isOtherOptionSelected && userNameField.length > 0 || isOtherOptionSelected && userNameField.length > 0 && paymentDetailsField.valid)) {\n        this.isConfirmButtondisabled = true;\n        this.otherPaymentExplanation = this.paymentExplanation === 'Other' ? paymentDetailsField.value : this.paymentExplanation;\n        this.userName = userNameField;\n        this.finalServiceCall();\n      } else {\n        if (!this.paymentReason) {\n          this.resetForm([true, false, false, false, false, false, false, false], 'reason');\n        }\n        if (!this.paymentExplanation) {\n          this.resetForm([false, true, false, false, false, false, false, false], 'explanation');\n        }\n        if (this.paymentExplanation && isOtherOptionSelected) {\n          if (paymentDetailsField.value == '') {\n            this.resetForm([false, false, true, false, false, false, false, false], 'other');\n          }\n          if (paymentDetailsField.value != '' && paymentDetailsField.invalid) {\n            this.resetForm([false, false, false, true, false, false, false, false], 'other');\n          }\n          if (paymentFormError && paymentFormError.minlength && paymentFormError.minlength.actualLength < 3) {\n            this.resetForm([false, false, false, false, true, false, false, false], 'other');\n          }\n          if (paymentFormError && paymentFormError.maxlength && paymentFormError.maxlength.actualLength > 255) {\n            this.resetForm([false, false, false, false, false, true, false, false], 'other');\n          }\n        }\n        if (userNameField.length === 0) {\n          this.resetForm([false, false, false, false, false, false, true, false], 'username');\n        }\n      }\n    }\n    resetForm(vals, field) {\n      if (field === 'reason' || field === 'all') {\n        this.paymentReasonHasError = vals[0];\n      }\n      if (field === 'explanation' || field === 'all') {\n        this.paymentExplanationHasError = vals[1];\n      }\n      if (field === 'other' || field === 'all') {\n        this.isPaymentDetailsEmpty = vals[2];\n        this.isPaymentDetailsInvalid = vals[3];\n        this.paymentDetailsMinHasError = vals[4];\n        this.paymentDetailsMaxHasError = vals[5];\n      }\n      if (field === 'username' || field === 'all') {\n        this.isUserNameEmpty = vals[6];\n        this.isUserNameInvalid = vals[7];\n      }\n    }\n    finalServiceCall() {\n      if (!this.isStrategicFixEnable) {\n        let allocatedRequest = {\n          reason: this.paymentReason,\n          allocation_status: 'Allocated',\n          explanation: this.otherPaymentExplanation,\n          payment_allocation_status: {\n            description: '',\n            name: 'Allocated'\n          },\n          payment_group_reference: this.paymentGroup.payment_group_reference,\n          case_type: this.caseType,\n          user_name: this.userName\n        };\n        const postStrategicBody = new AllocatePaymentRequest(this.ccdReference, this.unAllocatedPayment, this.caseType, this.exceptionReference, allocatedRequest);\n        this.bulkScaningPaymentService.postBSPaymentStrategic(postStrategicBody, this.paymentGroup.payment_group_reference).subscribe(res => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          let response = JSON.parse(res);\n          if (response.success) {\n            this.gotoCasetransationPage();\n          }\n        }, error => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n          window.scrollTo(0, 0);\n          this.isConfirmButtondisabled = false;\n        });\n      } else {\n        this.bulkScaningPaymentService.patchBSChangeStatus(this.unAllocatedPayment.dcn_reference, 'PROCESSED').subscribe(res1 => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          let response1 = JSON.parse(res1);\n          if (response1.success) {\n            const requestBody = new AllocatePaymentRequest(this.ccdReference, this.unAllocatedPayment, this.siteID, this.exceptionReference);\n            this.bulkScaningPaymentService.postBSAllocatePayment(requestBody, this.paymentGroup.payment_group_reference).subscribe(res2 => {\n              this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n              let response2 = JSON.parse(res2);\n              const reqBody = new IAllocationPaymentsRequest(response2['data'].payment_group_reference, response2['data'].reference, this.paymentReason, this.otherPaymentExplanation, this.userName);\n              if (response2.success) {\n                this.paymentViewService.postBSAllocationPayments(reqBody).subscribe(res3 => {\n                  this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n                  let response3 = JSON.parse(res3);\n                  if (response3.success) {\n                    this.gotoCasetransationPage();\n                  }\n                }, error => {\n                  this.bulkScaningPaymentService.patchBSChangeStatus(this.unAllocatedPayment.dcn_reference, 'COMPLETE').subscribe();\n                  this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n                  window.scrollTo(0, 0);\n                  this.isConfirmButtondisabled = false;\n                });\n              }\n            }, error => {\n              this.bulkScaningPaymentService.patchBSChangeStatus(this.unAllocatedPayment.dcn_reference, 'COMPLETE').subscribe();\n              this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n              window.scrollTo(0, 0);\n              this.isConfirmButtondisabled = false;\n            });\n          }\n        }, error => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n          window.scrollTo(0, 0);\n          this.isConfirmButtondisabled = false;\n        });\n      }\n    }\n    saveAndContinue() {\n      if (this.paymentGroup) {\n        this.isMoreDetailsBoxHide = true;\n        this.overUnderPaymentForm.get('moreDetails').reset();\n        this.overUnderPaymentForm.get('moreDetails').setValue('');\n        this.overUnderPaymentForm.get('userName').reset();\n        this.overUnderPaymentForm.get('userName').setValue('');\n        this.paymentReason = '';\n        this.paymentExplanation = '';\n        let GroupOutstandingAmount = this.getGroupOutstandingAmount(this.paymentGroup);\n        const remainingToBeAssigned = this.unAllocatedPayment.amount - GroupOutstandingAmount;\n        this.isRemainingAmountGtZero = remainingToBeAssigned > 0;\n        this.isRemainingAmountLtZero = remainingToBeAssigned < 0;\n        this.paymentSectionLabel = this.isRemainingAmountGtZero ? {\n          title: 'There is an Over payment of',\n          reason: 'Provide a reason. This will be used in the Refund process.'\n        } : this.isRemainingAmountLtZero ? {\n          title: 'There is an Under payment of',\n          reason: 'Provide a reason'\n        } : {\n          title: 'Amount left to be allocated',\n          reason: ''\n        };\n        this.feedbackUrlLabel = this.isRemainingAmountGtZero ? 'CONFIRMALLOCATION_SURPLUS' : this.isRemainingAmountLtZero ? 'CONFIRMALLOCATION_SHORTFALL' : 'CONFIRMALLOCATION';\n        this.remainingAmount = this.isRemainingAmountGtZero ? remainingToBeAssigned : this.isRemainingAmountLtZero ? remainingToBeAssigned * -1 : 0;\n        this.afterFeeAllocateOutstanding = remainingToBeAssigned >= 0 ? 0 : remainingToBeAssigned * -1;\n        this.amountForAllocation = GroupOutstandingAmount >= this.unAllocatedPayment.amount ? this.unAllocatedPayment.amount : GroupOutstandingAmount;\n        if (this.isTurnOff) {\n          this.viewStatus = 'allocatePaymentConfirmation';\n        }\n      }\n    }\n    getUnassignedPayment() {\n      this.bulkScaningPaymentService.getBSPaymentsByDCN(this.bspaymentdcn).subscribe(unassignedPayments => {\n        this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n        this.unAllocatedPayment = unassignedPayments['data'].payments.filter(payment => {\n          return payment && payment.dcn_reference == this.bspaymentdcn;\n        })[0];\n        this.siteID = unassignedPayments['data'].responsible_service_id;\n        const beCcdNumber = unassignedPayments['data'].ccd_reference,\n          beExceptionNumber = unassignedPayments['data'].exception_record_reference,\n          exceptionReference = beCcdNumber ? beCcdNumber === this.ccdCaseNumber ? null : this.ccdCaseNumber : this.ccdCaseNumber;\n        this.ccdReference = beCcdNumber ? beCcdNumber : null;\n        this.exceptionReference = beExceptionNumber ? beExceptionNumber : exceptionReference;\n        this.getPaymentGroupDetails();\n      }, error => {\n        this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n      });\n    }\n    selectRadioButton(key, type) {\n      this.isMoreDetailsBoxHide = true;\n      if (type === 'explanation' && key === 'other') {\n        this.isPaymentDetailsEmpty = false;\n        this.isPaymentDetailsInvalid = false;\n        this.paymentDetailsMinHasError = false;\n        this.paymentDetailsMaxHasError = false;\n        this.isMoreDetailsBoxHide = false;\n      }\n    }\n    OrderListSelectEvent(orderef) {\n      this.isContinueButtondisabled = false;\n      this.recordId = orderef;\n    }\n    redirectToOrderFeeSearchPage() {\n      // this.paymentLibComponent.bspaymentdcn = null;\n      this.paymentLibComponent.paymentGroupReference = this.recordId;\n      this.paymentLibComponent.isTurnOff = this.isTurnOff;\n      this.paymentLibComponent.viewName = 'fee-summary';\n    }\n    static ɵfac = function AllocatePaymentsComponent_Factory(t) {\n      return new (t || AllocatePaymentsComponent)(i0.ɵɵdirectiveInject(ErrorHandlerService), i0.ɵɵdirectiveInject(CaseTransactionsService), i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(BulkScaningPaymentService), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: AllocatePaymentsComponent,\n      selectors: [[\"app-allocate-payments\"]],\n      inputs: {\n        isTurnOff: \"isTurnOff\",\n        caseType: \"caseType\"\n      },\n      decls: 4,\n      vars: 3,\n      consts: [[1, \"allocate-payments\"], [4, \"ngIf\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [1, \"govuk-breadcrumbs__list-item\"], [1, \"govuk-back-link\", \"govuk-label\", 3, \"click\"], [1, \"paymentrequest\"], [1, \"govuk-heading-xl\", \"govuk-!-margin-top-3\", \"govuk-!-margin-bottom-4\"], [1, \"govuk-!-margin-top-5\", \"casererf\"], [\"class\", \"multiple-choice unprocessed-payments--radio-button\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"button\", \"allbtb\", \"button--disabled\", \"govuk-!-margin-right-1\", 3, \"disabled\", \"click\"], [1, \"multiple-choice\", \"unprocessed-payments--radio-button\"], [\"id\", \"'orderfee'+i+''\", \"aria-label\", \"orderLevelRecord\", \"name\", \"orderLevelRecord\", \"type\", \"radio\", 3, \"value\", \"click\"], [\"for\", \"radio-inline-1\"], [\"type\", \"hidden\", \"value\", \"ALLOCATEPAYMENTS\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [\"class\", \"govuk-breadcrumbs\", 4, \"ngIf\"], [1, \"govuk-heading-section\"], [1, \"govuk-heading-xl\"], [1, \"govuk-heading-l\"], [\"class\", \"payment-group-section\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-button-group-allocate\"], [\"type\", \"button\", 1, \"button\", \"govuk-!-margin-right-1\", 3, \"disabled\", \"click\"], [\"type\", \"button\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [\"href\", \"#\", 1, \"govuk-back-link\", 3, \"click\"], [1, \"payment-group-section\"], [1, \"govuk-heading-m\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [\"class\", \"govuk-table__cell govuk-table__cell--col1 govuk-table__custom--col1\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col1\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col2\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col3\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col4\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col5\"], [\"class\", \"govuk-table__cell govuk-table__cell--col6 govuk-table__custom--col6\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col1\", \"govuk-table__custom--col1\"], [1, \"multiple-choice\"], [\"name\", \"unassignedRecord\", \"type\", \"radio\", 3, \"id\", \"click\"], [3, \"for\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col6\", \"govuk-table__custom--col6\"], [\"colspan\", \"6\", 1, \"govuk-table__cell\"], [3, \"errorMessage\", 4, \"ngIf\"], [\"type\", \"hidden\", 1, \"iFrameDrivenImageValue\", 3, \"value\"], [1, \"govuk-heading-l\", \"govuk-heading-l--custom\"], [\"class\", \"payment-group-section\", 4, \"ngIf\"], [\"class\", \"govuk-warning-text\", 4, \"ngIf\"], [\"class\", \"govuk-form-group\", 4, \"ngIf\"], [\"novalidate\", \"\", 3, \"formGroup\"], [\"id\", \"conditional-how-contacted-conditional-3\", 3, \"ngClass\"], [1, \"govuk-form-group\"], [\"id\", \"more-detail-hint\", 1, \"govuk-hint\", \"govuk-font__custom\"], [\"id\", \"moreDetails\", \"name\", \"moreDetails\", \"rows\", \"5\", \"formControlName\", \"moreDetails\", 1, \"govuk-textarea\", 3, \"ngClass\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [1, \"govuk-button--group\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\"], [3, \"errorMessage\"], [\"class\", \"govuk-heading-m--custom\", 4, \"ngIf\"], [1, \"govuk-heading-m--custom\"], [\"class\", \"govuk-table__cell govuk-table__cell--col6\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"govuk-table__cell--col6\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\", \"govuk-warning-text__custom\"], [1, \"govuk-warning-text__assistive\"], [\"aria-describedby\", \"how-contacted-conditional-hint\", 1, \"govuk-fieldset\"], [\"id\", \"how-contacted-conditional-hint\", 1, \"govuk-hint\", 3, \"ngClass\"], [\"data-module\", \"govuk-radios\", 3, \"ngClass\", 4, \"ngIf\"], [\"data-module\", \"govuk-radios\", 3, \"ngClass\"], [\"class\", \"govuk-radios__item\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-radios__item\"], [\"name\", \"paymentReason\", \"type\", \"radio\", 1, \"govuk-radios__input\", 3, \"id\", \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"how-contacted-conditional\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-font__custom\"], [\"name\", \"paymentExplanation\", \"type\", \"radio\", 1, \"govuk-radios__input\", 3, \"id\", \"ngModel\", \"value\", \"ngModelChange\", \"click\"], [1, \"inline-error-message\"]],\n      template: function AllocatePaymentsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, AllocatePaymentsComponent_ng_container_1_Template, 15, 3, \"ng-container\", 1);\n          i0.ɵɵtemplate(2, AllocatePaymentsComponent_div_2_Template, 16, 9, \"div\", 1);\n          i0.ɵɵtemplate(3, AllocatePaymentsComponent_ng_container_3_Template, 25, 19, \"ng-container\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"mainForm\" && !ctx.isTurnOff);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"mainForm\" && ctx.isTurnOff);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"mainForm\" && ctx.isTurnOff || ctx.viewStatus === \"allocatePaymentConfirmation\");\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1$1.ɵNgNoValidate, i1$1.DefaultValueAccessor, i1$1.RadioControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.NgModel, i1$1.FormGroupDirective, i1$1.FormControlName, ErrorBannerComponent, i3.CurrencyPipe, keyValuePipe],\n      styles: [\".allocate-payments[_ngcontent-%COMP%]{margin:20px 0}.allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col1[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col3[_ngcontent-%COMP%]{width:10%}.allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col2[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col6[_ngcontent-%COMP%]{width:25%}.allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col4[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-table__cell--col5[_ngcontent-%COMP%]{width:15%}.allocate-payments[_ngcontent-%COMP%]   .govuk-button-group-allocate[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.allocate-payments[_ngcontent-%COMP%]   .govuk-button--secondary[_ngcontent-%COMP%]{margin-left:10px;background-color:#b3b8bdf2}.allocate-payments[_ngcontent-%COMP%]   .govuk-custom-warning__message[_ngcontent-%COMP%]{font-size:30px;position:relative;top:12px;font-weight:700}.allocate-payments[_ngcontent-%COMP%]   .govuk-warning-text-custom[_ngcontent-%COMP%]{margin-bottom:0!important;padding:10px 0 5px}.allocate-payments[_ngcontent-%COMP%]   .govuk-table__custom--col1[_ngcontent-%COMP%]{padding-top:0;padding-bottom:20px;padding-left:15px}.allocate-payments[_ngcontent-%COMP%]   .govuk-table__custom--col6[_ngcontent-%COMP%]{text-align:center}.allocate-payments[_ngcontent-%COMP%]   .govuk-list__custom[_ngcontent-%COMP%]{padding-left:20px}.allocate-payments[_ngcontent-%COMP%]   .govuk-warning-text__custom[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-list__custom[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-heading-m--custom[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-label--m[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-radios__item[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-hint[_ngcontent-%COMP%], .allocate-payments[_ngcontent-%COMP%]   .govuk-font__custom[_ngcontent-%COMP%]{font-size:19px}.allocate-payments[_ngcontent-%COMP%]   .govuk-radios__conditional--hidden[_ngcontent-%COMP%]{display:none}.allocate-payments[_ngcontent-%COMP%]   .form-group-error[_ngcontent-%COMP%]{border-left:5px solid #b10e1e;padding-left:15px}.allocate-payments[_ngcontent-%COMP%]   .inline-error-class[_ngcontent-%COMP%]{outline:3px solid #a71414;outline-offset:0}.allocate-payments[_ngcontent-%COMP%]   .inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px}.allocate-payments[_ngcontent-%COMP%]   .inline-error-border[_ngcontent-%COMP%]{border-color:#a71414}.allbtb[_ngcontent-%COMP%]{margin-top:2em}.govuk-back-link[_ngcontent-%COMP%]{font-size:1.5rem!important}.multiple-choice[_ngcontent-%COMP%]{font-size:19px}.casererf[_ngcontent-%COMP%]{align-self:flex-end;font-size:19px}.paymentrequest[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:960px}\"]\n    });\n  }\n  return AllocatePaymentsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass PaymentToPayhubRequest {\n  currency = 'GBP';\n  description = 'PayBubble payment';\n  channel = 'telephony';\n  provider = 'pci pal';\n  case_type;\n  ccd_case_number;\n  amount;\n  constructor(ccd_case_number, amount, caseType) {\n    this.ccd_case_number = ccd_case_number;\n    this.amount = amount.toFixed(2);\n    this.case_type = caseType;\n  }\n}\nclass PayhubAntennaRequest {\n  currency = 'GBP';\n  case_type;\n  ccd_case_number;\n  amount;\n  constructor(ccd_case_number, amount, caseType) {\n    this.ccd_case_number = ccd_case_number;\n    this.amount = amount.toFixed(2);\n    this.case_type = caseType;\n  }\n}\nconst BS_ENABLE_FLAG = 'bulk-scan-enabling-fe';\nlet FeeSummaryComponent = /*#__PURE__*/(() => {\n  class FeeSummaryComponent {\n    router;\n    bulkScaningPaymentService;\n    location;\n    paymentViewService;\n    paymentLibComponent;\n    OrderslistService;\n    paymentGroupRef;\n    ccdCaseNumber;\n    isTurnOff;\n    caseType;\n    bsPaymentDcnNumber;\n    paymentGroup;\n    errorMessage;\n    viewStatus = 'main';\n    currentFee;\n    totalFee;\n    payhubHtml;\n    service = \"\";\n    platForm = \"\";\n    upPaymentErrorMessage;\n    selectedOption;\n    isBackButtonEnable = true;\n    outStandingAmount;\n    isFeeAmountZero = false;\n    totalAfterRemission = 0;\n    isConfirmationBtnDisabled = false;\n    isRemoveBtnDisabled = false;\n    isPaymentExist = false;\n    isRemissionsExist = false;\n    isRemissionsMatch = false;\n    isStrategicFixEnable;\n    constructor(router, bulkScaningPaymentService, location, paymentViewService, paymentLibComponent, OrderslistService) {\n      this.router = router;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n      this.location = location;\n      this.paymentViewService = paymentViewService;\n      this.paymentLibComponent = paymentLibComponent;\n      this.OrderslistService = OrderslistService;\n    }\n    ngOnInit() {\n      this.viewStatus = 'main';\n      this.caseType = this.paymentLibComponent.CASETYPE;\n      this.bsPaymentDcnNumber = this.paymentLibComponent.bspaymentdcn;\n      this.selectedOption = this.paymentLibComponent.SELECTED_OPTION.toLocaleLowerCase();\n      this.isStrategicFixEnable = this.paymentLibComponent.ISSFENABLE;\n      this.OrderslistService.setCaseType(this.paymentLibComponent.CASETYPE);\n      this.platForm = 'Antenna';\n      this.paymentViewService.getBSfeature().subscribe(features => {\n        let result = JSON.parse(features).filter(feature => feature.uid === BS_ENABLE_FLAG);\n        this.paymentLibComponent.ISBSENABLE = result[0] ? result[0].enable : false;\n      }, err => {\n        this.paymentLibComponent.ISBSENABLE = false;\n      });\n      if (this.bsPaymentDcnNumber) {\n        this.getUnassignedPaymentlist();\n      }\n      this.getPaymentGroup();\n    }\n    getUnassignedPaymentlist() {\n      if (this.selectedOption === 'dcn') {\n        this.bulkScaningPaymentService.getBSPaymentsByDCN(this.paymentLibComponent.DCN_NUMBER).subscribe(unassignedPayments => {\n          if (unassignedPayments['data'].payments) {\n            this.service = unassignedPayments['data'].responsible_service_id;\n          } else {\n            this.upPaymentErrorMessage = 'error';\n          }\n        }, error => this.upPaymentErrorMessage = error);\n      } else {\n        this.bulkScaningPaymentService.getBSPaymentsByCCD(this.ccdCaseNumber).subscribe(unassignedPayments => {\n          if (unassignedPayments['data'].payments) {\n            this.service = unassignedPayments['data'].responsible_service_id;\n          } else {\n            this.upPaymentErrorMessage = 'error';\n          }\n        }, error => this.upPaymentErrorMessage = error);\n      }\n    }\n    getRemissionByFeeCode(feeCode) {\n      if (this.paymentGroup && this.paymentGroup.remissions && this.paymentGroup.remissions.length > 0) {\n        for (const remission of this.paymentGroup.remissions) {\n          if (remission.fee_code === feeCode) {\n            return remission;\n          }\n        }\n      }\n      return null;\n    }\n    addRemission(fee) {\n      this.currentFee = fee;\n      this.viewStatus = 'add_remission';\n    }\n    getPaymentGroup() {\n      let fees = [];\n      this.paymentViewService.getPaymentGroupDetails(this.paymentGroupRef).subscribe(paymentGroup => {\n        this.paymentGroup = paymentGroup;\n        this.isPaymentExist = paymentGroup.payments ? paymentGroup.payments.length > 0 : false;\n        this.isRemissionsExist = paymentGroup.remissions ? paymentGroup.remissions.length > 0 : false;\n        if (paymentGroup.fees) {\n          paymentGroup.fees.forEach(fee => {\n            this.totalAfterRemission = this.totalAfterRemission + fee.net_amount;\n            if (fee.calculated_amount === 0) {\n              this.isFeeAmountZero = true;\n            }\n            if (paymentGroup.remissions) {\n              this.isRemissionsMatch = false;\n              paymentGroup.remissions.forEach(rem => {\n                if (rem.fee_code === fee.code) {\n                  this.isRemissionsMatch = true;\n                  fee['remissions'] = rem;\n                  fees.push(fee);\n                }\n              });\n              if (!this.isRemissionsMatch) {\n                fees.push(fee);\n              }\n            } else {\n              fees.push(fee);\n            }\n          });\n          paymentGroup.fees = fees;\n        }\n        this.outStandingAmount = this.bulkScaningPaymentService.calculateOutStandingAmount(paymentGroup);\n      }, error => this.errorMessage = error.replace(/\"/g, \"\"));\n    }\n    confirmRemoveFee(fee) {\n      this.isRemoveBtnDisabled = false;\n      this.currentFee = fee;\n      this.viewStatus = 'feeRemovalConfirmation';\n    }\n    removeFee(fee) {\n      this.isRemoveBtnDisabled = true;\n      this.paymentViewService.deleteFeeFromPaymentGroup(fee).subscribe(success => {\n        if (this.paymentGroup.fees && this.paymentGroup.fees.length > 1) {\n          this.totalAfterRemission = 0;\n          this.getPaymentGroup();\n          this.viewStatus = 'main';\n          return;\n        }\n        this.loadCaseTransactionPage();\n      }, error => {\n        this.errorMessage = error;\n        this.isRemoveBtnDisabled = false;\n      });\n    }\n    loadCaseTransactionPage() {\n      this.paymentLibComponent.TAKEPAYMENT = true;\n      this.paymentLibComponent.viewName = 'case-transactions';\n      this.paymentViewService.getBSfeature().subscribe(features => {\n        let result = JSON.parse(features).filter(feature => feature.uid === BS_ENABLE_FLAG);\n        this.paymentLibComponent.ISBSENABLE = result[0] ? result[0].enable : false;\n      }, err => {\n        this.paymentLibComponent.ISBSENABLE = false;\n      });\n      let partUrl = `selectedOption=${this.paymentLibComponent.SELECTED_OPTION}`;\n      partUrl += this.bsPaymentDcnNumber ? `&dcn=${this.bsPaymentDcnNumber}` : '';\n      partUrl += this.paymentLibComponent.ISBSENABLE ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n      partUrl += this.paymentLibComponent.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n      partUrl += this.paymentLibComponent.ISSFENABLE ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n      partUrl += `&caseType=${this.paymentLibComponent.CASETYPE}`;\n      let url = `/payment-history/${this.ccdCaseNumber}?view=case-transactions&takePayment=true&${partUrl}`;\n      this.router.navigateByUrl(url);\n    }\n    cancelRemission() {\n      this.viewStatus = 'main';\n    }\n    redirectToFeeSearchPage(event, page) {\n      event.preventDefault();\n      let partUrl = this.bsPaymentDcnNumber ? `&dcn=${this.bsPaymentDcnNumber}` : '';\n      partUrl += this.paymentLibComponent.ISBSENABLE ? '&isBulkScanning=Enable' : '&isBulkScanning=Disable';\n      partUrl += this.paymentLibComponent.ISTURNOFF ? '&isTurnOff=Enable' : '&isTurnOff=Disable';\n      partUrl += this.paymentLibComponent.ISSFENABLE ? '&isStFixEnable=Enable' : '&isStFixEnable=Disable';\n      partUrl += `&caseType=${this.paymentLibComponent.CASETYPE}`;\n      if (this.viewStatus === 'feeRemovalConfirmation' || this.viewStatus === 'add_remission') {\n        this.viewStatus = 'main';\n        return;\n      }\n      let url = `/fee-search?ccdCaseNumber=${this.ccdCaseNumber}&selectedOption=${this.paymentLibComponent.SELECTED_OPTION}&paymentGroupRef=${this.paymentGroupRef}${partUrl}`;\n      this.router.navigateByUrl(url);\n    }\n    takePayment() {\n      this.isConfirmationBtnDisabled = true;\n      const requestBody = new PaymentToPayhubRequest(this.ccdCaseNumber, this.outStandingAmount, this.caseType),\n        antennaReqBody = new PayhubAntennaRequest(this.ccdCaseNumber, this.outStandingAmount, this.caseType);\n      if (this.platForm === 'Antenna') {\n        this.paymentViewService.postPaymentAntennaToPayHub(antennaReqBody, this.paymentGroupRef).subscribe(response => {\n          this.isBackButtonEnable = false;\n          window.location.href = '/makePaymentByTelephoneyProvider';\n        }, error => {\n          this.errorMessage = error;\n          this.isConfirmationBtnDisabled = false;\n          this.router.navigateByUrl('/pci-pal-failure');\n        });\n      }\n    }\n    goToAllocatePage(outStandingAmount, isFeeAmountZero) {\n      if (outStandingAmount > 0 || outStandingAmount === 0 && isFeeAmountZero) {\n        this.paymentLibComponent.paymentGroupReference = this.paymentGroupRef;\n        this.paymentLibComponent.viewName = 'allocate-payments';\n      } else {\n        this.loadCaseTransactionPage();\n      }\n    }\n    isCheckAmountdueExist(amountDue) {\n      return typeof amountDue === 'undefined';\n    }\n    static ɵfac = function FeeSummaryComponent_Factory(t) {\n      return new (t || FeeSummaryComponent)(i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(BulkScaningPaymentService), i0.ɵɵdirectiveInject(i3.Location), i0.ɵɵdirectiveInject(PaymentViewService), i0.ɵɵdirectiveInject('PAYMENT_LIB'), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: FeeSummaryComponent,\n      selectors: [[\"ccpay-fee-summary\"]],\n      inputs: {\n        paymentGroupRef: \"paymentGroupRef\",\n        ccdCaseNumber: \"ccdCaseNumber\",\n        isTurnOff: \"isTurnOff\",\n        caseType: \"caseType\"\n      },\n      decls: 5,\n      vars: 5,\n      consts: [[\"class\", \"govuk-breadcrumbs\", 4, \"ngIf\"], [\"class\", \"fee-summary\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"fee\", \"caseType\", \"ccdCaseNumber\", \"paymentGroupRef\", \"cancelRemission\", 4, \"ngIf\"], [\"type\", \"hidden\", \"class\", \"iFrameDrivenImageValue\", \"value\", \"PCIPAL\", 4, \"ngIf\"], [1, \"govuk-breadcrumbs\"], [1, \"govuk-breadcrumbs__list\"], [\"class\", \"govuk-breadcrumbs__list-item\", 4, \"ngIf\"], [1, \"govuk-breadcrumbs__list-item\"], [1, \"govuk-back-link\", \"govuk-label\", 3, \"click\"], [1, \"fee-summary\"], [1, \"govuk-main-wrapper\"], [\"type\", \"hidden\", \"value\", \"FEESUMMARY\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [1, \"summaryheader\"], [1, \"heading-large\", \"govuk-!-margin-top-3\", \"govuk-!-margin-bottom-4\"], [1, \"govuk-!-margin-top-5\", \"caseref\"], [1, \"govuk-!-margin-top-3\"], [\"class\", \"govuk-table  govuk-!-margin-bottom-2\", 4, \"ngIf\"], [1, \"addfee\"], [3, \"disabled\", \"ngClass\", \"click\", 4, \"ngIf\"], [\"class\", \"govuk-button govuk-button--secondary\", 3, \"click\", 4, \"ngIf\"], [1, \"feeAddButton\"], [1, \"paddigleft\", \"govuk-!-margin-top-2\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"button govuk-!-margin-right-1\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 1, \"error-summary\"], [\"id\", \"failure-error-summary-heading\", 1, \"heading-medium\", \"error-summary-heading\"], [1, \"govuk-error-summary__body\"], [1, \"govuk-table\", \"govuk-!-margin-bottom-2\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"class600\"], [\"scope\", \"col\", 1, \"class60\"], [\"scope\", \"col\", 1, \"class80\"], [\"scope\", \"col\", 1, \"class100\"], [\"class\", \"govuk-table__body\", 4, \"ngIf\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [1, \"govuk-table__cell\"], [\"class\", \"no-border\", 4, \"ngIf\"], [\"class\", \"remissionActive\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"govuk-table__cell\", 4, \"ngIf\"], [1, \"govuk-table__cell\", \"alignright\"], [\"class\", \"govuk-table__cell_border\", 4, \"ngIf\"], [1, \"no-border\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [3, \"ngClass\", \"click\"], [3, \"click\"], [1, \"remissionActive\", 3, \"click\"], [1, \"govuk-table__cell_border\"], [1, \"govuk-table__cell_rmborder\", \"alignright\"], [3, \"disabled\", \"ngClass\", \"click\"], [1, \"govuk-button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"button\", 1, \"button\", \"govuk-!-margin-right-1\", 3, \"click\"], [\"type\", \"hidden\", \"value\", \"FEEREMOVALCONFIRMATION_1\", 1, \"iFrameDrivenImageValue\"], [1, \"govuk-warning-text\"], [\"aria-hidden\", \"true\", 1, \"govuk-warning-text__icon\"], [1, \"govuk-warning-text__text\"], [1, \"govuk-warning-text__assistive\"], [1, \"govuk-button-grb\"], [\"novalidate\", \"\"], [\"type\", \"submit\", 1, \"button\", \"govuk-button--secondary\", 3, \"click\"], [\"type\", \"submit\", \"class\", \"button\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"button\", 3, \"ngClass\", \"click\"], [3, \"isTurnOff\", \"isStrategicFixEnable\", \"fee\", \"caseType\", \"ccdCaseNumber\", \"paymentGroupRef\", \"cancelRemission\"], [\"type\", \"hidden\", \"value\", \"PCIPAL\", 1, \"iFrameDrivenImageValue\"]],\n      template: function FeeSummaryComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, FeeSummaryComponent_div_0_Template, 4, 2, \"div\", 0);\n          i0.ɵɵtemplate(1, FeeSummaryComponent_div_1_Template, 23, 15, \"div\", 1);\n          i0.ɵɵtemplate(2, FeeSummaryComponent_ng_container_2_Template, 15, 1, \"ng-container\", 2);\n          i0.ɵɵtemplate(3, FeeSummaryComponent_ccpay_add_remission_3_Template, 1, 6, \"ccpay-add-remission\", 3);\n          i0.ɵɵtemplate(4, FeeSummaryComponent_input_4_Template, 2, 0, \"input\", 4);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.isBackButtonEnable);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"main\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"feeRemovalConfirmation\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"add_remission\" && ctx.currentFee);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewStatus === \"payhub_view\" && ctx.payhubHtml);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1$1.ɵNgNoValidate, i1$1.NgControlStatusGroup, i1$1.NgForm, AddRemissionComponent, i3.CurrencyPipe, CcdHyphensPipe],\n      styles: [\".fee-summary[_ngcontent-%COMP%]   .grey-text[_ngcontent-%COMP%]{color:#6b7376;font-weight:500}.fee-summary[_ngcontent-%COMP%]   .govuk-table[_ngcontent-%COMP%]{margin-bottom:0}.fee-summary[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{border:none;border-bottom:none}.fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:19px;vertical-align:top}.fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .no-padding[_ngcontent-%COMP%], .fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .no-padding[_ngcontent-%COMP%]{padding:0}.fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .subcolumn-1[_ngcontent-%COMP%], .fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .subcolumn-1[_ngcontent-%COMP%]{width:45%}.fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .subcolumn-2[_ngcontent-%COMP%], .fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .subcolumn-2[_ngcontent-%COMP%]{width:25%;text-align:right}.fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .subcolumn-3[_ngcontent-%COMP%], .fee-summary[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .subcolumn-3[_ngcontent-%COMP%]{width:30%;text-align:center}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.govuk-button-grb[_ngcontent-%COMP%]{padding-bottom:20px}.govuk-button-grb[_ngcontent-%COMP%]   .govuk-button--secondary[_ngcontent-%COMP%]{background-color:#dee0e2;box-shadow:0 2px #858688;color:#0b0c0c;margin-right:10px}.govuk-form-group--mg[_ngcontent-%COMP%]{margin-top:10px!important}.govuk-fieldset__heading--fz[_ngcontent-%COMP%]{font-size:16px}.remissionDisable[_ngcontent-%COMP%]{color:gray;cursor:default}.heading-xlarge[_ngcontent-%COMP%]{margin:0 0 14px -20px}.govuk-select--custom[_ngcontent-%COMP%]{width:50%}.disable-link[_ngcontent-%COMP%]{cursor:default;pointer-events:none;color:#8e8c8c}.govuk-table__header[_ngcontent-%COMP%], .govuk-table__cell_border[_ngcontent-%COMP%]{padding:10px 0 0;border-top:1px solid #bfc1c3;text-align:left}.govuk-table__header[_ngcontent-%COMP%], .govuk-table__cell[_ngcontent-%COMP%]{padding:10px 0}.govuk-table__header[_ngcontent-%COMP%], .govuk-table__cell_rmborder[_ngcontent-%COMP%]{padding:10px 0 0;border-top:1px solid #bfc1c3;text-align:left}.govuk-table__fessheader[_ngcontent-%COMP%]{font-weight:700}.govuk-button[_ngcontent-%COMP%]{font-size:19px}.feeAddButton[_ngcontent-%COMP%]{padding-left:65rem}.remissionActive[_ngcontent-%COMP%]{padding-left:10px}.paddigleft[_ngcontent-%COMP%]{padding-left:2em}.govuk-back-link[_ngcontent-%COMP%]{font-size:1.5rem!important}.govuk-warning-text__text[_ngcontent-%COMP%]{font-size:19px}.summaryheader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:960px}.class600[_ngcontent-%COMP%]{width:600px}.class60[_ngcontent-%COMP%]{width:60px}.class80[_ngcontent-%COMP%]{width:80px;text-align:right}.class100[_ngcontent-%COMP%]{width:100px;text-align:right}.alignright[_ngcontent-%COMP%]{text-align:right}.caseref[_ngcontent-%COMP%]{align-self:flex-end}.addfee[_ngcontent-%COMP%]{display:flex;flex-direction:row}\"]\n    });\n  }\n  return FeeSummaryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\nconst EXCEL_EXTENSION = '.xlsx';\nlet XlFileService = /*#__PURE__*/(() => {\n  class XlFileService {\n    constructor() {}\n    exportAsExcelFile(json, excelFileName) {\n      let worksheet;\n      let workbook;\n      if (excelFileName.match('Data_Loss') !== null) {\n        worksheet = XLSX.utils.json_to_sheet(json, {\n          header: ['loss_resp', 'payment_asset_dcn', 'env_ref', 'env_item', 'resp_service_id', 'resp_service_name', 'date_banked', 'bgc_batch', 'payment_method', 'amount']\n        });\n        worksheet = this.setDataLossReportHeaders(worksheet);\n        worksheet = this.autoFitColumns(worksheet, json);\n      } else if (excelFileName.match('Unprocessed') !== null) {\n        worksheet = XLSX.utils.json_to_sheet(json, {\n          header: ['resp_service_id', 'resp_service_name', 'exception_ref', 'ccd_ref', 'date_banked', 'bgc_batch', 'payment_asset_dcn', 'env_ref', 'env_item', 'payment_method', 'amount']\n        });\n        worksheet = this.setUnprocessedReportHeaders(worksheet);\n        worksheet = this.autoFitColumns(worksheet, json);\n      } else if (excelFileName.match('Processed_Unallocated') !== null) {\n        worksheet = XLSX.utils.json_to_sheet(json, {\n          header: ['resp_service_id', 'resp_service_name', 'allocation_status', 'receiving_office', 'allocation_reason', 'ccd_exception_reference', 'ccd_case_reference', 'payment_asset_dcn', 'env_ref', 'env_item', 'date_banked', 'bgc_batch', 'payment_method', 'amount']\n        });\n        worksheet = this.setProcessedUnallocatedReportHeaders(worksheet);\n        worksheet = this.autoFitColumns(worksheet, json);\n      } else if (excelFileName.match('Payment failure') !== null) {\n        worksheet = XLSX.utils.json_to_sheet(json, {\n          header: ['payment_reference', 'ccd_reference', 'document_control_number', 'org_id', 'service_name', 'failure_reference', 'failure_reason', 'disputed_amount', 'event_name', 'event_date', 'representment_status', 'representment_date', 'refund_reference', 'refund_amount', 'refund_date']\n        });\n        worksheet = this.setPaymentFailureReportHeaders(worksheet);\n        worksheet = this.autoFitColumns(worksheet, json);\n      } else {\n        worksheet = XLSX.utils.json_to_sheet(json, {\n          header: ['resp_service_id', 'resp_service_name', 'surplus_shortfall', 'balance', 'payment_amount', 'ccd_case_reference', 'ccd_exception_reference', 'processed_date', 'reason', 'explanation', 'user_name']\n        });\n        worksheet = this.setShortFallReportHeaders(worksheet);\n        worksheet = this.autoFitColumns(worksheet, json);\n      }\n      workbook = {\n        Sheets: {\n          'data': worksheet\n        },\n        SheetNames: ['data']\n      };\n      const excelBuffer = XLSX.write(workbook, {\n        bookType: 'xlsx',\n        type: 'array'\n      });\n      this.saveAsExcelFile(excelBuffer, excelFileName);\n    }\n    autoFitColumns(worksheet, json) {\n      let objectMaxLength = [];\n      let ColWidth = [];\n      let obj = Object;\n      for (let i = 0; i < json.length; i++) {\n        let value = obj.values(json[i]);\n        let key = obj.keys(json[i]);\n        for (let j = 0; j < value.length; j++) {\n          if (value[j] === null) {\n            value[j] = '';\n          }\n          objectMaxLength[j] = key[j].length >= value[j].length ? key[j].length + 2 : value[j].length + 1;\n          if (value[j].length === undefined) {\n            objectMaxLength[j] = key[j].length + 2;\n          }\n          ColWidth.push({\n            'width': +objectMaxLength[j]\n          });\n        }\n      }\n      worksheet['!cols'] = ColWidth;\n      return worksheet;\n    }\n    setDataLossReportHeaders(worksheet) {\n      worksheet.A1.v = \"Loss_Resp\";\n      worksheet.B1.v = \"Payment_Asset_DCN\";\n      worksheet.C1.v = \"Envelope_Ref\";\n      worksheet.D1.v = \"Envelope_Item\";\n      worksheet.E1.v = \"Resp_Service ID\";\n      worksheet.F1.v = \"Resp_Service Name\";\n      worksheet.G1.v = \"Date_Banked\";\n      worksheet.H1.v = \"BGC_Batch\";\n      worksheet.I1.v = \"Payment_Method\";\n      worksheet.J1.v = \"Amount\";\n      return worksheet;\n    }\n    setUnprocessedReportHeaders(worksheet) {\n      worksheet.A1.v = \"Resp_Service ID\";\n      worksheet.B1.v = \"Resp_Service Name\";\n      worksheet.C1.v = \"Exception_Ref\";\n      worksheet.D1.v = \"CCD_Ref\";\n      worksheet.E1.v = \"Date_Banked\";\n      worksheet.F1.v = \"BGC_Batch\";\n      worksheet.G1.v = \"Payment_Asset_DCN\";\n      worksheet.H1.v = \"Envelope_Ref\";\n      worksheet.I1.v = \"Envelope_Item\";\n      worksheet.J1.v = \"Payment_Method\";\n      worksheet.K1.v = \"Amount\";\n      return worksheet;\n    }\n    setProcessedUnallocatedReportHeaders(worksheet) {\n      worksheet.A1.v = \"Resp_Service ID\";\n      worksheet.B1.v = \"Resp_Service Name\";\n      worksheet.C1.v = \"Allocation_Status\";\n      worksheet.D1.v = \"Receiving_Office\";\n      worksheet.E1.v = \"Allocation_Reason\";\n      worksheet.F1.v = \"CCD_Exception_Ref\";\n      worksheet.G1.v = \"CCD_Case_Ref\";\n      worksheet.H1.v = \"Payment_Asset_DCN\";\n      worksheet.I1.v = \"Envelope_Ref\";\n      worksheet.J1.v = \"Envelope_Item\";\n      worksheet.K1.v = \"Date_Banked\";\n      worksheet.L1.v = \"BGC_Batch\";\n      worksheet.M1.v = \"Payment_Method\";\n      worksheet.N1.v = \"Amount\";\n      return worksheet;\n    }\n    setPaymentFailureReportHeaders(worksheet) {\n      worksheet.A1.v = \"Payment reference\";\n      worksheet.B1.v = \"CCD reference\";\n      worksheet.C1.v = \"Document Control Number\";\n      worksheet.D1.v = \"OrgID\";\n      worksheet.E1.v = \"Service name\";\n      worksheet.F1.v = \"Failure reference\";\n      worksheet.G1.v = \"Failure reason\";\n      worksheet.H1.v = \"Disputed amount\";\n      worksheet.I1.v = \"Event name\";\n      worksheet.J1.v = \"Event date\";\n      worksheet.K1.v = \"Representment status\";\n      worksheet.L1.v = \"Representment date\";\n      worksheet.M1.v = \"Refund reference\";\n      worksheet.N1.v = \"Refund amount\";\n      worksheet.O1.v = \"Refund date\";\n      return worksheet;\n    }\n    setShortFallReportHeaders(worksheet) {\n      worksheet.A1.v = \"Resp_Service ID\";\n      worksheet.B1.v = \"Resp_Service Name\";\n      worksheet.C1.v = \"Over Payment_Under Payment\";\n      worksheet.D1.v = \"Balance\";\n      worksheet.E1.v = \"Payment_Amount\";\n      worksheet.F1.v = \"CCD_Case_Ref\";\n      worksheet.G1.v = \"Exception_Ref\";\n      worksheet.H1.v = \"Processed_Date\";\n      worksheet.I1.v = \"Reason\";\n      worksheet.J1.v = \"Explanation\";\n      worksheet.K1.v = \"Updated Name\";\n      return worksheet;\n    }\n    saveAsExcelFile(buffer, fileName) {\n      const data = new Blob([buffer], {\n        type: EXCEL_TYPE\n      });\n      FileSaver.saveAs(data, fileName + EXCEL_EXTENSION);\n    }\n    static ɵfac = function XlFileService_Factory(t) {\n      return new (t || XlFileService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: XlFileService,\n      factory: XlFileService.ɵfac\n    });\n  }\n  return XlFileService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ReportsComponent = /*#__PURE__*/(() => {\n  class ReportsComponent {\n    xlFileService;\n    errorHandlerService;\n    formBuilder;\n    bulkScaningPaymentService;\n    paymentViewService;\n    ISPAYMENTSTATUSENABLED;\n    fmt = 'dd/MM/yyyy';\n    loc = 'en-US';\n    reportsForm;\n    startDate;\n    endDate;\n    errorMeaagse;\n    ccdCaseNumber;\n    isDownLoadButtondisabled = false;\n    isStartDateLesthanEndDate = false;\n    isDateBetwnMonth = false;\n    isDateRangeBetnWeek = false;\n    //errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n    errorMessage = null;\n    paymentGroups = [];\n    constructor(xlFileService, errorHandlerService, formBuilder, bulkScaningPaymentService, paymentViewService) {\n      this.xlFileService = xlFileService;\n      this.errorHandlerService = errorHandlerService;\n      this.formBuilder = formBuilder;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n      this.paymentViewService = paymentViewService;\n    }\n    ngOnInit() {\n      this.fromValidation();\n    }\n    getToday() {\n      return new Date().toISOString().split('T')[0];\n    }\n    getSelectedFromDate() {\n      this.validateDates(this.reportsForm.get('selectedreport').value);\n    }\n    validateDates(reportName) {\n      const selectedStartDate = this.tranformDate(this.reportsForm.get('startDate').value),\n        selectedEndDate = this.tranformDate(this.reportsForm.get('endDate').value);\n      const isDateRangeMoreThanWeek = (new Date(selectedStartDate) - new Date(selectedEndDate)) / (1000 * 3600 * -24) > 7;\n      const isDateRangeMoreThanMonth = (new Date(selectedStartDate) - new Date(selectedEndDate)) / (1000 * 3600 * -24) > 30;\n      if (new Date(selectedStartDate) > new Date(selectedEndDate) && selectedEndDate !== '') {\n        this.reportsForm.get('startDate').setValue('');\n        this.isDateRangeBetnWeek = false;\n        this.isDateBetwnMonth = false;\n        this.isStartDateLesthanEndDate = true;\n      } else if (reportName && reportName === 'SURPLUS_AND_SHORTFALL' && isDateRangeMoreThanWeek) {\n        this.isDateRangeBetnWeek = true;\n        this.isDateBetwnMonth = false;\n        this.isStartDateLesthanEndDate = false;\n      } else if (reportName && reportName === 'PAYMENT_FAILURE_EVENT' && isDateRangeMoreThanMonth) {\n        this.isDateRangeBetnWeek = false;\n        this.isDateBetwnMonth = true;\n        this.isStartDateLesthanEndDate = false;\n      } else {\n        this.isDateBetwnMonth = false;\n        this.isDateRangeBetnWeek = false;\n        this.isStartDateLesthanEndDate = false;\n      }\n    }\n    fromValidation() {\n      this.reportsForm = this.formBuilder.group({\n        selectedreport: new FormControl(''),\n        startDate: new FormControl(''),\n        endDate: new FormControl('')\n      });\n    }\n    downloadReport() {\n      this.isDownLoadButtondisabled = true;\n      const dataLossRptDefault = [{\n          loss_resp: '',\n          payment_asset_dcn: '',\n          env_ref: '',\n          env_item: '',\n          resp_service_id: '',\n          resp_service_name: '',\n          date_banked: '',\n          bgc_batch: '',\n          payment_method: '',\n          amount: ''\n        }],\n        unProcessedRptDefault = [{\n          resp_service_id: '',\n          resp_service_name: '',\n          exception_ref: '',\n          ccd_ref: '',\n          date_banked: '',\n          bgc_batch: '',\n          payment_asset_dcn: '',\n          env_ref: '',\n          env_item: '',\n          payment_method: '',\n          amount: ''\n        }],\n        processedUnallocated = [{\n          resp_service_id: '',\n          resp_service_name: '',\n          allocation_status: '',\n          receiving_office: '',\n          allocation_reason: '',\n          ccd_exception_ref: '',\n          ccd_case_ref: '',\n          payment_asset_dcn: '',\n          env_ref: '',\n          env_item: '',\n          date_banked: '',\n          bgc_batch: '',\n          payment_method: '',\n          amount: '',\n          updated_by: ''\n        }],\n        shortFallsRptDefault = [{\n          resp_service_id: '',\n          resp_service_name: '',\n          surplus_shortfall: '',\n          balance: '',\n          payment_amount: '',\n          ccd_case_reference: '',\n          ccd_exception_reference: '',\n          processed_date: '',\n          reason: '',\n          explanation: '',\n          user_name: ''\n        }],\n        selectedReportName = this.reportsForm.get('selectedreport').value,\n        selectedStartDate = this.tranformDate(this.reportsForm.get('startDate').value),\n        selectedEndDate = this.tranformDate(this.reportsForm.get('endDate').value);\n      if (selectedReportName === 'PROCESSED_UNALLOCATED' || selectedReportName === 'SURPLUS_AND_SHORTFALL') {\n        this.paymentViewService.downloadSelectedReport(selectedReportName, selectedStartDate, selectedEndDate).subscribe(response => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          const result = JSON.parse(response);\n          let res = {\n            data: this.applyDateFormat(result)\n          };\n          if (res['data'].length === 0 && selectedReportName === 'PROCESSED_UNALLOCATED') {\n            res.data = processedUnallocated;\n          } else if (res['data'].length === 0 && selectedReportName === 'SURPLUS_AND_SHORTFALL') {\n            res.data = shortFallsRptDefault;\n          }\n          if (result['data'].length > 0) {\n            for (var i = 0; i < res['data'].length; i++) {\n              if (res['data'][i][\"payment_asset_dcn\"] !== undefined) {\n                res['data'][i]['env_ref'] = res['data'][i][\"payment_asset_dcn\"].substr(0, 13);\n                res['data'][i]['env_item'] = res['data'][i][\"payment_asset_dcn\"].substr(13, 21);\n              }\n              if (res['data'][i][\"amount\"] !== undefined) {\n                res['data'][i]['amount'] = this.convertToFloatValue(res['data'][i]['amount']);\n              }\n              if (res['data'][i][\"balance\"] !== undefined) {\n                res['data'][i]['balance'] = this.convertToFloatValue(res['data'][i][\"balance\"]);\n              }\n              let Op = res['data'][i][\"surplus_shortfall\"];\n              if (Op !== undefined) {\n                res['data'][i]['surplus_shortfall'] = Op == \"Surplus\" ? \"Over payment\" : \"Under payment\";\n              }\n              if (res['data'][i][\"payment_amount\"] !== undefined) {\n                res['data'][i]['payment_amount'] = this.convertToFloatValue(res['data'][i]['payment_amount']);\n              }\n            }\n          }\n          this.isDownLoadButtondisabled = false;\n          this.xlFileService.exportAsExcelFile(res['data'], this.getFileName(this.reportsForm.get('selectedreport').value, selectedStartDate, selectedEndDate));\n        }, error => {\n          this.isDownLoadButtondisabled = false;\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n        });\n      } else if (selectedReportName === 'PAYMENT_FAILURE_EVENT') {\n        this.paymentViewService.downloadFailureReport(selectedStartDate, selectedEndDate).subscribe(response => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          const result = {\n            data: JSON.parse(response)['payment_failure_report_list']\n          };\n          let res = {\n            data: this.applyDateFormat(result)\n          };\n          if (result['data'].length > 0) {\n            for (var i = 0; i < res['data'].length; i++) {\n              if (res['data'][i][\"disputed_amount\"] !== undefined) {\n                res['data'][i]['disputed_amount'] = this.convertToFloatValue(res['data'][i][\"disputed_amount\"]);\n              }\n              if (res['data'][i][\"representment_status\"] !== undefined) {\n                res['data'][i]['representment_status'] = res['data'][i][\"representment_status\"].toLowerCase() === 'yes' ? 'Success' : 'Failure';\n              }\n              if (res['data'][i]['representment_status'] === undefined) {\n                res['data'][i]['representment_status'] = 'No representment received';\n              }\n              if (res['data'][i]['representment_date'] === undefined) {\n                res['data'][i]['representment_date'] = 'N/A';\n              }\n              if (res['data'][i]['refund_reference'] === undefined) {\n                res['data'][i]['refund_reference'] = 'No refund available';\n              }\n              if (res['data'][i]['refund_amount'] === undefined) {\n                res['data'][i]['refund_amount'] = 'N/A';\n              }\n              if (res['data'][i]['refund_date'] === undefined) {\n                res['data'][i]['refund_date'] = 'N/A';\n              }\n              if (res['data'][i]['document_control_number'] === undefined) {\n                res['data'][i]['document_control_number'] = 'N/A';\n              }\n            }\n          }\n          this.isDownLoadButtondisabled = false;\n          this.xlFileService.exportAsExcelFile(res['data'], this.getFileName(this.reportsForm.get('selectedreport').value, selectedStartDate, selectedEndDate));\n        }, error => {\n          this.isDownLoadButtondisabled = false;\n          const errorContent = error.replace(/[^a-zA-Z ]/g, '').trim();\n          const statusCode = error.replace(/[^a-zA-Z0-9 ]/g, '').trim().split(' ')[0];\n          if (statusCode === '404') {\n            this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, true, errorContent);\n          } else {\n            this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n          }\n        });\n      } else {\n        this.bulkScaningPaymentService.downloadSelectedReport(selectedReportName, selectedStartDate, selectedEndDate).subscribe(response => {\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(false, false, '');\n          const result = JSON.parse(response);\n          let res = {\n            data: this.applyDateFormat(result)\n          };\n          if (res['data'].length === 0 && selectedReportName === 'DATA_LOSS') {\n            res.data = dataLossRptDefault;\n          } else if (res['data'].length === 0 && selectedReportName === 'UNPROCESSED') {\n            res.data = unProcessedRptDefault;\n          }\n          if (result['data'].length > 0) {\n            for (var i = 0; i < res['data'].length; i++) {\n              if (res['data'][i][\"amount\"] !== undefined) {\n                res['data'][i]['amount'] = this.convertToFloatValue(res['data'][i]['amount']);\n              }\n              if (res['data'][i][\"payment_asset_dcn\"] !== undefined) {\n                res['data'][i]['env_ref'] = res['data'][i][\"payment_asset_dcn\"].substr(0, 13);\n                res['data'][i]['env_item'] = res['data'][i][\"payment_asset_dcn\"].substr(13, 21);\n              }\n            }\n          }\n          this.isDownLoadButtondisabled = false;\n          this.xlFileService.exportAsExcelFile(res['data'], this.getFileName(this.reportsForm.get('selectedreport').value, selectedStartDate, selectedEndDate));\n        }, error => {\n          this.isDownLoadButtondisabled = false;\n          this.errorMessage = this.errorHandlerService.getServerErrorMessage(true, false, '');\n        });\n      }\n    }\n    getFileName(selectedOption, startDate, endDate) {\n      const loc = 'en-US',\n        stDt = formatDate(startDate, 'ddMMyy', loc),\n        enDt = formatDate(endDate, 'ddMMyy', loc),\n        now = new Date(),\n        currentDate = formatDate(now, 'ddMMyy', loc),\n        timestamp = `${currentDate}_${this.getTwodigit(now.getHours())}${this.getTwodigit(now.getMinutes())}${this.getTwodigit(now.getSeconds())}`,\n        selectedOptionTxt = this.getCamelCaseString(selectedOption);\n      return selectedOptionTxt + '_' + stDt + '_To_' + enDt + '_Run_' + timestamp;\n    }\n    tranformDate(strDate) {\n      let result = '';\n      if (strDate) {\n        let parts = strDate.split('-');\n        result = `${parts[1]}/${parts[2]}/${parts[0]}`;\n      }\n      return result;\n    }\n    getTwodigit(input) {\n      return (\"0\" + input).slice(-2);\n    }\n    getCamelCaseString(selectedOption) {\n      let result;\n      switch (selectedOption) {\n        case 'UNPROCESSED':\n          {\n            result = 'Unprocessed';\n            break;\n          }\n        case 'DATA_LOSS':\n          {\n            result = 'Data_Loss';\n            break;\n          }\n        case 'PROCESSED_UNALLOCATED':\n          {\n            result = 'Processed_Unallocated';\n            break;\n          }\n        case 'SURPLUS_AND_SHORTFALL':\n          {\n            result = 'Over Payment_Under Payment';\n            break;\n          }\n        case 'PAYMENT_FAILURE_EVENT':\n          {\n            result = 'Payment failure event';\n            break;\n          }\n        default:\n          {\n            result = selectedOption;\n            break;\n          }\n      }\n      return result;\n    }\n    applyDateFormat(res) {\n      return res['data'].map(value => {\n        if (value['date_banked']) {\n          value['date_banked'] = formatDate(value['date_banked'], this.fmt, this.loc);\n        }\n        if (value['event_date'] && value['event_date'].indexOf(',') === -1) {\n          value['event_date'] = formatDate(value['event_date'], this.fmt, this.loc);\n        } else if (value['event_date'] && value['event_date'].indexOf(',') !== -1) {\n          value['event_date'] = this.multiDateFormater(value['event_date']);\n        }\n        if (value['representment_date'] && value['representment_date'].indexOf(',') === -1) {\n          value['representment_date'] = formatDate(value['representment_date'], this.fmt, this.loc);\n        } else if (value['representment_date'] && value['representment_date'].indexOf(',') !== -1) {\n          value['representment_date'] = this.multiDateFormater(value['representment_date']);\n        }\n        if (value['refund_date'] && value['refund_date'].indexOf(',') === -1) {\n          value['refund_date'] = formatDate(value['refund_date'], this.fmt, this.loc);\n        } else if (value['refund_date'] && value['refund_date'].indexOf(',') !== -1) {\n          value['refund_date'] = this.multiDateFormater(value['refund_date']);\n        }\n        return value;\n      });\n    }\n    multiDateFormater(dateStr) {\n      return dateStr.split(',').map(date => formatDate(date, this.fmt, this.loc)).join(',');\n    }\n    convertToFloatValue(amt) {\n      return amt ? Number.parseFloat(amt).toFixed(2) : '0.00';\n    }\n    static ɵfac = function ReportsComponent_Factory(t) {\n      return new (t || ReportsComponent)(i0.ɵɵdirectiveInject(XlFileService), i0.ɵɵdirectiveInject(ErrorHandlerService), i0.ɵɵdirectiveInject(i1$1.FormBuilder), i0.ɵɵdirectiveInject(BulkScaningPaymentService), i0.ɵɵdirectiveInject(PaymentViewService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ReportsComponent,\n      selectors: [[\"ccpay-reports\"]],\n      inputs: {\n        ISPAYMENTSTATUSENABLED: \"ISPAYMENTSTATUSENABLED\"\n      },\n      decls: 48,\n      vars: 7,\n      consts: [[1, \"header\"], [\"type\", \"hidden\", \"value\", \"REPORTS\", 1, \"iFrameDrivenImageValue\"], [\"myInput\", \"\"], [3, \"errorMessage\", 4, \"ngIf\"], [1, \"govuk-fieldset__legend--xl\"], [1, \"govuk-fieldset__heading\"], [3, \"formGroup\"], [1, \"govuk-form-group\"], [\"data-module\", \"govuk-radios\", 1, \"govuk-radios\", \"govuk-radios--conditional\"], [1, \"govuk-radios__item\"], [\"required\", \"\", \"id\", \"DataLoss\", \"formControlName\", \"selectedreport\", \"name\", \"selectedreport\", \"type\", \"radio\", \"value\", \"DATA_LOSS\", \"data-aria-controls\", \"DataLoss\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"DataLoss\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [1, \"form-hint\"], [\"id\", \"UnprocessedTransactions\", \"formControlName\", \"selectedreport\", \"name\", \"selectedreport\", \"type\", \"radio\", \"value\", \"UNPROCESSED\", \"data-aria-controls\", \"UnprocessedTransactions\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"UnprocessedTransactions\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [\"id\", \"ProcessedUnallocated\", \"formControlName\", \"selectedreport\", \"name\", \"selectedreport\", \"type\", \"radio\", \"value\", \"PROCESSED_UNALLOCATED\", \"data-aria-controls\", \"ProcessedUnallocated\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"ProcessedUnallocated\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [\"id\", \"ShortfallsandSurplus\", \"formControlName\", \"selectedreport\", \"name\", \"selectedreport\", \"type\", \"radio\", \"value\", \"SURPLUS_AND_SHORTFALL\", \"data-aria-controls\", \"ShortfallsandSurplus\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"ShortfallsandSurplus\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [\"class\", \"govuk-radios__item\", 4, \"ngIf\"], [1, \"datefrom\"], [\"for\", \"date-from\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [\"id\", \"date-from\", \"name\", \"date-from\", \"type\", \"date\", \"formControlName\", \"startDate\", \"required\", \"\", 1, \"form-control\", 3, \"max\", \"change\"], [1, \"dateto\"], [\"for\", \"date-to\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [\"id\", \"date-to\", \"name\", \"search\", \"type\", \"date\", \"formControlName\", \"endDate\", \"required\", \"\", 1, \"form-control\", 3, \"max\", \"change\"], [\"class\", \"inline-error-message\", 4, \"ngIf\"], [1, \"btnsubmit\"], [\"type\", \"submit\", 1, \"button\", 3, \"disabled\", \"click\"], [3, \"errorMessage\"], [\"id\", \"PaymentFailureEvent\", \"formControlName\", \"selectedreport\", \"name\", \"selectedreport\", \"type\", \"radio\", \"value\", \"PAYMENT_FAILURE_EVENT\", \"data-aria-controls\", \"PaymentFailureEvent\", 1, \"govuk-radios__input\", 3, \"click\"], [\"for\", \"PaymentFailureEvent\", 1, \"govuk-label\", \"govuk-radios__label\", \"govuk-label--m\"], [1, \"inline-error-message\"], [4, \"ngIf\"]],\n      template: function ReportsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"input\", 1, 2);\n          i0.ɵɵtemplate(3, ReportsComponent_ccpay_error_banner_3_Template, 1, 1, \"ccpay-error-banner\", 3);\n          i0.ɵɵelementStart(4, \"legend\", 4)(5, \"h1\", 5);\n          i0.ɵɵtext(6, \" Choose the report type and date range\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"form\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"input\", 10);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_input_click_11_listener() {\n            return ctx.validateDates(\"DATA_LOSS\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"label\", 11);\n          i0.ɵɵtext(13, \"Data loss\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"span\", 12);\n          i0.ɵɵtext(15, \"Missing transactions where data has been received from only either of Exela or Bulk scan\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 9)(17, \"input\", 13);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_input_click_17_listener() {\n            return ctx.validateDates(\"UNPROCESSED\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"label\", 14);\n          i0.ɵɵtext(19, \"Unprocessed transactions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"span\", 12);\n          i0.ɵɵtext(21, \"Transaction records that are still unprocessed by staff.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 9)(23, \"input\", 15);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_input_click_23_listener() {\n            return ctx.validateDates(\"PROCESSED_UNALLOCATED\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"label\", 16);\n          i0.ɵɵtext(25, \"Processed unallocated\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"span\", 12);\n          i0.ɵɵtext(27, \"Payments that are marked as \\u2018Unidentified\\u2019 or \\u2018Transferred\\u2019 (Unsolicited requests)\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 9)(29, \"input\", 17);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_input_click_29_listener() {\n            return ctx.validateDates(\"SURPLUS_AND_SHORTFALL\");\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"label\", 18);\n          i0.ɵɵtext(31, \"Under payment and Over payment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"span\", 12);\n          i0.ɵɵtext(33, \"Requests where balances are marked as Under payment/Over payment further case management. E.g: Refund approval, Customer contact\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(34, ReportsComponent_div_34_Template, 6, 0, \"div\", 19);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 7)(36, \"div\", 20)(37, \"label\", 21);\n          i0.ɵɵtext(38, \"Date from\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"input\", 22);\n          i0.ɵɵlistener(\"change\", function ReportsComponent_Template_input_change_39_listener() {\n            return ctx.getSelectedFromDate();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(40, \"div\", 23)(41, \"label\", 24);\n          i0.ɵɵtext(42, \"Date to\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"input\", 25);\n          i0.ɵɵlistener(\"change\", function ReportsComponent_Template_input_change_43_listener() {\n            return ctx.getSelectedFromDate();\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(44, ReportsComponent_p_44_Template, 4, 3, \"p\", 26);\n          i0.ɵɵelementStart(45, \"div\", 27)(46, \"button\", 28);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_button_click_46_listener() {\n            return ctx.downloadReport();\n          });\n          i0.ɵɵtext(47, \"Download report\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage.showError);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"formGroup\", ctx.reportsForm);\n          i0.ɵɵadvance(27);\n          i0.ɵɵproperty(\"ngIf\", ctx.ISPAYMENTSTATUSENABLED);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"max\", ctx.getToday());\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"max\", ctx.getToday());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isStartDateLesthanEndDate || ctx.isDateRangeBetnWeek || ctx.isDateBetwnMonth);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", !ctx.reportsForm.valid || ctx.isDownLoadButtondisabled || ctx.isStartDateLesthanEndDate || ctx.isDateRangeBetnWeek);\n        }\n      },\n      dependencies: [i3.NgIf, i1$1.ɵNgNoValidate, i1$1.DefaultValueAccessor, i1$1.RadioControlValueAccessor, i1$1.NgControlStatus, i1$1.NgControlStatusGroup, i1$1.RequiredValidator, i1$1.FormGroupDirective, i1$1.FormControlName, ErrorBannerComponent],\n      styles: [\".govuk-radios__input[_ngcontent-%COMP%]:focus + .govuk-radios__label[_ngcontent-%COMP%]:before{border-width:4px;box-shadow:0 0 0 4px #ffaf00}.datefrom[_ngcontent-%COMP%]{width:50%;float:left}.dateto[_ngcontent-%COMP%]{width:50%;float:right}.govuk-label--m[_ngcontent-%COMP%]{font-size:large}.form-hint[_ngcontent-%COMP%]{padding-left:.7em}.header[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:15px}.btnsubmit[_ngcontent-%COMP%]{margin-bottom:30px}.inline-error-message[_ngcontent-%COMP%]{color:#a71414;font-weight:700;margin-top:10px}\"]\n    });\n  }\n  return ReportsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentLibComponent = /*#__PURE__*/(() => {\n  class PaymentLibComponent {\n    paymentLibService;\n    cd;\n    OrderslistService;\n    API_ROOT;\n    BULKSCAN_API_ROOT;\n    REFUNDS_API_ROOT;\n    NOTIFICATION_API_ROOT;\n    CARDPAYMENTRETURNURL;\n    CCD_CASE_NUMBER;\n    EXC_REFERENCE;\n    PAYMENT_METHOD;\n    VIEW;\n    VIEWSERVICE;\n    PAYMENT_GROUP_REF;\n    TAKEPAYMENT;\n    SERVICEREQUEST;\n    DCN_NUMBER;\n    SELECTED_OPTION;\n    ISBSENABLE;\n    ISSFENABLE;\n    ISTURNOFF;\n    CASETYPE;\n    ISPAYMENTSTATUSENABLED;\n    rootUrl;\n    REFUNDLIST;\n    USERID;\n    LOGGEDINUSERROLES;\n    LOGGEDINUSEREMAIL;\n    isFromServiceRequestPage;\n    paymentMethod;\n    bspaymentdcn;\n    unProcessedPaymentServiceId = null;\n    paymentGroupReference;\n    paymentReference;\n    refundReference;\n    isFromPayBubble = false;\n    refundlistsource;\n    viewName;\n    isTurnOff;\n    caseType;\n    unProcessedPayment = null;\n    isRefundStatusView;\n    isRedirectFromCaseTransactionPage;\n    isCallFromRefundList;\n    isFromRefundStatusPage;\n    iscancelClicked;\n    isFromPaymentDetailPage;\n    pbaPayOrderRef;\n    isTakePayment;\n    orderDetail;\n    orderRef;\n    orderStatus;\n    orderParty;\n    orderCreated;\n    orderCCDEvent;\n    serviceRequestValue;\n    orderAddBtnEnable;\n    orderFeesTotal = 0.00;\n    orderRemissionTotal = 0.00;\n    orderTotalPayments = 0.00;\n    orderPendingPayments = 0.00;\n    constructor(paymentLibService, cd, OrderslistService) {\n      this.paymentLibService = paymentLibService;\n      this.cd = cd;\n      this.OrderslistService = OrderslistService;\n    }\n    ngAfterContentChecked() {\n      this.cd.detectChanges();\n    }\n    ngOnInit() {\n      this.paymentLibService.setApiRootUrl(this.API_ROOT);\n      this.paymentLibService.setBulkScanApiRootUrl(this.BULKSCAN_API_ROOT);\n      this.paymentLibService.setRefundndsApiRootUrl(this.REFUNDS_API_ROOT);\n      this.paymentLibService.setNoticationApiRootUrl(this.NOTIFICATION_API_ROOT);\n      this.paymentLibService.setCardPaymentReturnUrl(this.CARDPAYMENTRETURNURL);\n      if (this.LOGGEDINUSERROLES.length > 0) {\n        this.OrderslistService.setUserRolesList(this.LOGGEDINUSERROLES);\n      }\n      if (this.PAYMENT_GROUP_REF) {\n        this.paymentGroupReference = this.PAYMENT_GROUP_REF;\n      }\n      if (this.DCN_NUMBER) {\n        this.bspaymentdcn = this.DCN_NUMBER;\n      }\n      if (this.REFUNDLIST === \"true\") {\n        this.VIEW = 'refund-list';\n        this.viewName = this.VIEW;\n      }\n      if (this.VIEW === 'fee-summary') {\n        this.viewName = 'fee-summary';\n      } else if (this.VIEW !== 'reports' && this.VIEW !== 'refund-list') {\n        this.viewName = 'case-transactions';\n      } else {\n        this.viewName = this.VIEW;\n      }\n      if (this.isTakePayment) {\n        this.TAKEPAYMENT = true;\n      }\n      if (this.API_ROOT == 'api/payment-history') {\n        this.isFromPayBubble = true;\n      }\n    }\n    static ɵfac = function PaymentLibComponent_Factory(t) {\n      return new (t || PaymentLibComponent)(i0.ɵɵdirectiveInject(PaymentLibService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(OrderslistService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PaymentLibComponent,\n      selectors: [[\"ccpay-payment-lib\"]],\n      inputs: {\n        API_ROOT: \"API_ROOT\",\n        BULKSCAN_API_ROOT: \"BULKSCAN_API_ROOT\",\n        REFUNDS_API_ROOT: \"REFUNDS_API_ROOT\",\n        NOTIFICATION_API_ROOT: \"NOTIFICATION_API_ROOT\",\n        CARDPAYMENTRETURNURL: \"CARDPAYMENTRETURNURL\",\n        CCD_CASE_NUMBER: \"CCD_CASE_NUMBER\",\n        EXC_REFERENCE: \"EXC_REFERENCE\",\n        PAYMENT_METHOD: \"PAYMENT_METHOD\",\n        VIEW: \"VIEW\",\n        VIEWSERVICE: \"VIEWSERVICE\",\n        PAYMENT_GROUP_REF: \"PAYMENT_GROUP_REF\",\n        TAKEPAYMENT: \"TAKEPAYMENT\",\n        SERVICEREQUEST: \"SERVICEREQUEST\",\n        DCN_NUMBER: \"DCN_NUMBER\",\n        SELECTED_OPTION: \"SELECTED_OPTION\",\n        ISBSENABLE: \"ISBSENABLE\",\n        ISSFENABLE: \"ISSFENABLE\",\n        ISTURNOFF: \"ISTURNOFF\",\n        CASETYPE: \"CASETYPE\",\n        ISPAYMENTSTATUSENABLED: \"ISPAYMENTSTATUSENABLED\",\n        rootUrl: \"rootUrl\",\n        REFUNDLIST: \"REFUNDLIST\",\n        USERID: \"USERID\",\n        LOGGEDINUSERROLES: \"LOGGEDINUSERROLES\",\n        LOGGEDINUSEREMAIL: \"LOGGEDINUSEREMAIL\",\n        isFromServiceRequestPage: \"isFromServiceRequestPage\"\n      },\n      features: [i0.ɵɵProvidersFeature([{\n        provide: 'PAYMENT_LIB',\n        useExisting: forwardRef(() => PaymentLibComponent)\n      }])],\n      decls: 12,\n      vars: 12,\n      consts: [[3, \"USERID\", \"LOGGEDINUSERROLES\", \"LOGGEDINUSEREMAIL\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"LOGGEDINUSERROLES\", \"API_ROOT\", 4, \"ngIf\"], [3, \"LOGGEDINUSERROLES\", \"isTurnOff\", \"isTakePayment\", \"caseType\", \"ISPAYMENTSTATUSENABLED\", 4, \"ngIf\"], [3, \"refundReference\", \"refundlistsource\", 4, \"ngIf\"], [3, \"pbaPayOrderRef\", 4, \"ngIf\"], [3, \"isTakePayment\", \"isFromServiceRequestPage\", \"LOGGEDINUSERROLES\", 4, \"ngIf\"], [3, \"caseType\", 4, \"ngIf\"], [3, \"isTurnOff\", \"caseType\", 4, \"ngIf\"], [3, \"ccdCaseNumber\", \"paymentGroupRef\", \"isTurnOff\", \"caseType\", 4, \"ngIf\"], [3, \"ISPAYMENTSTATUSENABLED\", 4, \"ngIf\"], [3, \"USERID\", \"LOGGEDINUSERROLES\", \"LOGGEDINUSEREMAIL\"], [3, \"LOGGEDINUSERROLES\", \"API_ROOT\"], [3, \"LOGGEDINUSERROLES\", \"isTurnOff\", \"isTakePayment\", \"caseType\", \"ISPAYMENTSTATUSENABLED\"], [3, \"refundReference\", \"refundlistsource\"], [3, \"pbaPayOrderRef\"], [3, \"isTakePayment\", \"isFromServiceRequestPage\", \"LOGGEDINUSERROLES\"], [3, \"caseType\"], [3, \"isTurnOff\", \"caseType\"], [3, \"ccdCaseNumber\", \"paymentGroupRef\", \"isTurnOff\", \"caseType\"], [3, \"ISPAYMENTSTATUSENABLED\"]],\n      template: function PaymentLibComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, PaymentLibComponent_ccpay_refund_list_0_Template, 1, 3, \"ccpay-refund-list\", 0);\n          i0.ɵɵtemplate(1, PaymentLibComponent_ccpay_payment_list_1_Template, 1, 0, \"ccpay-payment-list\", 1);\n          i0.ɵɵtemplate(2, PaymentLibComponent_ccpay_refund_status_2_Template, 1, 2, \"ccpay-refund-status\", 2);\n          i0.ɵɵtemplate(3, PaymentLibComponent_ccpay_payment_view_3_Template, 1, 5, \"ccpay-payment-view\", 3);\n          i0.ɵɵtemplate(4, PaymentLibComponent_ccpay_process_refund_4_Template, 1, 2, \"ccpay-process-refund\", 4);\n          i0.ɵɵtemplate(5, PaymentLibComponent_ccpay_pba_payment_5_Template, 1, 1, \"ccpay-pba-payment\", 5);\n          i0.ɵɵtemplate(6, PaymentLibComponent_ccpay_case_transactions_6_Template, 1, 3, \"ccpay-case-transactions\", 6);\n          i0.ɵɵtemplate(7, PaymentLibComponent_app_mark_unidentified_payment_7_Template, 1, 1, \"app-mark-unidentified-payment\", 7);\n          i0.ɵɵtemplate(8, PaymentLibComponent_app_mark_unsolicited_payment_8_Template, 1, 1, \"app-mark-unsolicited-payment\", 7);\n          i0.ɵɵtemplate(9, PaymentLibComponent_app_allocate_payments_9_Template, 1, 2, \"app-allocate-payments\", 8);\n          i0.ɵɵtemplate(10, PaymentLibComponent_ccpay_fee_summary_10_Template, 1, 4, \"ccpay-fee-summary\", 9);\n          i0.ɵɵtemplate(11, PaymentLibComponent_ccpay_reports_11_Template, 1, 1, \"ccpay-reports\", 10);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"refund-list\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"payment-list\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"refundstatuslist\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"payment-view\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"process-refund\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"pba-payment\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"case-transactions\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"unidentifiedPage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"unsolicitedPage\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"allocate-payments\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"fee-summary\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.viewName === \"reports\");\n        }\n      },\n      dependencies: [i3.NgIf, PaymentViewComponent, CaseTransactionsComponent, RefundStatusComponent, PaymentListComponent, PbaPaymentComponent, ProcessRefundComponent, RefundListComponent, MarkUnidentifiedPaymentComponent, MarkUnsolicitedPaymentComponent, AllocatePaymentsComponent, FeeSummaryComponent, ReportsComponent],\n      encapsulation: 2\n    });\n  }\n  return PaymentLibComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CardDetailsService = /*#__PURE__*/(() => {\n  class CardDetailsService {\n    http;\n    logger;\n    errorHandlerService;\n    paymentLibService;\n    constructor(http, logger, errorHandlerService, paymentLibService) {\n      this.http = http;\n      this.logger = logger;\n      this.errorHandlerService = errorHandlerService;\n      this.paymentLibService = paymentLibService;\n    }\n    getCardDetails(paymentReference) {\n      this.logger.info('Card-detail-service getCardDetails for: ', paymentReference);\n      return this.http.get(`${this.paymentLibService.API_ROOT}/card-payments/${paymentReference}/details`, {\n        withCredentials: true\n      }).pipe(catchError(this.errorHandlerService.handleError));\n    }\n    static ɵfac = function CardDetailsService_Factory(t) {\n      return new (t || CardDetailsService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(LoggerService), i0.ɵɵinject(ErrorHandlerService), i0.ɵɵinject(PaymentLibService));\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: CardDetailsService,\n      factory: CardDetailsService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return CardDetailsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CardDetailsComponent = /*#__PURE__*/(() => {\n  class CardDetailsComponent {\n    cardDetailsService;\n    paymentLibComponent;\n    pageTitle = 'Card details';\n    cardDetails;\n    paymentReference;\n    errorMessage;\n    constructor(cardDetailsService, paymentLibComponent) {\n      this.cardDetailsService = cardDetailsService;\n      this.paymentLibComponent = paymentLibComponent;\n    }\n    ngOnInit() {\n      this.cardDetailsService.getCardDetails(this.paymentLibComponent.paymentReference).subscribe(cardDetails => this.cardDetails = cardDetails, error => this.errorMessage = error);\n    }\n    get getPaymentReference() {\n      return this.paymentReference;\n    }\n    static ɵfac = function CardDetailsComponent_Factory(t) {\n      return new (t || CardDetailsComponent)(i0.ɵɵdirectiveInject(CardDetailsService), i0.ɵɵdirectiveInject(PaymentLibComponent));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: CardDetailsComponent,\n      selectors: [[\"ccpay-card-details\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"column\"], [1, \"heading-medium\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\", 4, \"ngIf\"], [4, \"ngIf\"], [\"role\", \"group\", \"aria-labelledby\", \"failure-error-summary-heading\", \"tabindex\", \"-1\"], [1, \"bold\", \"tb-col-w\"]],\n      template: function CardDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Payment method\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(3, CardDetailsComponent_div_3_Template, 2, 0, \"div\", 2);\n          i0.ɵɵtemplate(4, CardDetailsComponent_div_4_Template, 13, 1, \"div\", 3);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.errorMessage && ctx.cardDetails);\n        }\n      },\n      dependencies: [i3.NgIf],\n      styles: [\".tb-col-w[_ngcontent-%COMP%]{width:330px}\"]\n    });\n  }\n  return CardDetailsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageNotFoundComponent = /*#__PURE__*/(() => {\n  class PageNotFoundComponent {\n    static ɵfac = function PageNotFoundComponent_Factory(t) {\n      return new (t || PageNotFoundComponent)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PageNotFoundComponent,\n      selectors: [[\"ng-component\"]],\n      decls: 2,\n      vars: 0,\n      template: function PageNotFoundComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1, \"This is not the page you were looking for!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      encapsulation: 2\n    });\n  }\n  return PageNotFoundComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PbaDetailsComponent = /*#__PURE__*/(() => {\n  class PbaDetailsComponent {\n    payment;\n    constructor() {}\n    ngOnInit() {}\n    static ɵfac = function PbaDetailsComponent_Factory(t) {\n      return new (t || PbaDetailsComponent)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: PbaDetailsComponent,\n      selectors: [[\"ccpay-pba-details\"]],\n      inputs: {\n        payment: \"payment\"\n      },\n      decls: 18,\n      vars: 6,\n      consts: [[1, \"heading-large\"], [1, \"bold\", \"tb-col-w\"], [1, \"capitalize\"], [4, \"ngIf\"]],\n      template: function PbaDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\", 0);\n          i0.ɵɵtext(1, \"Payment method\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"table\")(3, \"tbody\")(4, \"tr\")(5, \"td\", 1);\n          i0.ɵɵtext(6, \"Method\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"td\", 2);\n          i0.ɵɵtext(8);\n          i0.ɵɵpipe(9, \"lowercase\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"tr\")(11, \"td\", 1);\n          i0.ɵɵtext(12, \"Type\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"td\");\n          i0.ɵɵtext(14, \"Credit\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(15, PbaDetailsComponent_tr_15_Template, 5, 1, \"tr\", 3);\n          i0.ɵɵtemplate(16, PbaDetailsComponent_tr_16_Template, 5, 1, \"tr\", 3);\n          i0.ɵɵtemplate(17, PbaDetailsComponent_tr_17_Template, 5, 1, \"tr\", 3);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 4, ctx.payment.method));\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.payment.organisation_name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.payment.account_number);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.payment.customer_reference);\n        }\n      },\n      dependencies: [i3.NgIf, i3.LowerCasePipe],\n      styles: [\".capitalize[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.tb-col-w[_ngcontent-%COMP%]{width:330px}\"]\n    });\n  }\n  return PbaDetailsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet isDebugMode = false;\nconst noop = () => undefined;\nlet ConsoleLoggerService = /*#__PURE__*/(() => {\n  class ConsoleLoggerService {\n    get info() {\n      if (isDebugMode) {\n        return console.info.bind(console);\n      } else {\n        return noop;\n      }\n    }\n    get warn() {\n      if (isDebugMode) {\n        return console.warn.bind(console);\n      } else {\n        return noop;\n      }\n    }\n    get error() {\n      if (isDebugMode) {\n        return console.error.bind(console);\n      } else {\n        return noop;\n      }\n    }\n    invokeConsoleMethod(type, args) {\n      const logFn = console[type] || console.log || noop;\n      logFn.apply(console, [args]);\n    }\n    static ɵfac = function ConsoleLoggerService_Factory(t) {\n      return new (t || ConsoleLoggerService)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: ConsoleLoggerService,\n      factory: ConsoleLoggerService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ConsoleLoggerService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProcessedPaymentsComponent = /*#__PURE__*/(() => {\n  class ProcessedPaymentsComponent {\n    router;\n    bulkScaningPaymentService;\n    NONPAYMENTS;\n    goToPaymentViewComponent = new EventEmitter();\n    constructor(router, bulkScaningPaymentService) {\n      this.router = router;\n      this.bulkScaningPaymentService = bulkScaningPaymentService;\n    }\n    ngOnInit() {}\n    trimUnderscore(method) {\n      return this.bulkScaningPaymentService.removeUnwantedString(method, ' ');\n    }\n    redirectToPaymentViewPage(paymentGroupReference, paymentReference, paymentMethod) {\n      this.goToPaymentViewComponent.emit({\n        paymentGroupReference,\n        paymentReference,\n        paymentMethod\n      });\n    }\n    static ɵfac = function ProcessedPaymentsComponent_Factory(t) {\n      return new (t || ProcessedPaymentsComponent)(i0.ɵɵdirectiveInject(i1$2.Router), i0.ɵɵdirectiveInject(BulkScaningPaymentService));\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: ProcessedPaymentsComponent,\n      selectors: [[\"ccpay-app-processed-payments\"]],\n      inputs: {\n        NONPAYMENTS: \"NONPAYMENTS\"\n      },\n      outputs: {\n        goToPaymentViewComponent: \"goToPaymentViewComponent\"\n      },\n      decls: 19,\n      vars: 2,\n      consts: [[1, \"processed-payments\", \"govuk-grid-column-full\", \"govuk-!-padding-bottom-3\"], [1, \"heading-medium\"], [1, \"govuk-table\"], [1, \"govuk-table__head\"], [1, \"govuk-table__row\"], [\"scope\", \"col\", 1, \"govuk-table__header\"], [1, \"govuk-table__body\"], [\"class\", \"govuk-table__row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"govuk-table__row\", 4, \"ngIf\"], [1, \"govuk-table__cell\"], [\"href\", \"javascript:void(0)\", 3, \"click\"], [1, \"capitalize\", \"govuk-table__cell\"], [\"colspan\", \"5\", 1, \"govuk-table__cell\"]],\n      template: function ProcessedPaymentsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2, \"Processed payments\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"table\", 2)(4, \"thead\", 3)(5, \"tr\", 4)(6, \"td\", 5);\n          i0.ɵɵtext(7, \"Payment asset number (DCN)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"td\", 5);\n          i0.ɵɵtext(9, \"Banked date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"td\", 5);\n          i0.ɵɵtext(11, \"Amount\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"td\", 5);\n          i0.ɵɵtext(13, \"Method\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"td\", 5);\n          i0.ɵɵtext(15, \"Allocation status\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"tbody\", 6);\n          i0.ɵɵtemplate(17, ProcessedPaymentsComponent_tr_17_Template, 15, 15, \"tr\", 7);\n          i0.ɵɵtemplate(18, ProcessedPaymentsComponent_tr_18_Template, 3, 0, \"tr\", 8);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(17);\n          i0.ɵɵproperty(\"ngForOf\", ctx.NONPAYMENTS);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.NONPAYMENTS.length === 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i3.LowerCasePipe, i3.CurrencyPipe, i3.DatePipe],\n      styles: [\".lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.capitalize[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}\"]\n    });\n  }\n  return ProcessedPaymentsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SanitizeHtmlPipe = /*#__PURE__*/(() => {\n  class SanitizeHtmlPipe {\n    sanitizer;\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n    }\n    transform(value) {\n      return this.sanitizer.bypassSecurityTrustHtml(value);\n    }\n    static ɵfac = function SanitizeHtmlPipe_Factory(t) {\n      return new (t || SanitizeHtmlPipe)(i0.ɵɵdirectiveInject(i2.DomSanitizer, 16));\n    };\n    static ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n      name: \"sanitizeHtml\",\n      type: SanitizeHtmlPipe,\n      pure: true\n    });\n  }\n  return SanitizeHtmlPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentLibModule = /*#__PURE__*/(() => {\n  class PaymentLibModule {\n    static ɵfac = function PaymentLibModule_Factory(t) {\n      return new (t || PaymentLibModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: PaymentLibModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      providers: [{\n        provide: LoggerService,\n        useClass: ConsoleLoggerService\n      }, XlFileService, WebComponentHttpClient],\n      imports: [CommonModule, HttpClientModule, FormsModule, ReactiveFormsModule, MatTableModule, MatPaginatorModule, MatSortModule, MatFormFieldModule, MatInputModule, PaymentViewComponent, ContactDetailsComponent, AddRemissionComponent, ServiceRequestComponent, NotificationPreviewComponent, CaseTransactionsComponent, AddRemissionComponent, UnprocessedPaymentsComponent, RefundStatusComponent\n      // BrowserAnimationsModule,\n      // NoopAnimationsModule\n      ]\n    });\n  }\n  return PaymentLibModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of payment-lib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { PaymentLibComponent, PaymentLibModule, PaymentLibService };\n//# sourceMappingURL=hmcts-ccpay-web-component.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}